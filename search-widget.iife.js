(function(){"use strict";function U1(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var pl={exports:{}},$i={};var dm;function I1(){if(dm)return $i;dm=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function a(s,c,o){var f=null;if(o!==void 0&&(f=""+o),c.key!==void 0&&(f=""+c.key),"key"in c){o={};for(var h in c)h!=="key"&&(o[h]=c[h])}else o=c;return c=o.ref,{$$typeof:e,type:s,key:f,ref:c!==void 0?c:null,props:o}}return $i.Fragment=t,$i.jsx=a,$i.jsxs=a,$i}var fm;function F1(){return fm||(fm=1,pl.exports=I1()),pl.exports}var Ke=F1(),vl={exports:{}},Gi={},Sl={exports:{}},bl={};var hm;function k1(){return hm||(hm=1,(function(e){function t(E,L){var te=E.length;E.push(L);e:for(;0<te;){var ue=te-1>>>1,fe=E[ue];if(0<c(fe,L))E[ue]=L,E[te]=fe,te=ue;else break e}}function a(E){return E.length===0?null:E[0]}function s(E){if(E.length===0)return null;var L=E[0],te=E.pop();if(te!==L){E[0]=te;e:for(var ue=0,fe=E.length,D=fe>>>1;ue<D;){var Q=2*(ue+1)-1,W=E[Q],B=Q+1,ae=E[B];if(0>c(W,te))B<fe&&0>c(ae,W)?(E[ue]=ae,E[B]=te,ue=B):(E[ue]=W,E[Q]=te,ue=Q);else if(B<fe&&0>c(ae,te))E[ue]=ae,E[B]=te,ue=B;else break e}}return L}function c(E,L){var te=E.sortIndex-L.sortIndex;return te!==0?te:E.id-L.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var f=Date,h=f.now();e.unstable_now=function(){return f.now()-h}}var g=[],m=[],p=1,v=null,S=3,w=!1,C=!1,A=!1,O=!1,q=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;function U(E){for(var L=a(m);L!==null;){if(L.callback===null)s(m);else if(L.startTime<=E)s(m),L.sortIndex=L.expirationTime,t(g,L);else break;L=a(m)}}function Z(E){if(A=!1,U(E),!C)if(a(g)!==null)C=!0,k||(k=!0,ce());else{var L=a(m);L!==null&&N(Z,L.startTime-E)}}var k=!1,x=-1,z=5,K=-1;function J(){return O?!0:!(e.unstable_now()-K<z)}function ie(){if(O=!1,k){var E=e.unstable_now();K=E;var L=!0;try{e:{C=!1,A&&(A=!1,M(x),x=-1),w=!0;var te=S;try{t:{for(U(E),v=a(g);v!==null&&!(v.expirationTime>E&&J());){var ue=v.callback;if(typeof ue=="function"){v.callback=null,S=v.priorityLevel;var fe=ue(v.expirationTime<=E);if(E=e.unstable_now(),typeof fe=="function"){v.callback=fe,U(E),L=!0;break t}v===a(g)&&s(g),U(E)}else s(g);v=a(g)}if(v!==null)L=!0;else{var D=a(m);D!==null&&N(Z,D.startTime-E),L=!1}}break e}finally{v=null,S=te,w=!1}L=void 0}}finally{L?ce():k=!1}}}var ce;if(typeof R=="function")ce=function(){R(ie)};else if(typeof MessageChannel<"u"){var ve=new MessageChannel,ge=ve.port2;ve.port1.onmessage=ie,ce=function(){ge.postMessage(null)}}else ce=function(){q(ie,0)};function N(E,L){x=q(function(){E(e.unstable_now())},L)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(E){E.callback=null},e.unstable_forceFrameRate=function(E){0>E||125<E?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<E?Math.floor(1e3/E):5},e.unstable_getCurrentPriorityLevel=function(){return S},e.unstable_next=function(E){switch(S){case 1:case 2:case 3:var L=3;break;default:L=S}var te=S;S=L;try{return E()}finally{S=te}},e.unstable_requestPaint=function(){O=!0},e.unstable_runWithPriority=function(E,L){switch(E){case 1:case 2:case 3:case 4:case 5:break;default:E=3}var te=S;S=E;try{return L()}finally{S=te}},e.unstable_scheduleCallback=function(E,L,te){var ue=e.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?ue+te:ue):te=ue,E){case 1:var fe=-1;break;case 2:fe=250;break;case 5:fe=1073741823;break;case 4:fe=1e4;break;default:fe=5e3}return fe=te+fe,E={id:p++,callback:L,priorityLevel:E,startTime:te,expirationTime:fe,sortIndex:-1},te>ue?(E.sortIndex=te,t(m,E),a(g)===null&&E===a(m)&&(A?(M(x),x=-1):A=!0,N(Z,te-ue))):(E.sortIndex=fe,t(g,E),C||w||(C=!0,k||(k=!0,ce()))),E},e.unstable_shouldYield=J,e.unstable_wrapCallback=function(E){var L=S;return function(){var te=S;S=L;try{return E.apply(this,arguments)}finally{S=te}}}})(bl)),bl}var gm;function z1(){return gm||(gm=1,Sl.exports=k1()),Sl.exports}var wl={exports:{}},Se={};var mm;function N1(){if(mm)return Se;mm=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),f=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),S=Symbol.iterator;function w(D){return D===null||typeof D!="object"?null:(D=S&&D[S]||D["@@iterator"],typeof D=="function"?D:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,O={};function q(D,Q,W){this.props=D,this.context=Q,this.refs=O,this.updater=W||C}q.prototype.isReactComponent={},q.prototype.setState=function(D,Q){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,Q,"setState")},q.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function M(){}M.prototype=q.prototype;function R(D,Q,W){this.props=D,this.context=Q,this.refs=O,this.updater=W||C}var U=R.prototype=new M;U.constructor=R,A(U,q.prototype),U.isPureReactComponent=!0;var Z=Array.isArray;function k(){}var x={H:null,A:null,T:null,S:null},z=Object.prototype.hasOwnProperty;function K(D,Q,W){var B=W.ref;return{$$typeof:e,type:D,key:Q,ref:B!==void 0?B:null,props:W}}function J(D,Q){return K(D.type,Q,D.props)}function ie(D){return typeof D=="object"&&D!==null&&D.$$typeof===e}function ce(D){var Q={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(W){return Q[W]})}var ve=/\/+/g;function ge(D,Q){return typeof D=="object"&&D!==null&&D.key!=null?ce(""+D.key):Q.toString(36)}function N(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(k,k):(D.status="pending",D.then(function(Q){D.status==="pending"&&(D.status="fulfilled",D.value=Q)},function(Q){D.status==="pending"&&(D.status="rejected",D.reason=Q)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function E(D,Q,W,B,ae){var le=typeof D;(le==="undefined"||le==="boolean")&&(D=null);var we=!1;if(D===null)we=!0;else switch(le){case"bigint":case"string":case"number":we=!0;break;case"object":switch(D.$$typeof){case e:case t:we=!0;break;case p:return we=D._init,E(we(D._payload),Q,W,B,ae)}}if(we)return ae=ae(D),we=B===""?"."+ge(D,0):B,Z(ae)?(W="",we!=null&&(W=we.replace(ve,"$&/")+"/"),E(ae,Q,W,"",function(Xe){return Xe})):ae!=null&&(ie(ae)&&(ae=J(ae,W+(ae.key==null||D&&D.key===ae.key?"":(""+ae.key).replace(ve,"$&/")+"/")+we)),Q.push(ae)),1;we=0;var We=B===""?".":B+":";if(Z(D))for(var ke=0;ke<D.length;ke++)B=D[ke],le=We+ge(B,ke),we+=E(B,Q,W,le,ae);else if(ke=w(D),typeof ke=="function")for(D=ke.call(D),ke=0;!(B=D.next()).done;)B=B.value,le=We+ge(B,ke++),we+=E(B,Q,W,le,ae);else if(le==="object"){if(typeof D.then=="function")return E(N(D),Q,W,B,ae);throw Q=String(D),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return we}function L(D,Q,W){if(D==null)return D;var B=[],ae=0;return E(D,B,"","",function(le){return Q.call(W,le,ae++)}),B}function te(D){if(D._status===-1){var Q=D._result;Q=Q(),Q.then(function(W){(D._status===0||D._status===-1)&&(D._status=1,D._result=W)},function(W){(D._status===0||D._status===-1)&&(D._status=2,D._result=W)}),D._status===-1&&(D._status=0,D._result=Q)}if(D._status===1)return D._result.default;throw D._result}var ue=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)},fe={map:L,forEach:function(D,Q,W){L(D,function(){Q.apply(this,arguments)},W)},count:function(D){var Q=0;return L(D,function(){Q++}),Q},toArray:function(D){return L(D,function(Q){return Q})||[]},only:function(D){if(!ie(D))throw Error("React.Children.only expected to receive a single React element child.");return D}};return Se.Activity=v,Se.Children=fe,Se.Component=q,Se.Fragment=a,Se.Profiler=c,Se.PureComponent=R,Se.StrictMode=s,Se.Suspense=g,Se.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=x,Se.__COMPILER_RUNTIME={__proto__:null,c:function(D){return x.H.useMemoCache(D)}},Se.cache=function(D){return function(){return D.apply(null,arguments)}},Se.cacheSignal=function(){return null},Se.cloneElement=function(D,Q,W){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var B=A({},D.props),ae=D.key;if(Q!=null)for(le in Q.key!==void 0&&(ae=""+Q.key),Q)!z.call(Q,le)||le==="key"||le==="__self"||le==="__source"||le==="ref"&&Q.ref===void 0||(B[le]=Q[le]);var le=arguments.length-2;if(le===1)B.children=W;else if(1<le){for(var we=Array(le),We=0;We<le;We++)we[We]=arguments[We+2];B.children=we}return K(D.type,ae,B)},Se.createContext=function(D){return D={$$typeof:f,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:o,_context:D},D},Se.createElement=function(D,Q,W){var B,ae={},le=null;if(Q!=null)for(B in Q.key!==void 0&&(le=""+Q.key),Q)z.call(Q,B)&&B!=="key"&&B!=="__self"&&B!=="__source"&&(ae[B]=Q[B]);var we=arguments.length-2;if(we===1)ae.children=W;else if(1<we){for(var We=Array(we),ke=0;ke<we;ke++)We[ke]=arguments[ke+2];ae.children=We}if(D&&D.defaultProps)for(B in we=D.defaultProps,we)ae[B]===void 0&&(ae[B]=we[B]);return K(D,le,ae)},Se.createRef=function(){return{current:null}},Se.forwardRef=function(D){return{$$typeof:h,render:D}},Se.isValidElement=ie,Se.lazy=function(D){return{$$typeof:p,_payload:{_status:-1,_result:D},_init:te}},Se.memo=function(D,Q){return{$$typeof:m,type:D,compare:Q===void 0?null:Q}},Se.startTransition=function(D){var Q=x.T,W={};x.T=W;try{var B=D(),ae=x.S;ae!==null&&ae(W,B),typeof B=="object"&&B!==null&&typeof B.then=="function"&&B.then(k,ue)}catch(le){ue(le)}finally{Q!==null&&W.types!==null&&(Q.types=W.types),x.T=Q}},Se.unstable_useCacheRefresh=function(){return x.H.useCacheRefresh()},Se.use=function(D){return x.H.use(D)},Se.useActionState=function(D,Q,W){return x.H.useActionState(D,Q,W)},Se.useCallback=function(D,Q){return x.H.useCallback(D,Q)},Se.useContext=function(D){return x.H.useContext(D)},Se.useDebugValue=function(){},Se.useDeferredValue=function(D,Q){return x.H.useDeferredValue(D,Q)},Se.useEffect=function(D,Q){return x.H.useEffect(D,Q)},Se.useEffectEvent=function(D){return x.H.useEffectEvent(D)},Se.useId=function(){return x.H.useId()},Se.useImperativeHandle=function(D,Q,W){return x.H.useImperativeHandle(D,Q,W)},Se.useInsertionEffect=function(D,Q){return x.H.useInsertionEffect(D,Q)},Se.useLayoutEffect=function(D,Q){return x.H.useLayoutEffect(D,Q)},Se.useMemo=function(D,Q){return x.H.useMemo(D,Q)},Se.useOptimistic=function(D,Q){return x.H.useOptimistic(D,Q)},Se.useReducer=function(D,Q,W){return x.H.useReducer(D,Q,W)},Se.useRef=function(D){return x.H.useRef(D)},Se.useState=function(D){return x.H.useState(D)},Se.useSyncExternalStore=function(D,Q,W){return x.H.useSyncExternalStore(D,Q,W)},Se.useTransition=function(){return x.H.useTransition()},Se.version="19.2.1",Se}var ym;function Cl(){return ym||(ym=1,wl.exports=N1()),wl.exports}var Al={exports:{}},Ot={};var pm;function Q1(){if(pm)return Ot;pm=1;var e=Cl();function t(g){var m="https://react.dev/errors/"+g;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)m+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+g+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var s={d:{f:a,r:function(){throw Error(t(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},c=Symbol.for("react.portal");function o(g,m,p){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:v==null?null:""+v,children:g,containerInfo:m,implementation:p}}var f=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(g,m){if(g==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Ot.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Ot.createPortal=function(g,m){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(t(299));return o(g,m,null,p)},Ot.flushSync=function(g){var m=f.T,p=s.p;try{if(f.T=null,s.p=2,g)return g()}finally{f.T=m,s.p=p,s.d.f()}},Ot.preconnect=function(g,m){typeof g=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,s.d.C(g,m))},Ot.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},Ot.preinit=function(g,m){if(typeof g=="string"&&m&&typeof m.as=="string"){var p=m.as,v=h(p,m.crossOrigin),S=typeof m.integrity=="string"?m.integrity:void 0,w=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;p==="style"?s.d.S(g,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:v,integrity:S,fetchPriority:w}):p==="script"&&s.d.X(g,{crossOrigin:v,integrity:S,fetchPriority:w,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Ot.preinitModule=function(g,m){if(typeof g=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var p=h(m.as,m.crossOrigin);s.d.M(g,{crossOrigin:p,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&s.d.M(g)},Ot.preload=function(g,m){if(typeof g=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var p=m.as,v=h(p,m.crossOrigin);s.d.L(g,p,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Ot.preloadModule=function(g,m){if(typeof g=="string")if(m){var p=h(m.as,m.crossOrigin);s.d.m(g,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:p,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else s.d.m(g)},Ot.requestFormReset=function(g){s.d.r(g)},Ot.unstable_batchedUpdates=function(g,m){return g(m)},Ot.useFormState=function(g,m,p){return f.H.useFormState(g,m,p)},Ot.useFormStatus=function(){return f.H.useHostTransitionStatus()},Ot.version="19.2.1",Ot}var vm;function Sm(){if(vm)return Al.exports;vm=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Al.exports=Q1(),Al.exports}var bm;function V1(){if(bm)return Gi;bm=1;var e=z1(),t=Cl(),a=Sm();function s(n){var r="https://react.dev/errors/"+n;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)r+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+n+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function o(n){var r=n,i=n;if(n.alternate)for(;r.return;)r=r.return;else{n=r;do r=n,(r.flags&4098)!==0&&(i=r.return),n=r.return;while(n)}return r.tag===3?i:null}function f(n){if(n.tag===13){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function h(n){if(n.tag===31){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function g(n){if(o(n)!==n)throw Error(s(188))}function m(n){var r=n.alternate;if(!r){if(r=o(n),r===null)throw Error(s(188));return r!==n?null:n}for(var i=n,u=r;;){var l=i.return;if(l===null)break;var d=l.alternate;if(d===null){if(u=l.return,u!==null){i=u;continue}break}if(l.child===d.child){for(d=l.child;d;){if(d===i)return g(l),n;if(d===u)return g(l),r;d=d.sibling}throw Error(s(188))}if(i.return!==u.return)i=l,u=d;else{for(var y=!1,b=l.child;b;){if(b===i){y=!0,i=l,u=d;break}if(b===u){y=!0,u=l,i=d;break}b=b.sibling}if(!y){for(b=d.child;b;){if(b===i){y=!0,i=d,u=l;break}if(b===u){y=!0,u=d,i=l;break}b=b.sibling}if(!y)throw Error(s(189))}}if(i.alternate!==u)throw Error(s(190))}if(i.tag!==3)throw Error(s(188));return i.stateNode.current===i?n:r}function p(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n;for(n=n.child;n!==null;){if(r=p(n),r!==null)return r;n=n.sibling}return null}var v=Object.assign,S=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),O=Symbol.for("react.strict_mode"),q=Symbol.for("react.profiler"),M=Symbol.for("react.consumer"),R=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),Z=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),z=Symbol.for("react.lazy"),K=Symbol.for("react.activity"),J=Symbol.for("react.memo_cache_sentinel"),ie=Symbol.iterator;function ce(n){return n===null||typeof n!="object"?null:(n=ie&&n[ie]||n["@@iterator"],typeof n=="function"?n:null)}var ve=Symbol.for("react.client.reference");function ge(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===ve?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case A:return"Fragment";case q:return"Profiler";case O:return"StrictMode";case Z:return"Suspense";case k:return"SuspenseList";case K:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case C:return"Portal";case R:return n.displayName||"Context";case M:return(n._context.displayName||"Context")+".Consumer";case U:var r=n.render;return n=n.displayName,n||(n=r.displayName||r.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case x:return r=n.displayName||null,r!==null?r:ge(n.type)||"Memo";case z:r=n._payload,n=n._init;try{return ge(n(r))}catch{}}return null}var N=Array.isArray,E=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te={pending:!1,data:null,method:null,action:null},ue=[],fe=-1;function D(n){return{current:n}}function Q(n){0>fe||(n.current=ue[fe],ue[fe]=null,fe--)}function W(n,r){fe++,ue[fe]=n.current,n.current=r}var B=D(null),ae=D(null),le=D(null),we=D(null);function We(n,r){switch(W(le,r),W(ae,n),W(B,null),r.nodeType){case 9:case 11:n=(n=r.documentElement)&&(n=n.namespaceURI)?t1(n):0;break;default:if(n=r.tagName,r=r.namespaceURI)r=t1(r),n=n1(r,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}Q(B),W(B,n)}function ke(){Q(B),Q(ae),Q(le)}function Xe(n){n.memoizedState!==null&&W(we,n);var r=B.current,i=n1(r,n.type);r!==i&&(W(ae,n),W(B,i))}function ft(n){ae.current===n&&(Q(B),Q(ae)),we.current===n&&(Q(we),Mu._currentValue=te)}var Kt,ca;function Ft(n){if(Kt===void 0)try{throw Error()}catch(i){var r=i.stack.trim().match(/\n( *(at )?)/);Kt=r&&r[1]||"",ca=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Kt+n+ca}var Sr=!1;function ui(n,r){if(!n||Sr)return"";Sr=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var ne=function(){throw Error()};if(Object.defineProperty(ne.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ne,[])}catch(G){var H=G}Reflect.construct(n,[],ne)}else{try{ne.call()}catch(G){H=G}n.call(ne.prototype)}}else{try{throw Error()}catch(G){H=G}(ne=n())&&typeof ne.catch=="function"&&ne.catch(function(){})}}catch(G){if(G&&H&&typeof G.stack=="string")return[G.stack,H.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var l=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");l&&l.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=u.DetermineComponentFrameRoot(),y=d[0],b=d[1];if(y&&b){var T=y.split(`
`),j=b.split(`
`);for(l=u=0;u<T.length&&!T[u].includes("DetermineComponentFrameRoot");)u++;for(;l<j.length&&!j[l].includes("DetermineComponentFrameRoot");)l++;if(u===T.length||l===j.length)for(u=T.length-1,l=j.length-1;1<=u&&0<=l&&T[u]!==j[l];)l--;for(;1<=u&&0<=l;u--,l--)if(T[u]!==j[l]){if(u!==1||l!==1)do if(u--,l--,0>l||T[u]!==j[l]){var P=`
`+T[u].replace(" at new "," at ");return n.displayName&&P.includes("<anonymous>")&&(P=P.replace("<anonymous>",n.displayName)),P}while(1<=u&&0<=l);break}}}finally{Sr=!1,Error.prepareStackTrace=i}return(i=n?n.displayName||n.name:"")?Ft(i):""}function oa(n,r){switch(n.tag){case 26:case 27:case 5:return Ft(n.type);case 16:return Ft("Lazy");case 13:return n.child!==r&&r!==null?Ft("Suspense Fallback"):Ft("Suspense");case 19:return Ft("SuspenseList");case 0:case 15:return ui(n.type,!1);case 11:return ui(n.type.render,!1);case 1:return ui(n.type,!0);case 31:return Ft("Activity");default:return""}}function la(n){try{var r="",i=null;do r+=oa(n,i),i=n,n=n.return;while(n);return r}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var Zf=Object.prototype.hasOwnProperty,Jf=e.unstable_scheduleCallback,Pf=e.unstable_cancelCallback,Q3=e.unstable_shouldYield,V3=e.unstable_requestPaint,Xt=e.unstable_now,j3=e.unstable_getCurrentPriorityLevel,U0=e.unstable_ImmediatePriority,I0=e.unstable_UserBlockingPriority,Pc=e.unstable_NormalPriority,L3=e.unstable_LowPriority,F0=e.unstable_IdlePriority,B3=e.log,H3=e.unstable_setDisableYieldValue,Bs=null,Zt=null;function br(n){if(typeof B3=="function"&&H3(n),Zt&&typeof Zt.setStrictMode=="function")try{Zt.setStrictMode(Bs,n)}catch{}}var Jt=Math.clz32?Math.clz32:G3,Y3=Math.log,$3=Math.LN2;function G3(n){return n>>>=0,n===0?32:31-(Y3(n)/$3|0)|0}var Wc=256,eo=262144,to=4194304;function da(n){var r=n&42;if(r!==0)return r;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function no(n,r,i){var u=n.pendingLanes;if(u===0)return 0;var l=0,d=n.suspendedLanes,y=n.pingedLanes;n=n.warmLanes;var b=u&134217727;return b!==0?(u=b&~d,u!==0?l=da(u):(y&=b,y!==0?l=da(y):i||(i=b&~n,i!==0&&(l=da(i))))):(b=u&~d,b!==0?l=da(b):y!==0?l=da(y):i||(i=u&~n,i!==0&&(l=da(i)))),l===0?0:r!==0&&r!==l&&(r&d)===0&&(d=l&-l,i=r&-r,d>=i||d===32&&(i&4194048)!==0)?r:l}function Hs(n,r){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&r)===0}function K3(n,r){switch(n){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function k0(){var n=to;return to<<=1,(to&62914560)===0&&(to=4194304),n}function Wf(n){for(var r=[],i=0;31>i;i++)r.push(n);return r}function Ys(n,r){n.pendingLanes|=r,r!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function X3(n,r,i,u,l,d){var y=n.pendingLanes;n.pendingLanes=i,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=i,n.entangledLanes&=i,n.errorRecoveryDisabledLanes&=i,n.shellSuspendCounter=0;var b=n.entanglements,T=n.expirationTimes,j=n.hiddenUpdates;for(i=y&~i;0<i;){var P=31-Jt(i),ne=1<<P;b[P]=0,T[P]=-1;var H=j[P];if(H!==null)for(j[P]=null,P=0;P<H.length;P++){var G=H[P];G!==null&&(G.lane&=-536870913)}i&=~ne}u!==0&&z0(n,u,0),d!==0&&l===0&&n.tag!==0&&(n.suspendedLanes|=d&~(y&~r))}function z0(n,r,i){n.pendingLanes|=r,n.suspendedLanes&=~r;var u=31-Jt(r);n.entangledLanes|=r,n.entanglements[u]=n.entanglements[u]|1073741824|i&261930}function N0(n,r){var i=n.entangledLanes|=r;for(n=n.entanglements;i;){var u=31-Jt(i),l=1<<u;l&r|n[u]&r&&(n[u]|=r),i&=~l}}function Q0(n,r){var i=r&-r;return i=(i&42)!==0?1:eh(i),(i&(n.suspendedLanes|r))!==0?0:i}function eh(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function th(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function V0(){var n=L.p;return n!==0?n:(n=window.event,n===void 0?32:O1(n.type))}function j0(n,r){var i=L.p;try{return L.p=n,r()}finally{L.p=i}}var wr=Math.random().toString(36).slice(2),bt="__reactFiber$"+wr,Vt="__reactProps$"+wr,ci="__reactContainer$"+wr,nh="__reactEvents$"+wr,Z3="__reactListeners$"+wr,J3="__reactHandles$"+wr,L0="__reactResources$"+wr,$s="__reactMarker$"+wr;function rh(n){delete n[bt],delete n[Vt],delete n[nh],delete n[Z3],delete n[J3]}function oi(n){var r=n[bt];if(r)return r;for(var i=n.parentNode;i;){if(r=i[ci]||i[bt]){if(i=r.alternate,r.child!==null||i!==null&&i.child!==null)for(n=o1(n);n!==null;){if(i=n[bt])return i;n=o1(n)}return r}n=i,i=n.parentNode}return null}function li(n){if(n=n[bt]||n[ci]){var r=n.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return n}return null}function Gs(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n.stateNode;throw Error(s(33))}function di(n){var r=n[L0];return r||(r=n[L0]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function ht(n){n[$s]=!0}var B0=new Set,H0={};function fa(n,r){fi(n,r),fi(n+"Capture",r)}function fi(n,r){for(H0[n]=r,n=0;n<r.length;n++)B0.add(r[n])}var P3=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Y0={},$0={};function W3(n){return Zf.call($0,n)?!0:Zf.call(Y0,n)?!1:P3.test(n)?$0[n]=!0:(Y0[n]=!0,!1)}function ro(n,r,i){if(W3(r))if(i===null)n.removeAttribute(r);else{switch(typeof i){case"undefined":case"function":case"symbol":n.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){n.removeAttribute(r);return}}n.setAttribute(r,""+i)}}function ao(n,r,i){if(i===null)n.removeAttribute(r);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(r);return}n.setAttribute(r,""+i)}}function Yn(n,r,i,u){if(u===null)n.removeAttribute(i);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(i);return}n.setAttributeNS(r,i,""+u)}}function un(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function G0(n){var r=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function eN(n,r,i){var u=Object.getOwnPropertyDescriptor(n.constructor.prototype,r);if(!n.hasOwnProperty(r)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var l=u.get,d=u.set;return Object.defineProperty(n,r,{configurable:!0,get:function(){return l.call(this)},set:function(y){i=""+y,d.call(this,y)}}),Object.defineProperty(n,r,{enumerable:u.enumerable}),{getValue:function(){return i},setValue:function(y){i=""+y},stopTracking:function(){n._valueTracker=null,delete n[r]}}}}function ah(n){if(!n._valueTracker){var r=G0(n)?"checked":"value";n._valueTracker=eN(n,r,""+n[r])}}function K0(n){if(!n)return!1;var r=n._valueTracker;if(!r)return!0;var i=r.getValue(),u="";return n&&(u=G0(n)?n.checked?"true":"false":n.value),n=u,n!==i?(r.setValue(n),!0):!1}function io(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var tN=/[\n"\\]/g;function cn(n){return n.replace(tN,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function ih(n,r,i,u,l,d,y,b){n.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?n.type=y:n.removeAttribute("type"),r!=null?y==="number"?(r===0&&n.value===""||n.value!=r)&&(n.value=""+un(r)):n.value!==""+un(r)&&(n.value=""+un(r)):y!=="submit"&&y!=="reset"||n.removeAttribute("value"),r!=null?sh(n,y,un(r)):i!=null?sh(n,y,un(i)):u!=null&&n.removeAttribute("value"),l==null&&d!=null&&(n.defaultChecked=!!d),l!=null&&(n.checked=l&&typeof l!="function"&&typeof l!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?n.name=""+un(b):n.removeAttribute("name")}function X0(n,r,i,u,l,d,y,b){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(n.type=d),r!=null||i!=null){if(!(d!=="submit"&&d!=="reset"||r!=null)){ah(n);return}i=i!=null?""+un(i):"",r=r!=null?""+un(r):i,b||r===n.value||(n.value=r),n.defaultValue=r}u=u??l,u=typeof u!="function"&&typeof u!="symbol"&&!!u,n.checked=b?n.checked:!!u,n.defaultChecked=!!u,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(n.name=y),ah(n)}function sh(n,r,i){r==="number"&&io(n.ownerDocument)===n||n.defaultValue===""+i||(n.defaultValue=""+i)}function hi(n,r,i,u){if(n=n.options,r){r={};for(var l=0;l<i.length;l++)r["$"+i[l]]=!0;for(i=0;i<n.length;i++)l=r.hasOwnProperty("$"+n[i].value),n[i].selected!==l&&(n[i].selected=l),l&&u&&(n[i].defaultSelected=!0)}else{for(i=""+un(i),r=null,l=0;l<n.length;l++){if(n[l].value===i){n[l].selected=!0,u&&(n[l].defaultSelected=!0);return}r!==null||n[l].disabled||(r=n[l])}r!==null&&(r.selected=!0)}}function Z0(n,r,i){if(r!=null&&(r=""+un(r),r!==n.value&&(n.value=r),i==null)){n.defaultValue!==r&&(n.defaultValue=r);return}n.defaultValue=i!=null?""+un(i):""}function J0(n,r,i,u){if(r==null){if(u!=null){if(i!=null)throw Error(s(92));if(N(u)){if(1<u.length)throw Error(s(93));u=u[0]}i=u}i==null&&(i=""),r=i}i=un(r),n.defaultValue=i,u=n.textContent,u===i&&u!==""&&u!==null&&(n.value=u),ah(n)}function gi(n,r){if(r){var i=n.firstChild;if(i&&i===n.lastChild&&i.nodeType===3){i.nodeValue=r;return}}n.textContent=r}var nN=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function P0(n,r,i){var u=r.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?u?n.setProperty(r,""):r==="float"?n.cssFloat="":n[r]="":u?n.setProperty(r,i):typeof i!="number"||i===0||nN.has(r)?r==="float"?n.cssFloat=i:n[r]=(""+i).trim():n[r]=i+"px"}function W0(n,r,i){if(r!=null&&typeof r!="object")throw Error(s(62));if(n=n.style,i!=null){for(var u in i)!i.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?n.setProperty(u,""):u==="float"?n.cssFloat="":n[u]="");for(var l in r)u=r[l],r.hasOwnProperty(l)&&i[l]!==u&&P0(n,l,u)}else for(var d in r)r.hasOwnProperty(d)&&P0(n,d,r[d])}function uh(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var rN=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),aN=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function so(n){return aN.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function $n(){}var ch=null;function oh(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var mi=null,yi=null;function ew(n){var r=li(n);if(r&&(n=r.stateNode)){var i=n[Vt]||null;e:switch(n=r.stateNode,r.type){case"input":if(ih(n,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),r=i.name,i.type==="radio"&&r!=null){for(i=n;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+cn(""+r)+'"][type="radio"]'),r=0;r<i.length;r++){var u=i[r];if(u!==n&&u.form===n.form){var l=u[Vt]||null;if(!l)throw Error(s(90));ih(u,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name)}}for(r=0;r<i.length;r++)u=i[r],u.form===n.form&&K0(u)}break e;case"textarea":Z0(n,i.value,i.defaultValue);break e;case"select":r=i.value,r!=null&&hi(n,!!i.multiple,r,!1)}}}var lh=!1;function tw(n,r,i){if(lh)return n(r,i);lh=!0;try{var u=n(r);return u}finally{if(lh=!1,(mi!==null||yi!==null)&&(Ko(),mi&&(r=mi,n=yi,yi=mi=null,ew(r),n)))for(r=0;r<n.length;r++)ew(n[r])}}function Ks(n,r){var i=n.stateNode;if(i===null)return null;var u=i[Vt]||null;if(u===null)return null;i=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(n=n.type,u=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!u;break e;default:n=!1}if(n)return null;if(i&&typeof i!="function")throw Error(s(231,r,typeof i));return i}var Gn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),dh=!1;if(Gn)try{var Xs={};Object.defineProperty(Xs,"passive",{get:function(){dh=!0}}),window.addEventListener("test",Xs,Xs),window.removeEventListener("test",Xs,Xs)}catch{dh=!1}var Cr=null,fh=null,uo=null;function nw(){if(uo)return uo;var n,r=fh,i=r.length,u,l="value"in Cr?Cr.value:Cr.textContent,d=l.length;for(n=0;n<i&&r[n]===l[n];n++);var y=i-n;for(u=1;u<=y&&r[i-u]===l[d-u];u++);return uo=l.slice(n,1<u?1-u:void 0)}function co(n){var r=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&r===13&&(n=13)):n=r,n===10&&(n=13),32<=n||n===13?n:0}function oo(){return!0}function rw(){return!1}function jt(n){function r(i,u,l,d,y){this._reactName=i,this._targetInst=l,this.type=u,this.nativeEvent=d,this.target=y,this.currentTarget=null;for(var b in n)n.hasOwnProperty(b)&&(i=n[b],this[b]=i?i(d):d[b]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?oo:rw,this.isPropagationStopped=rw,this}return v(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=oo)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=oo)},persist:function(){},isPersistent:oo}),r}var ha={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},lo=jt(ha),Zs=v({},ha,{view:0,detail:0}),iN=jt(Zs),hh,gh,Js,fo=v({},Zs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yh,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Js&&(Js&&n.type==="mousemove"?(hh=n.screenX-Js.screenX,gh=n.screenY-Js.screenY):gh=hh=0,Js=n),hh)},movementY:function(n){return"movementY"in n?n.movementY:gh}}),aw=jt(fo),sN=v({},fo,{dataTransfer:0}),uN=jt(sN),cN=v({},Zs,{relatedTarget:0}),mh=jt(cN),oN=v({},ha,{animationName:0,elapsedTime:0,pseudoElement:0}),lN=jt(oN),dN=v({},ha,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),fN=jt(dN),hN=v({},ha,{data:0}),iw=jt(hN),gN={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mN={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pN(n){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(n):(n=yN[n])?!!r[n]:!1}function yh(){return pN}var vN=v({},Zs,{key:function(n){if(n.key){var r=gN[n.key]||n.key;if(r!=="Unidentified")return r}return n.type==="keypress"?(n=co(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?mN[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yh,charCode:function(n){return n.type==="keypress"?co(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?co(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),SN=jt(vN),bN=v({},fo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sw=jt(bN),wN=v({},Zs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yh}),CN=jt(wN),AN=v({},ha,{propertyName:0,elapsedTime:0,pseudoElement:0}),RN=jt(AN),ON=v({},fo,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),qN=jt(ON),EN=v({},ha,{newState:0,oldState:0}),TN=jt(EN),DN=[9,13,27,32],ph=Gn&&"CompositionEvent"in window,Ps=null;Gn&&"documentMode"in document&&(Ps=document.documentMode);var xN=Gn&&"TextEvent"in window&&!Ps,uw=Gn&&(!ph||Ps&&8<Ps&&11>=Ps),cw=" ",ow=!1;function lw(n,r){switch(n){case"keyup":return DN.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function dw(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var pi=!1;function MN(n,r){switch(n){case"compositionend":return dw(r);case"keypress":return r.which!==32?null:(ow=!0,cw);case"textInput":return n=r.data,n===cw&&ow?null:n;default:return null}}function _N(n,r){if(pi)return n==="compositionend"||!ph&&lw(n,r)?(n=nw(),uo=fh=Cr=null,pi=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return uw&&r.locale!=="ko"?null:r.data;default:return null}}var UN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fw(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r==="input"?!!UN[n.type]:r==="textarea"}function hw(n,r,i,u){mi?yi?yi.push(u):yi=[u]:mi=u,r=tl(r,"onChange"),0<r.length&&(i=new lo("onChange","change",null,i,u),n.push({event:i,listeners:r}))}var Ws=null,eu=null;function IN(n){XA(n,0)}function ho(n){var r=Gs(n);if(K0(r))return n}function gw(n,r){if(n==="change")return r}var mw=!1;if(Gn){var vh;if(Gn){var Sh="oninput"in document;if(!Sh){var yw=document.createElement("div");yw.setAttribute("oninput","return;"),Sh=typeof yw.oninput=="function"}vh=Sh}else vh=!1;mw=vh&&(!document.documentMode||9<document.documentMode)}function pw(){Ws&&(Ws.detachEvent("onpropertychange",vw),eu=Ws=null)}function vw(n){if(n.propertyName==="value"&&ho(eu)){var r=[];hw(r,eu,n,oh(n)),tw(IN,r)}}function FN(n,r,i){n==="focusin"?(pw(),Ws=r,eu=i,Ws.attachEvent("onpropertychange",vw)):n==="focusout"&&pw()}function kN(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return ho(eu)}function zN(n,r){if(n==="click")return ho(r)}function NN(n,r){if(n==="input"||n==="change")return ho(r)}function QN(n,r){return n===r&&(n!==0||1/n===1/r)||n!==n&&r!==r}var Pt=typeof Object.is=="function"?Object.is:QN;function tu(n,r){if(Pt(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null)return!1;var i=Object.keys(n),u=Object.keys(r);if(i.length!==u.length)return!1;for(u=0;u<i.length;u++){var l=i[u];if(!Zf.call(r,l)||!Pt(n[l],r[l]))return!1}return!0}function Sw(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function bw(n,r){var i=Sw(n);n=0;for(var u;i;){if(i.nodeType===3){if(u=n+i.textContent.length,n<=r&&u>=r)return{node:i,offset:r-n};n=u}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Sw(i)}}function ww(n,r){return n&&r?n===r?!0:n&&n.nodeType===3?!1:r&&r.nodeType===3?ww(n,r.parentNode):"contains"in n?n.contains(r):n.compareDocumentPosition?!!(n.compareDocumentPosition(r)&16):!1:!1}function Cw(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var r=io(n.document);r instanceof n.HTMLIFrameElement;){try{var i=typeof r.contentWindow.location.href=="string"}catch{i=!1}if(i)n=r.contentWindow;else break;r=io(n.document)}return r}function bh(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r&&(r==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||r==="textarea"||n.contentEditable==="true")}var VN=Gn&&"documentMode"in document&&11>=document.documentMode,vi=null,wh=null,nu=null,Ch=!1;function Aw(n,r,i){var u=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;Ch||vi==null||vi!==io(u)||(u=vi,"selectionStart"in u&&bh(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),nu&&tu(nu,u)||(nu=u,u=tl(wh,"onSelect"),0<u.length&&(r=new lo("onSelect","select",null,r,i),n.push({event:r,listeners:u}),r.target=vi)))}function ga(n,r){var i={};return i[n.toLowerCase()]=r.toLowerCase(),i["Webkit"+n]="webkit"+r,i["Moz"+n]="moz"+r,i}var Si={animationend:ga("Animation","AnimationEnd"),animationiteration:ga("Animation","AnimationIteration"),animationstart:ga("Animation","AnimationStart"),transitionrun:ga("Transition","TransitionRun"),transitionstart:ga("Transition","TransitionStart"),transitioncancel:ga("Transition","TransitionCancel"),transitionend:ga("Transition","TransitionEnd")},Ah={},Rw={};Gn&&(Rw=document.createElement("div").style,"AnimationEvent"in window||(delete Si.animationend.animation,delete Si.animationiteration.animation,delete Si.animationstart.animation),"TransitionEvent"in window||delete Si.transitionend.transition);function ma(n){if(Ah[n])return Ah[n];if(!Si[n])return n;var r=Si[n],i;for(i in r)if(r.hasOwnProperty(i)&&i in Rw)return Ah[n]=r[i];return n}var Ow=ma("animationend"),qw=ma("animationiteration"),Ew=ma("animationstart"),jN=ma("transitionrun"),LN=ma("transitionstart"),BN=ma("transitioncancel"),Tw=ma("transitionend"),Dw=new Map,Rh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Rh.push("scrollEnd");function wn(n,r){Dw.set(n,r),fa(r,[n])}var go=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},on=[],bi=0,Oh=0;function mo(){for(var n=bi,r=Oh=bi=0;r<n;){var i=on[r];on[r++]=null;var u=on[r];on[r++]=null;var l=on[r];on[r++]=null;var d=on[r];if(on[r++]=null,u!==null&&l!==null){var y=u.pending;y===null?l.next=l:(l.next=y.next,y.next=l),u.pending=l}d!==0&&xw(i,l,d)}}function yo(n,r,i,u){on[bi++]=n,on[bi++]=r,on[bi++]=i,on[bi++]=u,Oh|=u,n.lanes|=u,n=n.alternate,n!==null&&(n.lanes|=u)}function qh(n,r,i,u){return yo(n,r,i,u),po(n)}function ya(n,r){return yo(n,null,null,r),po(n)}function xw(n,r,i){n.lanes|=i;var u=n.alternate;u!==null&&(u.lanes|=i);for(var l=!1,d=n.return;d!==null;)d.childLanes|=i,u=d.alternate,u!==null&&(u.childLanes|=i),d.tag===22&&(n=d.stateNode,n===null||n._visibility&1||(l=!0)),n=d,d=d.return;return n.tag===3?(d=n.stateNode,l&&r!==null&&(l=31-Jt(i),n=d.hiddenUpdates,u=n[l],u===null?n[l]=[r]:u.push(r),r.lane=i|536870912),d):null}function po(n){if(50<Ru)throw Ru=0,Fg=null,Error(s(185));for(var r=n.return;r!==null;)n=r,r=n.return;return n.tag===3?n.stateNode:null}var wi={};function HN(n,r,i,u){this.tag=n,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wt(n,r,i,u){return new HN(n,r,i,u)}function Eh(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Kn(n,r){var i=n.alternate;return i===null?(i=Wt(n.tag,r,n.key,n.mode),i.elementType=n.elementType,i.type=n.type,i.stateNode=n.stateNode,i.alternate=n,n.alternate=i):(i.pendingProps=r,i.type=n.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=n.flags&65011712,i.childLanes=n.childLanes,i.lanes=n.lanes,i.child=n.child,i.memoizedProps=n.memoizedProps,i.memoizedState=n.memoizedState,i.updateQueue=n.updateQueue,r=n.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},i.sibling=n.sibling,i.index=n.index,i.ref=n.ref,i.refCleanup=n.refCleanup,i}function Mw(n,r){n.flags&=65011714;var i=n.alternate;return i===null?(n.childLanes=0,n.lanes=r,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=i.childLanes,n.lanes=i.lanes,n.child=i.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=i.memoizedProps,n.memoizedState=i.memoizedState,n.updateQueue=i.updateQueue,n.type=i.type,r=i.dependencies,n.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),n}function vo(n,r,i,u,l,d){var y=0;if(u=n,typeof n=="function")Eh(n)&&(y=1);else if(typeof n=="string")y=XQ(n,i,B.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case K:return n=Wt(31,i,r,l),n.elementType=K,n.lanes=d,n;case A:return pa(i.children,l,d,r);case O:y=8,l|=24;break;case q:return n=Wt(12,i,r,l|2),n.elementType=q,n.lanes=d,n;case Z:return n=Wt(13,i,r,l),n.elementType=Z,n.lanes=d,n;case k:return n=Wt(19,i,r,l),n.elementType=k,n.lanes=d,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case R:y=10;break e;case M:y=9;break e;case U:y=11;break e;case x:y=14;break e;case z:y=16,u=null;break e}y=29,i=Error(s(130,n===null?"null":typeof n,"")),u=null}return r=Wt(y,i,r,l),r.elementType=n,r.type=u,r.lanes=d,r}function pa(n,r,i,u){return n=Wt(7,n,u,r),n.lanes=i,n}function Th(n,r,i){return n=Wt(6,n,null,r),n.lanes=i,n}function _w(n){var r=Wt(18,null,null,0);return r.stateNode=n,r}function Dh(n,r,i){return r=Wt(4,n.children!==null?n.children:[],n.key,r),r.lanes=i,r.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},r}var Uw=new WeakMap;function ln(n,r){if(typeof n=="object"&&n!==null){var i=Uw.get(n);return i!==void 0?i:(r={value:n,source:r,stack:la(r)},Uw.set(n,r),r)}return{value:n,source:r,stack:la(r)}}var Ci=[],Ai=0,So=null,ru=0,dn=[],fn=0,Ar=null,xn=1,Mn="";function Xn(n,r){Ci[Ai++]=ru,Ci[Ai++]=So,So=n,ru=r}function Iw(n,r,i){dn[fn++]=xn,dn[fn++]=Mn,dn[fn++]=Ar,Ar=n;var u=xn;n=Mn;var l=32-Jt(u)-1;u&=~(1<<l),i+=1;var d=32-Jt(r)+l;if(30<d){var y=l-l%5;d=(u&(1<<y)-1).toString(32),u>>=y,l-=y,xn=1<<32-Jt(r)+l|i<<l|u,Mn=d+n}else xn=1<<d|i<<l|u,Mn=n}function xh(n){n.return!==null&&(Xn(n,1),Iw(n,1,0))}function Mh(n){for(;n===So;)So=Ci[--Ai],Ci[Ai]=null,ru=Ci[--Ai],Ci[Ai]=null;for(;n===Ar;)Ar=dn[--fn],dn[fn]=null,Mn=dn[--fn],dn[fn]=null,xn=dn[--fn],dn[fn]=null}function Fw(n,r){dn[fn++]=xn,dn[fn++]=Mn,dn[fn++]=Ar,xn=r.id,Mn=r.overflow,Ar=n}var wt=null,Ze=null,Ie=!1,Rr=null,hn=!1,_h=Error(s(519));function Or(n){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw au(ln(r,n)),_h}function kw(n){var r=n.stateNode,i=n.type,u=n.memoizedProps;switch(r[bt]=n,r[Vt]=u,i){case"dialog":Me("cancel",r),Me("close",r);break;case"iframe":case"object":case"embed":Me("load",r);break;case"video":case"audio":for(i=0;i<qu.length;i++)Me(qu[i],r);break;case"source":Me("error",r);break;case"img":case"image":case"link":Me("error",r),Me("load",r);break;case"details":Me("toggle",r);break;case"input":Me("invalid",r),X0(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Me("invalid",r);break;case"textarea":Me("invalid",r),J0(r,u.value,u.defaultValue,u.children)}i=u.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||r.textContent===""+i||u.suppressHydrationWarning===!0||WA(r.textContent,i)?(u.popover!=null&&(Me("beforetoggle",r),Me("toggle",r)),u.onScroll!=null&&Me("scroll",r),u.onScrollEnd!=null&&Me("scrollend",r),u.onClick!=null&&(r.onclick=$n),r=!0):r=!1,r||Or(n,!0)}function zw(n){for(wt=n.return;wt;)switch(wt.tag){case 5:case 31:case 13:hn=!1;return;case 27:case 3:hn=!0;return;default:wt=wt.return}}function Ri(n){if(n!==wt)return!1;if(!Ie)return zw(n),Ie=!0,!1;var r=n.tag,i;if((i=r!==3&&r!==27)&&((i=r===5)&&(i=n.type,i=!(i!=="form"&&i!=="button")||Zg(n.type,n.memoizedProps)),i=!i),i&&Ze&&Or(n),zw(n),r===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));Ze=c1(n)}else if(r===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));Ze=c1(n)}else r===27?(r=Ze,Qr(n.type)?(n=tm,tm=null,Ze=n):Ze=r):Ze=wt?mn(n.stateNode.nextSibling):null;return!0}function va(){Ze=wt=null,Ie=!1}function Uh(){var n=Rr;return n!==null&&(Yt===null?Yt=n:Yt.push.apply(Yt,n),Rr=null),n}function au(n){Rr===null?Rr=[n]:Rr.push(n)}var Ih=D(null),Sa=null,Zn=null;function qr(n,r,i){W(Ih,r._currentValue),r._currentValue=i}function Jn(n){n._currentValue=Ih.current,Q(Ih)}function Fh(n,r,i){for(;n!==null;){var u=n.alternate;if((n.childLanes&r)!==r?(n.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),n===i)break;n=n.return}}function kh(n,r,i,u){var l=n.child;for(l!==null&&(l.return=n);l!==null;){var d=l.dependencies;if(d!==null){var y=l.child;d=d.firstContext;e:for(;d!==null;){var b=d;d=l;for(var T=0;T<r.length;T++)if(b.context===r[T]){d.lanes|=i,b=d.alternate,b!==null&&(b.lanes|=i),Fh(d.return,i,n),u||(y=null);break e}d=b.next}}else if(l.tag===18){if(y=l.return,y===null)throw Error(s(341));y.lanes|=i,d=y.alternate,d!==null&&(d.lanes|=i),Fh(y,i,n),y=null}else y=l.child;if(y!==null)y.return=l;else for(y=l;y!==null;){if(y===n){y=null;break}if(l=y.sibling,l!==null){l.return=y.return,y=l;break}y=y.return}l=y}}function Oi(n,r,i,u){n=null;for(var l=r,d=!1;l!==null;){if(!d){if((l.flags&524288)!==0)d=!0;else if((l.flags&262144)!==0)break}if(l.tag===10){var y=l.alternate;if(y===null)throw Error(s(387));if(y=y.memoizedProps,y!==null){var b=l.type;Pt(l.pendingProps.value,y.value)||(n!==null?n.push(b):n=[b])}}else if(l===we.current){if(y=l.alternate,y===null)throw Error(s(387));y.memoizedState.memoizedState!==l.memoizedState.memoizedState&&(n!==null?n.push(Mu):n=[Mu])}l=l.return}n!==null&&kh(r,n,i,u),r.flags|=262144}function bo(n){for(n=n.firstContext;n!==null;){if(!Pt(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function ba(n){Sa=n,Zn=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Ct(n){return Nw(Sa,n)}function wo(n,r){return Sa===null&&ba(n),Nw(n,r)}function Nw(n,r){var i=r._currentValue;if(r={context:r,memoizedValue:i,next:null},Zn===null){if(n===null)throw Error(s(308));Zn=r,n.dependencies={lanes:0,firstContext:r},n.flags|=524288}else Zn=Zn.next=r;return i}var YN=typeof AbortController<"u"?AbortController:function(){var n=[],r=this.signal={aborted:!1,addEventListener:function(i,u){n.push(u)}};this.abort=function(){r.aborted=!0,n.forEach(function(i){return i()})}},$N=e.unstable_scheduleCallback,GN=e.unstable_NormalPriority,it={$$typeof:R,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function zh(){return{controller:new YN,data:new Map,refCount:0}}function iu(n){n.refCount--,n.refCount===0&&$N(GN,function(){n.controller.abort()})}var su=null,Nh=0,qi=0,Ei=null;function KN(n,r){if(su===null){var i=su=[];Nh=0,qi=jg(),Ei={status:"pending",value:void 0,then:function(u){i.push(u)}}}return Nh++,r.then(Qw,Qw),r}function Qw(){if(--Nh===0&&su!==null){Ei!==null&&(Ei.status="fulfilled");var n=su;su=null,qi=0,Ei=null;for(var r=0;r<n.length;r++)(0,n[r])()}}function XN(n,r){var i=[],u={status:"pending",value:null,reason:null,then:function(l){i.push(l)}};return n.then(function(){u.status="fulfilled",u.value=r;for(var l=0;l<i.length;l++)(0,i[l])(r)},function(l){for(u.status="rejected",u.reason=l,l=0;l<i.length;l++)(0,i[l])(void 0)}),u}var Vw=E.S;E.S=function(n,r){AA=Xt(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&KN(n,r),Vw!==null&&Vw(n,r)};var wa=D(null);function Qh(){var n=wa.current;return n!==null?n:Ge.pooledCache}function Co(n,r){r===null?W(wa,wa.current):W(wa,r.pool)}function jw(){var n=Qh();return n===null?null:{parent:it._currentValue,pool:n}}var Ti=Error(s(460)),Vh=Error(s(474)),Ao=Error(s(542)),Ro={then:function(){}};function Lw(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Bw(n,r,i){switch(i=n[i],i===void 0?n.push(r):i!==r&&(r.then($n,$n),r=i),r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,Yw(n),n;default:if(typeof r.status=="string")r.then($n,$n);else{if(n=Ge,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=r,n.status="pending",n.then(function(u){if(r.status==="pending"){var l=r;l.status="fulfilled",l.value=u}},function(u){if(r.status==="pending"){var l=r;l.status="rejected",l.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,Yw(n),n}throw Aa=r,Ti}}function Ca(n){try{var r=n._init;return r(n._payload)}catch(i){throw i!==null&&typeof i=="object"&&typeof i.then=="function"?(Aa=i,Ti):i}}var Aa=null;function Hw(){if(Aa===null)throw Error(s(459));var n=Aa;return Aa=null,n}function Yw(n){if(n===Ti||n===Ao)throw Error(s(483))}var Di=null,uu=0;function Oo(n){var r=uu;return uu+=1,Di===null&&(Di=[]),Bw(Di,n,r)}function cu(n,r){r=r.props.ref,n.ref=r!==void 0?r:null}function qo(n,r){throw r.$$typeof===S?Error(s(525)):(n=Object.prototype.toString.call(r),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":n)))}function $w(n){function r(F,_){if(n){var V=F.deletions;V===null?(F.deletions=[_],F.flags|=16):V.push(_)}}function i(F,_){if(!n)return null;for(;_!==null;)r(F,_),_=_.sibling;return null}function u(F){for(var _=new Map;F!==null;)F.key!==null?_.set(F.key,F):_.set(F.index,F),F=F.sibling;return _}function l(F,_){return F=Kn(F,_),F.index=0,F.sibling=null,F}function d(F,_,V){return F.index=V,n?(V=F.alternate,V!==null?(V=V.index,V<_?(F.flags|=67108866,_):V):(F.flags|=67108866,_)):(F.flags|=1048576,_)}function y(F){return n&&F.alternate===null&&(F.flags|=67108866),F}function b(F,_,V,ee){return _===null||_.tag!==6?(_=Th(V,F.mode,ee),_.return=F,_):(_=l(_,V),_.return=F,_)}function T(F,_,V,ee){var me=V.type;return me===A?P(F,_,V.props.children,ee,V.key):_!==null&&(_.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===z&&Ca(me)===_.type)?(_=l(_,V.props),cu(_,V),_.return=F,_):(_=vo(V.type,V.key,V.props,null,F.mode,ee),cu(_,V),_.return=F,_)}function j(F,_,V,ee){return _===null||_.tag!==4||_.stateNode.containerInfo!==V.containerInfo||_.stateNode.implementation!==V.implementation?(_=Dh(V,F.mode,ee),_.return=F,_):(_=l(_,V.children||[]),_.return=F,_)}function P(F,_,V,ee,me){return _===null||_.tag!==7?(_=pa(V,F.mode,ee,me),_.return=F,_):(_=l(_,V),_.return=F,_)}function ne(F,_,V){if(typeof _=="string"&&_!==""||typeof _=="number"||typeof _=="bigint")return _=Th(""+_,F.mode,V),_.return=F,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case w:return V=vo(_.type,_.key,_.props,null,F.mode,V),cu(V,_),V.return=F,V;case C:return _=Dh(_,F.mode,V),_.return=F,_;case z:return _=Ca(_),ne(F,_,V)}if(N(_)||ce(_))return _=pa(_,F.mode,V,null),_.return=F,_;if(typeof _.then=="function")return ne(F,Oo(_),V);if(_.$$typeof===R)return ne(F,wo(F,_),V);qo(F,_)}return null}function H(F,_,V,ee){var me=_!==null?_.key:null;if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return me!==null?null:b(F,_,""+V,ee);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case w:return V.key===me?T(F,_,V,ee):null;case C:return V.key===me?j(F,_,V,ee):null;case z:return V=Ca(V),H(F,_,V,ee)}if(N(V)||ce(V))return me!==null?null:P(F,_,V,ee,null);if(typeof V.then=="function")return H(F,_,Oo(V),ee);if(V.$$typeof===R)return H(F,_,wo(F,V),ee);qo(F,V)}return null}function G(F,_,V,ee,me){if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return F=F.get(V)||null,b(_,F,""+ee,me);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case w:return F=F.get(ee.key===null?V:ee.key)||null,T(_,F,ee,me);case C:return F=F.get(ee.key===null?V:ee.key)||null,j(_,F,ee,me);case z:return ee=Ca(ee),G(F,_,V,ee,me)}if(N(ee)||ce(ee))return F=F.get(V)||null,P(_,F,ee,me,null);if(typeof ee.then=="function")return G(F,_,V,Oo(ee),me);if(ee.$$typeof===R)return G(F,_,V,wo(_,ee),me);qo(_,ee)}return null}function de(F,_,V,ee){for(var me=null,ze=null,he=_,Oe=_=0,Ue=null;he!==null&&Oe<V.length;Oe++){he.index>Oe?(Ue=he,he=null):Ue=he.sibling;var Ne=H(F,he,V[Oe],ee);if(Ne===null){he===null&&(he=Ue);break}n&&he&&Ne.alternate===null&&r(F,he),_=d(Ne,_,Oe),ze===null?me=Ne:ze.sibling=Ne,ze=Ne,he=Ue}if(Oe===V.length)return i(F,he),Ie&&Xn(F,Oe),me;if(he===null){for(;Oe<V.length;Oe++)he=ne(F,V[Oe],ee),he!==null&&(_=d(he,_,Oe),ze===null?me=he:ze.sibling=he,ze=he);return Ie&&Xn(F,Oe),me}for(he=u(he);Oe<V.length;Oe++)Ue=G(he,F,Oe,V[Oe],ee),Ue!==null&&(n&&Ue.alternate!==null&&he.delete(Ue.key===null?Oe:Ue.key),_=d(Ue,_,Oe),ze===null?me=Ue:ze.sibling=Ue,ze=Ue);return n&&he.forEach(function(Hr){return r(F,Hr)}),Ie&&Xn(F,Oe),me}function pe(F,_,V,ee){if(V==null)throw Error(s(151));for(var me=null,ze=null,he=_,Oe=_=0,Ue=null,Ne=V.next();he!==null&&!Ne.done;Oe++,Ne=V.next()){he.index>Oe?(Ue=he,he=null):Ue=he.sibling;var Hr=H(F,he,Ne.value,ee);if(Hr===null){he===null&&(he=Ue);break}n&&he&&Hr.alternate===null&&r(F,he),_=d(Hr,_,Oe),ze===null?me=Hr:ze.sibling=Hr,ze=Hr,he=Ue}if(Ne.done)return i(F,he),Ie&&Xn(F,Oe),me;if(he===null){for(;!Ne.done;Oe++,Ne=V.next())Ne=ne(F,Ne.value,ee),Ne!==null&&(_=d(Ne,_,Oe),ze===null?me=Ne:ze.sibling=Ne,ze=Ne);return Ie&&Xn(F,Oe),me}for(he=u(he);!Ne.done;Oe++,Ne=V.next())Ne=G(he,F,Oe,Ne.value,ee),Ne!==null&&(n&&Ne.alternate!==null&&he.delete(Ne.key===null?Oe:Ne.key),_=d(Ne,_,Oe),ze===null?me=Ne:ze.sibling=Ne,ze=Ne);return n&&he.forEach(function(sV){return r(F,sV)}),Ie&&Xn(F,Oe),me}function Ye(F,_,V,ee){if(typeof V=="object"&&V!==null&&V.type===A&&V.key===null&&(V=V.props.children),typeof V=="object"&&V!==null){switch(V.$$typeof){case w:e:{for(var me=V.key;_!==null;){if(_.key===me){if(me=V.type,me===A){if(_.tag===7){i(F,_.sibling),ee=l(_,V.props.children),ee.return=F,F=ee;break e}}else if(_.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===z&&Ca(me)===_.type){i(F,_.sibling),ee=l(_,V.props),cu(ee,V),ee.return=F,F=ee;break e}i(F,_);break}else r(F,_);_=_.sibling}V.type===A?(ee=pa(V.props.children,F.mode,ee,V.key),ee.return=F,F=ee):(ee=vo(V.type,V.key,V.props,null,F.mode,ee),cu(ee,V),ee.return=F,F=ee)}return y(F);case C:e:{for(me=V.key;_!==null;){if(_.key===me)if(_.tag===4&&_.stateNode.containerInfo===V.containerInfo&&_.stateNode.implementation===V.implementation){i(F,_.sibling),ee=l(_,V.children||[]),ee.return=F,F=ee;break e}else{i(F,_);break}else r(F,_);_=_.sibling}ee=Dh(V,F.mode,ee),ee.return=F,F=ee}return y(F);case z:return V=Ca(V),Ye(F,_,V,ee)}if(N(V))return de(F,_,V,ee);if(ce(V)){if(me=ce(V),typeof me!="function")throw Error(s(150));return V=me.call(V),pe(F,_,V,ee)}if(typeof V.then=="function")return Ye(F,_,Oo(V),ee);if(V.$$typeof===R)return Ye(F,_,wo(F,V),ee);qo(F,V)}return typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint"?(V=""+V,_!==null&&_.tag===6?(i(F,_.sibling),ee=l(_,V),ee.return=F,F=ee):(i(F,_),ee=Th(V,F.mode,ee),ee.return=F,F=ee),y(F)):i(F,_)}return function(F,_,V,ee){try{uu=0;var me=Ye(F,_,V,ee);return Di=null,me}catch(he){if(he===Ti||he===Ao)throw he;var ze=Wt(29,he,null,F.mode);return ze.lanes=ee,ze.return=F,ze}finally{}}}var Ra=$w(!0),Gw=$w(!1),Er=!1;function jh(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Lh(n,r){n=n.updateQueue,r.updateQueue===n&&(r.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Tr(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Dr(n,r,i){var u=n.updateQueue;if(u===null)return null;if(u=u.shared,(Qe&2)!==0){var l=u.pending;return l===null?r.next=r:(r.next=l.next,l.next=r),u.pending=r,r=po(n),xw(n,null,i),r}return yo(n,u,r,i),po(n)}function ou(n,r,i){if(r=r.updateQueue,r!==null&&(r=r.shared,(i&4194048)!==0)){var u=r.lanes;u&=n.pendingLanes,i|=u,r.lanes=i,N0(n,i)}}function Bh(n,r){var i=n.updateQueue,u=n.alternate;if(u!==null&&(u=u.updateQueue,i===u)){var l=null,d=null;if(i=i.firstBaseUpdate,i!==null){do{var y={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};d===null?l=d=y:d=d.next=y,i=i.next}while(i!==null);d===null?l=d=r:d=d.next=r}else l=d=r;i={baseState:u.baseState,firstBaseUpdate:l,lastBaseUpdate:d,shared:u.shared,callbacks:u.callbacks},n.updateQueue=i;return}n=i.lastBaseUpdate,n===null?i.firstBaseUpdate=r:n.next=r,i.lastBaseUpdate=r}var Hh=!1;function lu(){if(Hh){var n=Ei;if(n!==null)throw n}}function du(n,r,i,u){Hh=!1;var l=n.updateQueue;Er=!1;var d=l.firstBaseUpdate,y=l.lastBaseUpdate,b=l.shared.pending;if(b!==null){l.shared.pending=null;var T=b,j=T.next;T.next=null,y===null?d=j:y.next=j,y=T;var P=n.alternate;P!==null&&(P=P.updateQueue,b=P.lastBaseUpdate,b!==y&&(b===null?P.firstBaseUpdate=j:b.next=j,P.lastBaseUpdate=T))}if(d!==null){var ne=l.baseState;y=0,P=j=T=null,b=d;do{var H=b.lane&-536870913,G=H!==b.lane;if(G?(_e&H)===H:(u&H)===H){H!==0&&H===qi&&(Hh=!0),P!==null&&(P=P.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var de=n,pe=b;H=r;var Ye=i;switch(pe.tag){case 1:if(de=pe.payload,typeof de=="function"){ne=de.call(Ye,ne,H);break e}ne=de;break e;case 3:de.flags=de.flags&-65537|128;case 0:if(de=pe.payload,H=typeof de=="function"?de.call(Ye,ne,H):de,H==null)break e;ne=v({},ne,H);break e;case 2:Er=!0}}H=b.callback,H!==null&&(n.flags|=64,G&&(n.flags|=8192),G=l.callbacks,G===null?l.callbacks=[H]:G.push(H))}else G={lane:H,tag:b.tag,payload:b.payload,callback:b.callback,next:null},P===null?(j=P=G,T=ne):P=P.next=G,y|=H;if(b=b.next,b===null){if(b=l.shared.pending,b===null)break;G=b,b=G.next,G.next=null,l.lastBaseUpdate=G,l.shared.pending=null}}while(!0);P===null&&(T=ne),l.baseState=T,l.firstBaseUpdate=j,l.lastBaseUpdate=P,d===null&&(l.shared.lanes=0),Ir|=y,n.lanes=y,n.memoizedState=ne}}function Kw(n,r){if(typeof n!="function")throw Error(s(191,n));n.call(r)}function Xw(n,r){var i=n.callbacks;if(i!==null)for(n.callbacks=null,n=0;n<i.length;n++)Kw(i[n],r)}var xi=D(null),Eo=D(0);function Zw(n,r){n=sr,W(Eo,n),W(xi,r),sr=n|r.baseLanes}function Yh(){W(Eo,sr),W(xi,xi.current)}function $h(){sr=Eo.current,Q(xi),Q(Eo)}var en=D(null),gn=null;function xr(n){var r=n.alternate;W(rt,rt.current&1),W(en,n),gn===null&&(r===null||xi.current!==null||r.memoizedState!==null)&&(gn=n)}function Gh(n){W(rt,rt.current),W(en,n),gn===null&&(gn=n)}function Jw(n){n.tag===22?(W(rt,rt.current),W(en,n),gn===null&&(gn=n)):Mr()}function Mr(){W(rt,rt.current),W(en,en.current)}function tn(n){Q(en),gn===n&&(gn=null),Q(rt)}var rt=D(0);function To(n){for(var r=n;r!==null;){if(r.tag===13){var i=r.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||Wg(i)||em(i)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Pn=0,Re=null,Be=null,st=null,Do=!1,Mi=!1,Oa=!1,xo=0,fu=0,_i=null,ZN=0;function et(){throw Error(s(321))}function Kh(n,r){if(r===null)return!1;for(var i=0;i<r.length&&i<n.length;i++)if(!Pt(n[i],r[i]))return!1;return!0}function Xh(n,r,i,u,l,d){return Pn=d,Re=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,E.H=n===null||n.memoizedState===null?IC:lg,Oa=!1,d=i(u,l),Oa=!1,Mi&&(d=Ww(r,i,u,l)),Pw(n),d}function Pw(n){E.H=mu;var r=Be!==null&&Be.next!==null;if(Pn=0,st=Be=Re=null,Do=!1,fu=0,_i=null,r)throw Error(s(300));n===null||ut||(n=n.dependencies,n!==null&&bo(n)&&(ut=!0))}function Ww(n,r,i,u){Re=n;var l=0;do{if(Mi&&(_i=null),fu=0,Mi=!1,25<=l)throw Error(s(301));if(l+=1,st=Be=null,n.updateQueue!=null){var d=n.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}E.H=FC,d=r(i,u)}while(Mi);return d}function JN(){var n=E.H,r=n.useState()[0];return r=typeof r.then=="function"?hu(r):r,n=n.useState()[0],(Be!==null?Be.memoizedState:null)!==n&&(Re.flags|=1024),r}function Zh(){var n=xo!==0;return xo=0,n}function Jh(n,r,i){r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~i}function Ph(n){if(Do){for(n=n.memoizedState;n!==null;){var r=n.queue;r!==null&&(r.pending=null),n=n.next}Do=!1}Pn=0,st=Be=Re=null,Mi=!1,fu=xo=0,_i=null}function kt(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return st===null?Re.memoizedState=st=n:st=st.next=n,st}function at(){if(Be===null){var n=Re.alternate;n=n!==null?n.memoizedState:null}else n=Be.next;var r=st===null?Re.memoizedState:st.next;if(r!==null)st=r,Be=n;else{if(n===null)throw Re.alternate===null?Error(s(467)):Error(s(310));Be=n,n={memoizedState:Be.memoizedState,baseState:Be.baseState,baseQueue:Be.baseQueue,queue:Be.queue,next:null},st===null?Re.memoizedState=st=n:st=st.next=n}return st}function Mo(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function hu(n){var r=fu;return fu+=1,_i===null&&(_i=[]),n=Bw(_i,n,r),r=Re,(st===null?r.memoizedState:st.next)===null&&(r=r.alternate,E.H=r===null||r.memoizedState===null?IC:lg),n}function _o(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return hu(n);if(n.$$typeof===R)return Ct(n)}throw Error(s(438,String(n)))}function Wh(n){var r=null,i=Re.updateQueue;if(i!==null&&(r=i.memoCache),r==null){var u=Re.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(l){return l.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),i===null&&(i=Mo(),Re.updateQueue=i),i.memoCache=r,i=r.data[r.index],i===void 0)for(i=r.data[r.index]=Array(n),u=0;u<n;u++)i[u]=J;return r.index++,i}function Wn(n,r){return typeof r=="function"?r(n):r}function Uo(n){var r=at();return eg(r,Be,n)}function eg(n,r,i){var u=n.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=i;var l=n.baseQueue,d=u.pending;if(d!==null){if(l!==null){var y=l.next;l.next=d.next,d.next=y}r.baseQueue=l=d,u.pending=null}if(d=n.baseState,l===null)n.memoizedState=d;else{r=l.next;var b=y=null,T=null,j=r,P=!1;do{var ne=j.lane&-536870913;if(ne!==j.lane?(_e&ne)===ne:(Pn&ne)===ne){var H=j.revertLane;if(H===0)T!==null&&(T=T.next={lane:0,revertLane:0,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),ne===qi&&(P=!0);else if((Pn&H)===H){j=j.next,H===qi&&(P=!0);continue}else ne={lane:0,revertLane:j.revertLane,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},T===null?(b=T=ne,y=d):T=T.next=ne,Re.lanes|=H,Ir|=H;ne=j.action,Oa&&i(d,ne),d=j.hasEagerState?j.eagerState:i(d,ne)}else H={lane:ne,revertLane:j.revertLane,gesture:j.gesture,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},T===null?(b=T=H,y=d):T=T.next=H,Re.lanes|=ne,Ir|=ne;j=j.next}while(j!==null&&j!==r);if(T===null?y=d:T.next=b,!Pt(d,n.memoizedState)&&(ut=!0,P&&(i=Ei,i!==null)))throw i;n.memoizedState=d,n.baseState=y,n.baseQueue=T,u.lastRenderedState=d}return l===null&&(u.lanes=0),[n.memoizedState,u.dispatch]}function tg(n){var r=at(),i=r.queue;if(i===null)throw Error(s(311));i.lastRenderedReducer=n;var u=i.dispatch,l=i.pending,d=r.memoizedState;if(l!==null){i.pending=null;var y=l=l.next;do d=n(d,y.action),y=y.next;while(y!==l);Pt(d,r.memoizedState)||(ut=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),i.lastRenderedState=d}return[d,u]}function eC(n,r,i){var u=Re,l=at(),d=Ie;if(d){if(i===void 0)throw Error(s(407));i=i()}else i=r();var y=!Pt((Be||l).memoizedState,i);if(y&&(l.memoizedState=i,ut=!0),l=l.queue,ag(rC.bind(null,u,l,n),[n]),l.getSnapshot!==r||y||st!==null&&st.memoizedState.tag&1){if(u.flags|=2048,Ui(9,{destroy:void 0},nC.bind(null,u,l,i,r),null),Ge===null)throw Error(s(349));d||(Pn&127)!==0||tC(u,r,i)}return i}function tC(n,r,i){n.flags|=16384,n={getSnapshot:r,value:i},r=Re.updateQueue,r===null?(r=Mo(),Re.updateQueue=r,r.stores=[n]):(i=r.stores,i===null?r.stores=[n]:i.push(n))}function nC(n,r,i,u){r.value=i,r.getSnapshot=u,aC(r)&&iC(n)}function rC(n,r,i){return i(function(){aC(r)&&iC(n)})}function aC(n){var r=n.getSnapshot;n=n.value;try{var i=r();return!Pt(n,i)}catch{return!0}}function iC(n){var r=ya(n,2);r!==null&&$t(r,n,2)}function ng(n){var r=kt();if(typeof n=="function"){var i=n;if(n=i(),Oa){br(!0);try{i()}finally{br(!1)}}}return r.memoizedState=r.baseState=n,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wn,lastRenderedState:n},r}function sC(n,r,i,u){return n.baseState=i,eg(n,Be,typeof u=="function"?u:Wn)}function PN(n,r,i,u,l){if(ko(n))throw Error(s(485));if(n=r.action,n!==null){var d={payload:l,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){d.listeners.push(y)}};E.T!==null?i(!0):d.isTransition=!1,u(d),i=r.pending,i===null?(d.next=r.pending=d,uC(r,d)):(d.next=i.next,r.pending=i.next=d)}}function uC(n,r){var i=r.action,u=r.payload,l=n.state;if(r.isTransition){var d=E.T,y={};E.T=y;try{var b=i(l,u),T=E.S;T!==null&&T(y,b),cC(n,r,b)}catch(j){rg(n,r,j)}finally{d!==null&&y.types!==null&&(d.types=y.types),E.T=d}}else try{d=i(l,u),cC(n,r,d)}catch(j){rg(n,r,j)}}function cC(n,r,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(u){oC(n,r,u)},function(u){return rg(n,r,u)}):oC(n,r,i)}function oC(n,r,i){r.status="fulfilled",r.value=i,lC(r),n.state=i,r=n.pending,r!==null&&(i=r.next,i===r?n.pending=null:(i=i.next,r.next=i,uC(n,i)))}function rg(n,r,i){var u=n.pending;if(n.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=i,lC(r),r=r.next;while(r!==u)}n.action=null}function lC(n){n=n.listeners;for(var r=0;r<n.length;r++)(0,n[r])()}function dC(n,r){return r}function fC(n,r){if(Ie){var i=Ge.formState;if(i!==null){e:{var u=Re;if(Ie){if(Ze){t:{for(var l=Ze,d=hn;l.nodeType!==8;){if(!d){l=null;break t}if(l=mn(l.nextSibling),l===null){l=null;break t}}d=l.data,l=d==="F!"||d==="F"?l:null}if(l){Ze=mn(l.nextSibling),u=l.data==="F!";break e}}Or(u)}u=!1}u&&(r=i[0])}}return i=kt(),i.memoizedState=i.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:dC,lastRenderedState:r},i.queue=u,i=MC.bind(null,Re,u),u.dispatch=i,u=ng(!1),d=og.bind(null,Re,!1,u.queue),u=kt(),l={state:r,dispatch:null,action:n,pending:null},u.queue=l,i=PN.bind(null,Re,l,d,i),l.dispatch=i,u.memoizedState=n,[r,i,!1]}function hC(n){var r=at();return gC(r,Be,n)}function gC(n,r,i){if(r=eg(n,r,dC)[0],n=Uo(Wn)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var u=hu(r)}catch(y){throw y===Ti?Ao:y}else u=r;r=at();var l=r.queue,d=l.dispatch;return i!==r.memoizedState&&(Re.flags|=2048,Ui(9,{destroy:void 0},WN.bind(null,l,i),null)),[u,d,n]}function WN(n,r){n.action=r}function mC(n){var r=at(),i=Be;if(i!==null)return gC(r,i,n);at(),r=r.memoizedState,i=at();var u=i.queue.dispatch;return i.memoizedState=n,[r,u,!1]}function Ui(n,r,i,u){return n={tag:n,create:i,deps:u,inst:r,next:null},r=Re.updateQueue,r===null&&(r=Mo(),Re.updateQueue=r),i=r.lastEffect,i===null?r.lastEffect=n.next=n:(u=i.next,i.next=n,n.next=u,r.lastEffect=n),n}function yC(){return at().memoizedState}function Io(n,r,i,u){var l=kt();Re.flags|=n,l.memoizedState=Ui(1|r,{destroy:void 0},i,u===void 0?null:u)}function Fo(n,r,i,u){var l=at();u=u===void 0?null:u;var d=l.memoizedState.inst;Be!==null&&u!==null&&Kh(u,Be.memoizedState.deps)?l.memoizedState=Ui(r,d,i,u):(Re.flags|=n,l.memoizedState=Ui(1|r,d,i,u))}function pC(n,r){Io(8390656,8,n,r)}function ag(n,r){Fo(2048,8,n,r)}function eQ(n){Re.flags|=4;var r=Re.updateQueue;if(r===null)r=Mo(),Re.updateQueue=r,r.events=[n];else{var i=r.events;i===null?r.events=[n]:i.push(n)}}function vC(n){var r=at().memoizedState;return eQ({ref:r,nextImpl:n}),function(){if((Qe&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function SC(n,r){return Fo(4,2,n,r)}function bC(n,r){return Fo(4,4,n,r)}function wC(n,r){if(typeof r=="function"){n=n();var i=r(n);return function(){typeof i=="function"?i():r(null)}}if(r!=null)return n=n(),r.current=n,function(){r.current=null}}function CC(n,r,i){i=i!=null?i.concat([n]):null,Fo(4,4,wC.bind(null,r,n),i)}function ig(){}function AC(n,r){var i=at();r=r===void 0?null:r;var u=i.memoizedState;return r!==null&&Kh(r,u[1])?u[0]:(i.memoizedState=[n,r],n)}function RC(n,r){var i=at();r=r===void 0?null:r;var u=i.memoizedState;if(r!==null&&Kh(r,u[1]))return u[0];if(u=n(),Oa){br(!0);try{n()}finally{br(!1)}}return i.memoizedState=[u,r],u}function sg(n,r,i){return i===void 0||(Pn&1073741824)!==0&&(_e&261930)===0?n.memoizedState=r:(n.memoizedState=i,n=OA(),Re.lanes|=n,Ir|=n,i)}function OC(n,r,i,u){return Pt(i,r)?i:xi.current!==null?(n=sg(n,i,u),Pt(n,r)||(ut=!0),n):(Pn&42)===0||(Pn&1073741824)!==0&&(_e&261930)===0?(ut=!0,n.memoizedState=i):(n=OA(),Re.lanes|=n,Ir|=n,r)}function qC(n,r,i,u,l){var d=L.p;L.p=d!==0&&8>d?d:8;var y=E.T,b={};E.T=b,og(n,!1,r,i);try{var T=l(),j=E.S;if(j!==null&&j(b,T),T!==null&&typeof T=="object"&&typeof T.then=="function"){var P=XN(T,u);gu(n,r,P,an(n))}else gu(n,r,u,an(n))}catch(ne){gu(n,r,{then:function(){},status:"rejected",reason:ne},an())}finally{L.p=d,y!==null&&b.types!==null&&(y.types=b.types),E.T=y}}function tQ(){}function ug(n,r,i,u){if(n.tag!==5)throw Error(s(476));var l=EC(n).queue;qC(n,l,r,te,i===null?tQ:function(){return TC(n),i(u)})}function EC(n){var r=n.memoizedState;if(r!==null)return r;r={memoizedState:te,baseState:te,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wn,lastRenderedState:te},next:null};var i={};return r.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wn,lastRenderedState:i},next:null},n.memoizedState=r,n=n.alternate,n!==null&&(n.memoizedState=r),r}function TC(n){var r=EC(n);r.next===null&&(r=n.alternate.memoizedState),gu(n,r.next.queue,{},an())}function cg(){return Ct(Mu)}function DC(){return at().memoizedState}function xC(){return at().memoizedState}function nQ(n){for(var r=n.return;r!==null;){switch(r.tag){case 24:case 3:var i=an();n=Tr(i);var u=Dr(r,n,i);u!==null&&($t(u,r,i),ou(u,r,i)),r={cache:zh()},n.payload=r;return}r=r.return}}function rQ(n,r,i){var u=an();i={lane:u,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},ko(n)?_C(r,i):(i=qh(n,r,i,u),i!==null&&($t(i,n,u),UC(i,r,u)))}function MC(n,r,i){var u=an();gu(n,r,i,u)}function gu(n,r,i,u){var l={lane:u,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null};if(ko(n))_C(r,l);else{var d=n.alternate;if(n.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var y=r.lastRenderedState,b=d(y,i);if(l.hasEagerState=!0,l.eagerState=b,Pt(b,y))return yo(n,r,l,0),Ge===null&&mo(),!1}catch{}finally{}if(i=qh(n,r,l,u),i!==null)return $t(i,n,u),UC(i,r,u),!0}return!1}function og(n,r,i,u){if(u={lane:2,revertLane:jg(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},ko(n)){if(r)throw Error(s(479))}else r=qh(n,i,u,2),r!==null&&$t(r,n,2)}function ko(n){var r=n.alternate;return n===Re||r!==null&&r===Re}function _C(n,r){Mi=Do=!0;var i=n.pending;i===null?r.next=r:(r.next=i.next,i.next=r),n.pending=r}function UC(n,r,i){if((i&4194048)!==0){var u=r.lanes;u&=n.pendingLanes,i|=u,r.lanes=i,N0(n,i)}}var mu={readContext:Ct,use:_o,useCallback:et,useContext:et,useEffect:et,useImperativeHandle:et,useLayoutEffect:et,useInsertionEffect:et,useMemo:et,useReducer:et,useRef:et,useState:et,useDebugValue:et,useDeferredValue:et,useTransition:et,useSyncExternalStore:et,useId:et,useHostTransitionStatus:et,useFormState:et,useActionState:et,useOptimistic:et,useMemoCache:et,useCacheRefresh:et};mu.useEffectEvent=et;var IC={readContext:Ct,use:_o,useCallback:function(n,r){return kt().memoizedState=[n,r===void 0?null:r],n},useContext:Ct,useEffect:pC,useImperativeHandle:function(n,r,i){i=i!=null?i.concat([n]):null,Io(4194308,4,wC.bind(null,r,n),i)},useLayoutEffect:function(n,r){return Io(4194308,4,n,r)},useInsertionEffect:function(n,r){Io(4,2,n,r)},useMemo:function(n,r){var i=kt();r=r===void 0?null:r;var u=n();if(Oa){br(!0);try{n()}finally{br(!1)}}return i.memoizedState=[u,r],u},useReducer:function(n,r,i){var u=kt();if(i!==void 0){var l=i(r);if(Oa){br(!0);try{i(r)}finally{br(!1)}}}else l=r;return u.memoizedState=u.baseState=l,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:l},u.queue=n,n=n.dispatch=rQ.bind(null,Re,n),[u.memoizedState,n]},useRef:function(n){var r=kt();return n={current:n},r.memoizedState=n},useState:function(n){n=ng(n);var r=n.queue,i=MC.bind(null,Re,r);return r.dispatch=i,[n.memoizedState,i]},useDebugValue:ig,useDeferredValue:function(n,r){var i=kt();return sg(i,n,r)},useTransition:function(){var n=ng(!1);return n=qC.bind(null,Re,n.queue,!0,!1),kt().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,r,i){var u=Re,l=kt();if(Ie){if(i===void 0)throw Error(s(407));i=i()}else{if(i=r(),Ge===null)throw Error(s(349));(_e&127)!==0||tC(u,r,i)}l.memoizedState=i;var d={value:i,getSnapshot:r};return l.queue=d,pC(rC.bind(null,u,d,n),[n]),u.flags|=2048,Ui(9,{destroy:void 0},nC.bind(null,u,d,i,r),null),i},useId:function(){var n=kt(),r=Ge.identifierPrefix;if(Ie){var i=Mn,u=xn;i=(u&~(1<<32-Jt(u)-1)).toString(32)+i,r="_"+r+"R_"+i,i=xo++,0<i&&(r+="H"+i.toString(32)),r+="_"}else i=ZN++,r="_"+r+"r_"+i.toString(32)+"_";return n.memoizedState=r},useHostTransitionStatus:cg,useFormState:fC,useActionState:fC,useOptimistic:function(n){var r=kt();r.memoizedState=r.baseState=n;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=i,r=og.bind(null,Re,!0,i),i.dispatch=r,[n,r]},useMemoCache:Wh,useCacheRefresh:function(){return kt().memoizedState=nQ.bind(null,Re)},useEffectEvent:function(n){var r=kt(),i={impl:n};return r.memoizedState=i,function(){if((Qe&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}},lg={readContext:Ct,use:_o,useCallback:AC,useContext:Ct,useEffect:ag,useImperativeHandle:CC,useInsertionEffect:SC,useLayoutEffect:bC,useMemo:RC,useReducer:Uo,useRef:yC,useState:function(){return Uo(Wn)},useDebugValue:ig,useDeferredValue:function(n,r){var i=at();return OC(i,Be.memoizedState,n,r)},useTransition:function(){var n=Uo(Wn)[0],r=at().memoizedState;return[typeof n=="boolean"?n:hu(n),r]},useSyncExternalStore:eC,useId:DC,useHostTransitionStatus:cg,useFormState:hC,useActionState:hC,useOptimistic:function(n,r){var i=at();return sC(i,Be,n,r)},useMemoCache:Wh,useCacheRefresh:xC};lg.useEffectEvent=vC;var FC={readContext:Ct,use:_o,useCallback:AC,useContext:Ct,useEffect:ag,useImperativeHandle:CC,useInsertionEffect:SC,useLayoutEffect:bC,useMemo:RC,useReducer:tg,useRef:yC,useState:function(){return tg(Wn)},useDebugValue:ig,useDeferredValue:function(n,r){var i=at();return Be===null?sg(i,n,r):OC(i,Be.memoizedState,n,r)},useTransition:function(){var n=tg(Wn)[0],r=at().memoizedState;return[typeof n=="boolean"?n:hu(n),r]},useSyncExternalStore:eC,useId:DC,useHostTransitionStatus:cg,useFormState:mC,useActionState:mC,useOptimistic:function(n,r){var i=at();return Be!==null?sC(i,Be,n,r):(i.baseState=n,[n,i.queue.dispatch])},useMemoCache:Wh,useCacheRefresh:xC};FC.useEffectEvent=vC;function dg(n,r,i,u){r=n.memoizedState,i=i(u,r),i=i==null?r:v({},r,i),n.memoizedState=i,n.lanes===0&&(n.updateQueue.baseState=i)}var fg={enqueueSetState:function(n,r,i){n=n._reactInternals;var u=an(),l=Tr(u);l.payload=r,i!=null&&(l.callback=i),r=Dr(n,l,u),r!==null&&($t(r,n,u),ou(r,n,u))},enqueueReplaceState:function(n,r,i){n=n._reactInternals;var u=an(),l=Tr(u);l.tag=1,l.payload=r,i!=null&&(l.callback=i),r=Dr(n,l,u),r!==null&&($t(r,n,u),ou(r,n,u))},enqueueForceUpdate:function(n,r){n=n._reactInternals;var i=an(),u=Tr(i);u.tag=2,r!=null&&(u.callback=r),r=Dr(n,u,i),r!==null&&($t(r,n,i),ou(r,n,i))}};function kC(n,r,i,u,l,d,y){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(u,d,y):r.prototype&&r.prototype.isPureReactComponent?!tu(i,u)||!tu(l,d):!0}function zC(n,r,i,u){n=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(i,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(i,u),r.state!==n&&fg.enqueueReplaceState(r,r.state,null)}function qa(n,r){var i=r;if("ref"in r){i={};for(var u in r)u!=="ref"&&(i[u]=r[u])}if(n=n.defaultProps){i===r&&(i=v({},i));for(var l in n)i[l]===void 0&&(i[l]=n[l])}return i}function NC(n){go(n)}function QC(n){console.error(n)}function VC(n){go(n)}function zo(n,r){try{var i=n.onUncaughtError;i(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function jC(n,r,i){try{var u=n.onCaughtError;u(i.value,{componentStack:i.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(l){setTimeout(function(){throw l})}}function hg(n,r,i){return i=Tr(i),i.tag=3,i.payload={element:null},i.callback=function(){zo(n,r)},i}function LC(n){return n=Tr(n),n.tag=3,n}function BC(n,r,i,u){var l=i.type.getDerivedStateFromError;if(typeof l=="function"){var d=u.value;n.payload=function(){return l(d)},n.callback=function(){jC(r,i,u)}}var y=i.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(n.callback=function(){jC(r,i,u),typeof l!="function"&&(Fr===null?Fr=new Set([this]):Fr.add(this));var b=u.stack;this.componentDidCatch(u.value,{componentStack:b!==null?b:""})})}function aQ(n,r,i,u,l){if(i.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=i.alternate,r!==null&&Oi(r,i,l,!0),i=en.current,i!==null){switch(i.tag){case 31:case 13:return gn===null?Xo():i.alternate===null&&tt===0&&(tt=3),i.flags&=-257,i.flags|=65536,i.lanes=l,u===Ro?i.flags|=16384:(r=i.updateQueue,r===null?i.updateQueue=new Set([u]):r.add(u),Ng(n,u,l)),!1;case 22:return i.flags|=65536,u===Ro?i.flags|=16384:(r=i.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},i.updateQueue=r):(i=r.retryQueue,i===null?r.retryQueue=new Set([u]):i.add(u)),Ng(n,u,l)),!1}throw Error(s(435,i.tag))}return Ng(n,u,l),Xo(),!1}if(Ie)return r=en.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=l,u!==_h&&(n=Error(s(422),{cause:u}),au(ln(n,i)))):(u!==_h&&(r=Error(s(423),{cause:u}),au(ln(r,i))),n=n.current.alternate,n.flags|=65536,l&=-l,n.lanes|=l,u=ln(u,i),l=hg(n.stateNode,u,l),Bh(n,l),tt!==4&&(tt=2)),!1;var d=Error(s(520),{cause:u});if(d=ln(d,i),Au===null?Au=[d]:Au.push(d),tt!==4&&(tt=2),r===null)return!0;u=ln(u,i),i=r;do{switch(i.tag){case 3:return i.flags|=65536,n=l&-l,i.lanes|=n,n=hg(i.stateNode,u,n),Bh(i,n),!1;case 1:if(r=i.type,d=i.stateNode,(i.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Fr===null||!Fr.has(d))))return i.flags|=65536,l&=-l,i.lanes|=l,l=LC(l),BC(l,n,i,u),Bh(i,l),!1}i=i.return}while(i!==null);return!1}var gg=Error(s(461)),ut=!1;function At(n,r,i,u){r.child=n===null?Gw(r,null,i,u):Ra(r,n.child,i,u)}function HC(n,r,i,u,l){i=i.render;var d=r.ref;if("ref"in u){var y={};for(var b in u)b!=="ref"&&(y[b]=u[b])}else y=u;return ba(r),u=Xh(n,r,i,y,d,l),b=Zh(),n!==null&&!ut?(Jh(n,r,l),er(n,r,l)):(Ie&&b&&xh(r),r.flags|=1,At(n,r,u,l),r.child)}function YC(n,r,i,u,l){if(n===null){var d=i.type;return typeof d=="function"&&!Eh(d)&&d.defaultProps===void 0&&i.compare===null?(r.tag=15,r.type=d,$C(n,r,d,u,l)):(n=vo(i.type,null,u,r,r.mode,l),n.ref=r.ref,n.return=r,r.child=n)}if(d=n.child,!Cg(n,l)){var y=d.memoizedProps;if(i=i.compare,i=i!==null?i:tu,i(y,u)&&n.ref===r.ref)return er(n,r,l)}return r.flags|=1,n=Kn(d,u),n.ref=r.ref,n.return=r,r.child=n}function $C(n,r,i,u,l){if(n!==null){var d=n.memoizedProps;if(tu(d,u)&&n.ref===r.ref)if(ut=!1,r.pendingProps=u=d,Cg(n,l))(n.flags&131072)!==0&&(ut=!0);else return r.lanes=n.lanes,er(n,r,l)}return mg(n,r,i,u,l)}function GC(n,r,i,u){var l=u.children,d=n!==null?n.memoizedState:null;if(n===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((r.flags&128)!==0){if(d=d!==null?d.baseLanes|i:i,n!==null){for(u=r.child=n.child,l=0;u!==null;)l=l|u.lanes|u.childLanes,u=u.sibling;u=l&~d}else u=0,r.child=null;return KC(n,r,d,i,u)}if((i&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},n!==null&&Co(r,d!==null?d.cachePool:null),d!==null?Zw(r,d):Yh(),Jw(r);else return u=r.lanes=536870912,KC(n,r,d!==null?d.baseLanes|i:i,i,u)}else d!==null?(Co(r,d.cachePool),Zw(r,d),Mr(),r.memoizedState=null):(n!==null&&Co(r,null),Yh(),Mr());return At(n,r,l,i),r.child}function yu(n,r){return n!==null&&n.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function KC(n,r,i,u,l){var d=Qh();return d=d===null?null:{parent:it._currentValue,pool:d},r.memoizedState={baseLanes:i,cachePool:d},n!==null&&Co(r,null),Yh(),Jw(r),n!==null&&Oi(n,r,u,!0),r.childLanes=l,null}function No(n,r){return r=Vo({mode:r.mode,children:r.children},n.mode),r.ref=n.ref,n.child=r,r.return=n,r}function XC(n,r,i){return Ra(r,n.child,null,i),n=No(r,r.pendingProps),n.flags|=2,tn(r),r.memoizedState=null,n}function iQ(n,r,i){var u=r.pendingProps,l=(r.flags&128)!==0;if(r.flags&=-129,n===null){if(Ie){if(u.mode==="hidden")return n=No(r,u),r.lanes=536870912,yu(null,n);if(Gh(r),(n=Ze)?(n=u1(n,hn),n=n!==null&&n.data==="&"?n:null,n!==null&&(r.memoizedState={dehydrated:n,treeContext:Ar!==null?{id:xn,overflow:Mn}:null,retryLane:536870912,hydrationErrors:null},i=_w(n),i.return=r,r.child=i,wt=r,Ze=null)):n=null,n===null)throw Or(r);return r.lanes=536870912,null}return No(r,u)}var d=n.memoizedState;if(d!==null){var y=d.dehydrated;if(Gh(r),l)if(r.flags&256)r.flags&=-257,r=XC(n,r,i);else if(r.memoizedState!==null)r.child=n.child,r.flags|=128,r=null;else throw Error(s(558));else if(ut||Oi(n,r,i,!1),l=(i&n.childLanes)!==0,ut||l){if(u=Ge,u!==null&&(y=Q0(u,i),y!==0&&y!==d.retryLane))throw d.retryLane=y,ya(n,y),$t(u,n,y),gg;Xo(),r=XC(n,r,i)}else n=d.treeContext,Ze=mn(y.nextSibling),wt=r,Ie=!0,Rr=null,hn=!1,n!==null&&Fw(r,n),r=No(r,u),r.flags|=4096;return r}return n=Kn(n.child,{mode:u.mode,children:u.children}),n.ref=r.ref,r.child=n,n.return=r,n}function Qo(n,r){var i=r.ref;if(i===null)n!==null&&n.ref!==null&&(r.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(s(284));(n===null||n.ref!==i)&&(r.flags|=4194816)}}function mg(n,r,i,u,l){return ba(r),i=Xh(n,r,i,u,void 0,l),u=Zh(),n!==null&&!ut?(Jh(n,r,l),er(n,r,l)):(Ie&&u&&xh(r),r.flags|=1,At(n,r,i,l),r.child)}function ZC(n,r,i,u,l,d){return ba(r),r.updateQueue=null,i=Ww(r,u,i,l),Pw(n),u=Zh(),n!==null&&!ut?(Jh(n,r,d),er(n,r,d)):(Ie&&u&&xh(r),r.flags|=1,At(n,r,i,d),r.child)}function JC(n,r,i,u,l){if(ba(r),r.stateNode===null){var d=wi,y=i.contextType;typeof y=="object"&&y!==null&&(d=Ct(y)),d=new i(u,d),r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=fg,r.stateNode=d,d._reactInternals=r,d=r.stateNode,d.props=u,d.state=r.memoizedState,d.refs={},jh(r),y=i.contextType,d.context=typeof y=="object"&&y!==null?Ct(y):wi,d.state=r.memoizedState,y=i.getDerivedStateFromProps,typeof y=="function"&&(dg(r,i,y,u),d.state=r.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(y=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),y!==d.state&&fg.enqueueReplaceState(d,d.state,null),du(r,u,d,l),lu(),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(n===null){d=r.stateNode;var b=r.memoizedProps,T=qa(i,b);d.props=T;var j=d.context,P=i.contextType;y=wi,typeof P=="object"&&P!==null&&(y=Ct(P));var ne=i.getDerivedStateFromProps;P=typeof ne=="function"||typeof d.getSnapshotBeforeUpdate=="function",b=r.pendingProps!==b,P||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(b||j!==y)&&zC(r,d,u,y),Er=!1;var H=r.memoizedState;d.state=H,du(r,u,d,l),lu(),j=r.memoizedState,b||H!==j||Er?(typeof ne=="function"&&(dg(r,i,ne,u),j=r.memoizedState),(T=Er||kC(r,i,T,u,H,j,y))?(P||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(r.flags|=4194308)):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=j),d.props=u,d.state=j,d.context=y,u=T):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{d=r.stateNode,Lh(n,r),y=r.memoizedProps,P=qa(i,y),d.props=P,ne=r.pendingProps,H=d.context,j=i.contextType,T=wi,typeof j=="object"&&j!==null&&(T=Ct(j)),b=i.getDerivedStateFromProps,(j=typeof b=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(y!==ne||H!==T)&&zC(r,d,u,T),Er=!1,H=r.memoizedState,d.state=H,du(r,u,d,l),lu();var G=r.memoizedState;y!==ne||H!==G||Er||n!==null&&n.dependencies!==null&&bo(n.dependencies)?(typeof b=="function"&&(dg(r,i,b,u),G=r.memoizedState),(P=Er||kC(r,i,P,u,H,G,T)||n!==null&&n.dependencies!==null&&bo(n.dependencies))?(j||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(u,G,T),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(u,G,T)),typeof d.componentDidUpdate=="function"&&(r.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof d.componentDidUpdate!="function"||y===n.memoizedProps&&H===n.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||y===n.memoizedProps&&H===n.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=G),d.props=u,d.state=G,d.context=T,u=P):(typeof d.componentDidUpdate!="function"||y===n.memoizedProps&&H===n.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||y===n.memoizedProps&&H===n.memoizedState||(r.flags|=1024),u=!1)}return d=u,Qo(n,r),u=(r.flags&128)!==0,d||u?(d=r.stateNode,i=u&&typeof i.getDerivedStateFromError!="function"?null:d.render(),r.flags|=1,n!==null&&u?(r.child=Ra(r,n.child,null,l),r.child=Ra(r,null,i,l)):At(n,r,i,l),r.memoizedState=d.state,n=r.child):n=er(n,r,l),n}function PC(n,r,i,u){return va(),r.flags|=256,At(n,r,i,u),r.child}var yg={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function pg(n){return{baseLanes:n,cachePool:jw()}}function vg(n,r,i){return n=n!==null?n.childLanes&~i:0,r&&(n|=rn),n}function WC(n,r,i){var u=r.pendingProps,l=!1,d=(r.flags&128)!==0,y;if((y=d)||(y=n!==null&&n.memoizedState===null?!1:(rt.current&2)!==0),y&&(l=!0,r.flags&=-129),y=(r.flags&32)!==0,r.flags&=-33,n===null){if(Ie){if(l?xr(r):Mr(),(n=Ze)?(n=u1(n,hn),n=n!==null&&n.data!=="&"?n:null,n!==null&&(r.memoizedState={dehydrated:n,treeContext:Ar!==null?{id:xn,overflow:Mn}:null,retryLane:536870912,hydrationErrors:null},i=_w(n),i.return=r,r.child=i,wt=r,Ze=null)):n=null,n===null)throw Or(r);return em(n)?r.lanes=32:r.lanes=536870912,null}var b=u.children;return u=u.fallback,l?(Mr(),l=r.mode,b=Vo({mode:"hidden",children:b},l),u=pa(u,l,i,null),b.return=r,u.return=r,b.sibling=u,r.child=b,u=r.child,u.memoizedState=pg(i),u.childLanes=vg(n,y,i),r.memoizedState=yg,yu(null,u)):(xr(r),Sg(r,b))}var T=n.memoizedState;if(T!==null&&(b=T.dehydrated,b!==null)){if(d)r.flags&256?(xr(r),r.flags&=-257,r=bg(n,r,i)):r.memoizedState!==null?(Mr(),r.child=n.child,r.flags|=128,r=null):(Mr(),b=u.fallback,l=r.mode,u=Vo({mode:"visible",children:u.children},l),b=pa(b,l,i,null),b.flags|=2,u.return=r,b.return=r,u.sibling=b,r.child=u,Ra(r,n.child,null,i),u=r.child,u.memoizedState=pg(i),u.childLanes=vg(n,y,i),r.memoizedState=yg,r=yu(null,u));else if(xr(r),em(b)){if(y=b.nextSibling&&b.nextSibling.dataset,y)var j=y.dgst;y=j,u=Error(s(419)),u.stack="",u.digest=y,au({value:u,source:null,stack:null}),r=bg(n,r,i)}else if(ut||Oi(n,r,i,!1),y=(i&n.childLanes)!==0,ut||y){if(y=Ge,y!==null&&(u=Q0(y,i),u!==0&&u!==T.retryLane))throw T.retryLane=u,ya(n,u),$t(y,n,u),gg;Wg(b)||Xo(),r=bg(n,r,i)}else Wg(b)?(r.flags|=192,r.child=n.child,r=null):(n=T.treeContext,Ze=mn(b.nextSibling),wt=r,Ie=!0,Rr=null,hn=!1,n!==null&&Fw(r,n),r=Sg(r,u.children),r.flags|=4096);return r}return l?(Mr(),b=u.fallback,l=r.mode,T=n.child,j=T.sibling,u=Kn(T,{mode:"hidden",children:u.children}),u.subtreeFlags=T.subtreeFlags&65011712,j!==null?b=Kn(j,b):(b=pa(b,l,i,null),b.flags|=2),b.return=r,u.return=r,u.sibling=b,r.child=u,yu(null,u),u=r.child,b=n.child.memoizedState,b===null?b=pg(i):(l=b.cachePool,l!==null?(T=it._currentValue,l=l.parent!==T?{parent:T,pool:T}:l):l=jw(),b={baseLanes:b.baseLanes|i,cachePool:l}),u.memoizedState=b,u.childLanes=vg(n,y,i),r.memoizedState=yg,yu(n.child,u)):(xr(r),i=n.child,n=i.sibling,i=Kn(i,{mode:"visible",children:u.children}),i.return=r,i.sibling=null,n!==null&&(y=r.deletions,y===null?(r.deletions=[n],r.flags|=16):y.push(n)),r.child=i,r.memoizedState=null,i)}function Sg(n,r){return r=Vo({mode:"visible",children:r},n.mode),r.return=n,n.child=r}function Vo(n,r){return n=Wt(22,n,null,r),n.lanes=0,n}function bg(n,r,i){return Ra(r,n.child,null,i),n=Sg(r,r.pendingProps.children),n.flags|=2,r.memoizedState=null,n}function eA(n,r,i){n.lanes|=r;var u=n.alternate;u!==null&&(u.lanes|=r),Fh(n.return,r,i)}function wg(n,r,i,u,l,d){var y=n.memoizedState;y===null?n.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:i,tailMode:l,treeForkCount:d}:(y.isBackwards=r,y.rendering=null,y.renderingStartTime=0,y.last=u,y.tail=i,y.tailMode=l,y.treeForkCount=d)}function tA(n,r,i){var u=r.pendingProps,l=u.revealOrder,d=u.tail;u=u.children;var y=rt.current,b=(y&2)!==0;if(b?(y=y&1|2,r.flags|=128):y&=1,W(rt,y),At(n,r,u,i),u=Ie?ru:0,!b&&n!==null&&(n.flags&128)!==0)e:for(n=r.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&eA(n,i,r);else if(n.tag===19)eA(n,i,r);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break e;for(;n.sibling===null;){if(n.return===null||n.return===r)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(l){case"forwards":for(i=r.child,l=null;i!==null;)n=i.alternate,n!==null&&To(n)===null&&(l=i),i=i.sibling;i=l,i===null?(l=r.child,r.child=null):(l=i.sibling,i.sibling=null),wg(r,!1,l,i,d,u);break;case"backwards":case"unstable_legacy-backwards":for(i=null,l=r.child,r.child=null;l!==null;){if(n=l.alternate,n!==null&&To(n)===null){r.child=l;break}n=l.sibling,l.sibling=i,i=l,l=n}wg(r,!0,i,null,d,u);break;case"together":wg(r,!1,null,null,void 0,u);break;default:r.memoizedState=null}return r.child}function er(n,r,i){if(n!==null&&(r.dependencies=n.dependencies),Ir|=r.lanes,(i&r.childLanes)===0)if(n!==null){if(Oi(n,r,i,!1),(i&r.childLanes)===0)return null}else return null;if(n!==null&&r.child!==n.child)throw Error(s(153));if(r.child!==null){for(n=r.child,i=Kn(n,n.pendingProps),r.child=i,i.return=r;n.sibling!==null;)n=n.sibling,i=i.sibling=Kn(n,n.pendingProps),i.return=r;i.sibling=null}return r.child}function Cg(n,r){return(n.lanes&r)!==0?!0:(n=n.dependencies,!!(n!==null&&bo(n)))}function sQ(n,r,i){switch(r.tag){case 3:We(r,r.stateNode.containerInfo),qr(r,it,n.memoizedState.cache),va();break;case 27:case 5:Xe(r);break;case 4:We(r,r.stateNode.containerInfo);break;case 10:qr(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,Gh(r),null;break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(xr(r),r.flags|=128,null):(i&r.child.childLanes)!==0?WC(n,r,i):(xr(r),n=er(n,r,i),n!==null?n.sibling:null);xr(r);break;case 19:var l=(n.flags&128)!==0;if(u=(i&r.childLanes)!==0,u||(Oi(n,r,i,!1),u=(i&r.childLanes)!==0),l){if(u)return tA(n,r,i);r.flags|=128}if(l=r.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),W(rt,rt.current),u)break;return null;case 22:return r.lanes=0,GC(n,r,i,r.pendingProps);case 24:qr(r,it,n.memoizedState.cache)}return er(n,r,i)}function nA(n,r,i){if(n!==null)if(n.memoizedProps!==r.pendingProps)ut=!0;else{if(!Cg(n,i)&&(r.flags&128)===0)return ut=!1,sQ(n,r,i);ut=(n.flags&131072)!==0}else ut=!1,Ie&&(r.flags&1048576)!==0&&Iw(r,ru,r.index);switch(r.lanes=0,r.tag){case 16:e:{var u=r.pendingProps;if(n=Ca(r.elementType),r.type=n,typeof n=="function")Eh(n)?(u=qa(n,u),r.tag=1,r=JC(null,r,n,u,i)):(r.tag=0,r=mg(null,r,n,u,i));else{if(n!=null){var l=n.$$typeof;if(l===U){r.tag=11,r=HC(null,r,n,u,i);break e}else if(l===x){r.tag=14,r=YC(null,r,n,u,i);break e}}throw r=ge(n)||n,Error(s(306,r,""))}}return r;case 0:return mg(n,r,r.type,r.pendingProps,i);case 1:return u=r.type,l=qa(u,r.pendingProps),JC(n,r,u,l,i);case 3:e:{if(We(r,r.stateNode.containerInfo),n===null)throw Error(s(387));u=r.pendingProps;var d=r.memoizedState;l=d.element,Lh(n,r),du(r,u,null,i);var y=r.memoizedState;if(u=y.cache,qr(r,it,u),u!==d.cache&&kh(r,[it],i,!0),lu(),u=y.element,d.isDehydrated)if(d={element:u,isDehydrated:!1,cache:y.cache},r.updateQueue.baseState=d,r.memoizedState=d,r.flags&256){r=PC(n,r,u,i);break e}else if(u!==l){l=ln(Error(s(424)),r),au(l),r=PC(n,r,u,i);break e}else{switch(n=r.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(Ze=mn(n.firstChild),wt=r,Ie=!0,Rr=null,hn=!0,i=Gw(r,null,u,i),r.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling}else{if(va(),u===l){r=er(n,r,i);break e}At(n,r,u,i)}r=r.child}return r;case 26:return Qo(n,r),n===null?(i=h1(r.type,null,r.pendingProps,null))?r.memoizedState=i:Ie||(i=r.type,n=r.pendingProps,u=nl(le.current).createElement(i),u[bt]=r,u[Vt]=n,Rt(u,i,n),ht(u),r.stateNode=u):r.memoizedState=h1(r.type,n.memoizedProps,r.pendingProps,n.memoizedState),null;case 27:return Xe(r),n===null&&Ie&&(u=r.stateNode=l1(r.type,r.pendingProps,le.current),wt=r,hn=!0,l=Ze,Qr(r.type)?(tm=l,Ze=mn(u.firstChild)):Ze=l),At(n,r,r.pendingProps.children,i),Qo(n,r),n===null&&(r.flags|=4194304),r.child;case 5:return n===null&&Ie&&((l=u=Ze)&&(u=kQ(u,r.type,r.pendingProps,hn),u!==null?(r.stateNode=u,wt=r,Ze=mn(u.firstChild),hn=!1,l=!0):l=!1),l||Or(r)),Xe(r),l=r.type,d=r.pendingProps,y=n!==null?n.memoizedProps:null,u=d.children,Zg(l,d)?u=null:y!==null&&Zg(l,y)&&(r.flags|=32),r.memoizedState!==null&&(l=Xh(n,r,JN,null,null,i),Mu._currentValue=l),Qo(n,r),At(n,r,u,i),r.child;case 6:return n===null&&Ie&&((n=i=Ze)&&(i=zQ(i,r.pendingProps,hn),i!==null?(r.stateNode=i,wt=r,Ze=null,n=!0):n=!1),n||Or(r)),null;case 13:return WC(n,r,i);case 4:return We(r,r.stateNode.containerInfo),u=r.pendingProps,n===null?r.child=Ra(r,null,u,i):At(n,r,u,i),r.child;case 11:return HC(n,r,r.type,r.pendingProps,i);case 7:return At(n,r,r.pendingProps,i),r.child;case 8:return At(n,r,r.pendingProps.children,i),r.child;case 12:return At(n,r,r.pendingProps.children,i),r.child;case 10:return u=r.pendingProps,qr(r,r.type,u.value),At(n,r,u.children,i),r.child;case 9:return l=r.type._context,u=r.pendingProps.children,ba(r),l=Ct(l),u=u(l),r.flags|=1,At(n,r,u,i),r.child;case 14:return YC(n,r,r.type,r.pendingProps,i);case 15:return $C(n,r,r.type,r.pendingProps,i);case 19:return tA(n,r,i);case 31:return iQ(n,r,i);case 22:return GC(n,r,i,r.pendingProps);case 24:return ba(r),u=Ct(it),n===null?(l=Qh(),l===null&&(l=Ge,d=zh(),l.pooledCache=d,d.refCount++,d!==null&&(l.pooledCacheLanes|=i),l=d),r.memoizedState={parent:u,cache:l},jh(r),qr(r,it,l)):((n.lanes&i)!==0&&(Lh(n,r),du(r,null,null,i),lu()),l=n.memoizedState,d=r.memoizedState,l.parent!==u?(l={parent:u,cache:u},r.memoizedState=l,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=l),qr(r,it,u)):(u=d.cache,qr(r,it,u),u!==l.cache&&kh(r,[it],i,!0))),At(n,r,r.pendingProps.children,i),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function tr(n){n.flags|=4}function Ag(n,r,i,u,l){if((r=(n.mode&32)!==0)&&(r=!1),r){if(n.flags|=16777216,(l&335544128)===l)if(n.stateNode.complete)n.flags|=8192;else if(DA())n.flags|=8192;else throw Aa=Ro,Vh}else n.flags&=-16777217}function rA(n,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!v1(r))if(DA())n.flags|=8192;else throw Aa=Ro,Vh}function jo(n,r){r!==null&&(n.flags|=4),n.flags&16384&&(r=n.tag!==22?k0():536870912,n.lanes|=r,zi|=r)}function pu(n,r){if(!Ie)switch(n.tailMode){case"hidden":r=n.tail;for(var i=null;r!==null;)r.alternate!==null&&(i=r),r=r.sibling;i===null?n.tail=null:i.sibling=null;break;case"collapsed":i=n.tail;for(var u=null;i!==null;)i.alternate!==null&&(u=i),i=i.sibling;u===null?r||n.tail===null?n.tail=null:n.tail.sibling=null:u.sibling=null}}function Je(n){var r=n.alternate!==null&&n.alternate.child===n.child,i=0,u=0;if(r)for(var l=n.child;l!==null;)i|=l.lanes|l.childLanes,u|=l.subtreeFlags&65011712,u|=l.flags&65011712,l.return=n,l=l.sibling;else for(l=n.child;l!==null;)i|=l.lanes|l.childLanes,u|=l.subtreeFlags,u|=l.flags,l.return=n,l=l.sibling;return n.subtreeFlags|=u,n.childLanes=i,r}function uQ(n,r,i){var u=r.pendingProps;switch(Mh(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Je(r),null;case 1:return Je(r),null;case 3:return i=r.stateNode,u=null,n!==null&&(u=n.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),Jn(it),ke(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(n===null||n.child===null)&&(Ri(r)?tr(r):n===null||n.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Uh())),Je(r),null;case 26:var l=r.type,d=r.memoizedState;return n===null?(tr(r),d!==null?(Je(r),rA(r,d)):(Je(r),Ag(r,l,null,u,i))):d?d!==n.memoizedState?(tr(r),Je(r),rA(r,d)):(Je(r),r.flags&=-16777217):(n=n.memoizedProps,n!==u&&tr(r),Je(r),Ag(r,l,n,u,i)),null;case 27:if(ft(r),i=le.current,l=r.type,n!==null&&r.stateNode!=null)n.memoizedProps!==u&&tr(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return Je(r),null}n=B.current,Ri(r)?kw(r):(n=l1(l,u,i),r.stateNode=n,tr(r))}return Je(r),null;case 5:if(ft(r),l=r.type,n!==null&&r.stateNode!=null)n.memoizedProps!==u&&tr(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return Je(r),null}if(d=B.current,Ri(r))kw(r);else{var y=nl(le.current);switch(d){case 1:d=y.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:d=y.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":d=y.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":d=y.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":d=y.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof u.is=="string"?y.createElement("select",{is:u.is}):y.createElement("select"),u.multiple?d.multiple=!0:u.size&&(d.size=u.size);break;default:d=typeof u.is=="string"?y.createElement(l,{is:u.is}):y.createElement(l)}}d[bt]=r,d[Vt]=u;e:for(y=r.child;y!==null;){if(y.tag===5||y.tag===6)d.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===r)break e;for(;y.sibling===null;){if(y.return===null||y.return===r)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}r.stateNode=d;e:switch(Rt(d,l,u),l){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&tr(r)}}return Je(r),Ag(r,r.type,n===null?null:n.memoizedProps,r.pendingProps,i),null;case 6:if(n&&r.stateNode!=null)n.memoizedProps!==u&&tr(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(s(166));if(n=le.current,Ri(r)){if(n=r.stateNode,i=r.memoizedProps,u=null,l=wt,l!==null)switch(l.tag){case 27:case 5:u=l.memoizedProps}n[bt]=r,n=!!(n.nodeValue===i||u!==null&&u.suppressHydrationWarning===!0||WA(n.nodeValue,i)),n||Or(r,!0)}else n=nl(n).createTextNode(u),n[bt]=r,r.stateNode=n}return Je(r),null;case 31:if(i=r.memoizedState,n===null||n.memoizedState!==null){if(u=Ri(r),i!==null){if(n===null){if(!u)throw Error(s(318));if(n=r.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(557));n[bt]=r}else va(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Je(r),n=!1}else i=Uh(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=i),n=!0;if(!n)return r.flags&256?(tn(r),r):(tn(r),null);if((r.flags&128)!==0)throw Error(s(558))}return Je(r),null;case 13:if(u=r.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(l=Ri(r),u!==null&&u.dehydrated!==null){if(n===null){if(!l)throw Error(s(318));if(l=r.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(s(317));l[bt]=r}else va(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Je(r),l=!1}else l=Uh(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=l),l=!0;if(!l)return r.flags&256?(tn(r),r):(tn(r),null)}return tn(r),(r.flags&128)!==0?(r.lanes=i,r):(i=u!==null,n=n!==null&&n.memoizedState!==null,i&&(u=r.child,l=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(l=u.alternate.memoizedState.cachePool.pool),d=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(d=u.memoizedState.cachePool.pool),d!==l&&(u.flags|=2048)),i!==n&&i&&(r.child.flags|=8192),jo(r,r.updateQueue),Je(r),null);case 4:return ke(),n===null&&Yg(r.stateNode.containerInfo),Je(r),null;case 10:return Jn(r.type),Je(r),null;case 19:if(Q(rt),u=r.memoizedState,u===null)return Je(r),null;if(l=(r.flags&128)!==0,d=u.rendering,d===null)if(l)pu(u,!1);else{if(tt!==0||n!==null&&(n.flags&128)!==0)for(n=r.child;n!==null;){if(d=To(n),d!==null){for(r.flags|=128,pu(u,!1),n=d.updateQueue,r.updateQueue=n,jo(r,n),r.subtreeFlags=0,n=i,i=r.child;i!==null;)Mw(i,n),i=i.sibling;return W(rt,rt.current&1|2),Ie&&Xn(r,u.treeForkCount),r.child}n=n.sibling}u.tail!==null&&Xt()>$o&&(r.flags|=128,l=!0,pu(u,!1),r.lanes=4194304)}else{if(!l)if(n=To(d),n!==null){if(r.flags|=128,l=!0,n=n.updateQueue,r.updateQueue=n,jo(r,n),pu(u,!0),u.tail===null&&u.tailMode==="hidden"&&!d.alternate&&!Ie)return Je(r),null}else 2*Xt()-u.renderingStartTime>$o&&i!==536870912&&(r.flags|=128,l=!0,pu(u,!1),r.lanes=4194304);u.isBackwards?(d.sibling=r.child,r.child=d):(n=u.last,n!==null?n.sibling=d:r.child=d,u.last=d)}return u.tail!==null?(n=u.tail,u.rendering=n,u.tail=n.sibling,u.renderingStartTime=Xt(),n.sibling=null,i=rt.current,W(rt,l?i&1|2:i&1),Ie&&Xn(r,u.treeForkCount),n):(Je(r),null);case 22:case 23:return tn(r),$h(),u=r.memoizedState!==null,n!==null?n.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(i&536870912)!==0&&(r.flags&128)===0&&(Je(r),r.subtreeFlags&6&&(r.flags|=8192)):Je(r),i=r.updateQueue,i!==null&&jo(r,i.retryQueue),i=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(i=n.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==i&&(r.flags|=2048),n!==null&&Q(wa),null;case 24:return i=null,n!==null&&(i=n.memoizedState.cache),r.memoizedState.cache!==i&&(r.flags|=2048),Jn(it),Je(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function cQ(n,r){switch(Mh(r),r.tag){case 1:return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 3:return Jn(it),ke(),n=r.flags,(n&65536)!==0&&(n&128)===0?(r.flags=n&-65537|128,r):null;case 26:case 27:case 5:return ft(r),null;case 31:if(r.memoizedState!==null){if(tn(r),r.alternate===null)throw Error(s(340));va()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 13:if(tn(r),n=r.memoizedState,n!==null&&n.dehydrated!==null){if(r.alternate===null)throw Error(s(340));va()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 19:return Q(rt),null;case 4:return ke(),null;case 10:return Jn(r.type),null;case 22:case 23:return tn(r),$h(),n!==null&&Q(wa),n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 24:return Jn(it),null;case 25:return null;default:return null}}function aA(n,r){switch(Mh(r),r.tag){case 3:Jn(it),ke();break;case 26:case 27:case 5:ft(r);break;case 4:ke();break;case 31:r.memoizedState!==null&&tn(r);break;case 13:tn(r);break;case 19:Q(rt);break;case 10:Jn(r.type);break;case 22:case 23:tn(r),$h(),n!==null&&Q(wa);break;case 24:Jn(it)}}function vu(n,r){try{var i=r.updateQueue,u=i!==null?i.lastEffect:null;if(u!==null){var l=u.next;i=l;do{if((i.tag&n)===n){u=void 0;var d=i.create,y=i.inst;u=d(),y.destroy=u}i=i.next}while(i!==l)}}catch(b){je(r,r.return,b)}}function _r(n,r,i){try{var u=r.updateQueue,l=u!==null?u.lastEffect:null;if(l!==null){var d=l.next;u=d;do{if((u.tag&n)===n){var y=u.inst,b=y.destroy;if(b!==void 0){y.destroy=void 0,l=r;var T=i,j=b;try{j()}catch(P){je(l,T,P)}}}u=u.next}while(u!==d)}}catch(P){je(r,r.return,P)}}function iA(n){var r=n.updateQueue;if(r!==null){var i=n.stateNode;try{Xw(r,i)}catch(u){je(n,n.return,u)}}}function sA(n,r,i){i.props=qa(n.type,n.memoizedProps),i.state=n.memoizedState;try{i.componentWillUnmount()}catch(u){je(n,r,u)}}function Su(n,r){try{var i=n.ref;if(i!==null){switch(n.tag){case 26:case 27:case 5:var u=n.stateNode;break;case 30:u=n.stateNode;break;default:u=n.stateNode}typeof i=="function"?n.refCleanup=i(u):i.current=u}}catch(l){je(n,r,l)}}function _n(n,r){var i=n.ref,u=n.refCleanup;if(i!==null)if(typeof u=="function")try{u()}catch(l){je(n,r,l)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(l){je(n,r,l)}else i.current=null}function uA(n){var r=n.type,i=n.memoizedProps,u=n.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":i.autoFocus&&u.focus();break e;case"img":i.src?u.src=i.src:i.srcSet&&(u.srcset=i.srcSet)}}catch(l){je(n,n.return,l)}}function Rg(n,r,i){try{var u=n.stateNode;xQ(u,n.type,i,r),u[Vt]=r}catch(l){je(n,n.return,l)}}function cA(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Qr(n.type)||n.tag===4}function Og(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||cA(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Qr(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function qg(n,r,i){var u=n.tag;if(u===5||u===6)n=n.stateNode,r?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(n,r):(r=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,r.appendChild(n),i=i._reactRootContainer,i!=null||r.onclick!==null||(r.onclick=$n));else if(u!==4&&(u===27&&Qr(n.type)&&(i=n.stateNode,r=null),n=n.child,n!==null))for(qg(n,r,i),n=n.sibling;n!==null;)qg(n,r,i),n=n.sibling}function Lo(n,r,i){var u=n.tag;if(u===5||u===6)n=n.stateNode,r?i.insertBefore(n,r):i.appendChild(n);else if(u!==4&&(u===27&&Qr(n.type)&&(i=n.stateNode),n=n.child,n!==null))for(Lo(n,r,i),n=n.sibling;n!==null;)Lo(n,r,i),n=n.sibling}function oA(n){var r=n.stateNode,i=n.memoizedProps;try{for(var u=n.type,l=r.attributes;l.length;)r.removeAttributeNode(l[0]);Rt(r,u,i),r[bt]=n,r[Vt]=i}catch(d){je(n,n.return,d)}}var nr=!1,ct=!1,Eg=!1,lA=typeof WeakSet=="function"?WeakSet:Set,gt=null;function oQ(n,r){if(n=n.containerInfo,Kg=ol,n=Cw(n),bh(n)){if("selectionStart"in n)var i={start:n.selectionStart,end:n.selectionEnd};else e:{i=(i=n.ownerDocument)&&i.defaultView||window;var u=i.getSelection&&i.getSelection();if(u&&u.rangeCount!==0){i=u.anchorNode;var l=u.anchorOffset,d=u.focusNode;u=u.focusOffset;try{i.nodeType,d.nodeType}catch{i=null;break e}var y=0,b=-1,T=-1,j=0,P=0,ne=n,H=null;t:for(;;){for(var G;ne!==i||l!==0&&ne.nodeType!==3||(b=y+l),ne!==d||u!==0&&ne.nodeType!==3||(T=y+u),ne.nodeType===3&&(y+=ne.nodeValue.length),(G=ne.firstChild)!==null;)H=ne,ne=G;for(;;){if(ne===n)break t;if(H===i&&++j===l&&(b=y),H===d&&++P===u&&(T=y),(G=ne.nextSibling)!==null)break;ne=H,H=ne.parentNode}ne=G}i=b===-1||T===-1?null:{start:b,end:T}}else i=null}i=i||{start:0,end:0}}else i=null;for(Xg={focusedElem:n,selectionRange:i},ol=!1,gt=r;gt!==null;)if(r=gt,n=r.child,(r.subtreeFlags&1028)!==0&&n!==null)n.return=r,gt=n;else for(;gt!==null;){switch(r=gt,d=r.alternate,n=r.flags,r.tag){case 0:if((n&4)!==0&&(n=r.updateQueue,n=n!==null?n.events:null,n!==null))for(i=0;i<n.length;i++)l=n[i],l.ref.impl=l.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&d!==null){n=void 0,i=r,l=d.memoizedProps,d=d.memoizedState,u=i.stateNode;try{var de=qa(i.type,l);n=u.getSnapshotBeforeUpdate(de,d),u.__reactInternalSnapshotBeforeUpdate=n}catch(pe){je(i,i.return,pe)}}break;case 3:if((n&1024)!==0){if(n=r.stateNode.containerInfo,i=n.nodeType,i===9)Pg(n);else if(i===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Pg(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=r.sibling,n!==null){n.return=r.return,gt=n;break}gt=r.return}}function dA(n,r,i){var u=i.flags;switch(i.tag){case 0:case 11:case 15:ar(n,i),u&4&&vu(5,i);break;case 1:if(ar(n,i),u&4)if(n=i.stateNode,r===null)try{n.componentDidMount()}catch(y){je(i,i.return,y)}else{var l=qa(i.type,r.memoizedProps);r=r.memoizedState;try{n.componentDidUpdate(l,r,n.__reactInternalSnapshotBeforeUpdate)}catch(y){je(i,i.return,y)}}u&64&&iA(i),u&512&&Su(i,i.return);break;case 3:if(ar(n,i),u&64&&(n=i.updateQueue,n!==null)){if(r=null,i.child!==null)switch(i.child.tag){case 27:case 5:r=i.child.stateNode;break;case 1:r=i.child.stateNode}try{Xw(n,r)}catch(y){je(i,i.return,y)}}break;case 27:r===null&&u&4&&oA(i);case 26:case 5:ar(n,i),r===null&&u&4&&uA(i),u&512&&Su(i,i.return);break;case 12:ar(n,i);break;case 31:ar(n,i),u&4&&gA(n,i);break;case 13:ar(n,i),u&4&&mA(n,i),u&64&&(n=i.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(i=vQ.bind(null,i),NQ(n,i))));break;case 22:if(u=i.memoizedState!==null||nr,!u){r=r!==null&&r.memoizedState!==null||ct,l=nr;var d=ct;nr=u,(ct=r)&&!d?ir(n,i,(i.subtreeFlags&8772)!==0):ar(n,i),nr=l,ct=d}break;case 30:break;default:ar(n,i)}}function fA(n){var r=n.alternate;r!==null&&(n.alternate=null,fA(r)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(r=n.stateNode,r!==null&&rh(r)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var Pe=null,Lt=!1;function rr(n,r,i){for(i=i.child;i!==null;)hA(n,r,i),i=i.sibling}function hA(n,r,i){if(Zt&&typeof Zt.onCommitFiberUnmount=="function")try{Zt.onCommitFiberUnmount(Bs,i)}catch{}switch(i.tag){case 26:ct||_n(i,r),rr(n,r,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:ct||_n(i,r);var u=Pe,l=Lt;Qr(i.type)&&(Pe=i.stateNode,Lt=!1),rr(n,r,i),Tu(i.stateNode),Pe=u,Lt=l;break;case 5:ct||_n(i,r);case 6:if(u=Pe,l=Lt,Pe=null,rr(n,r,i),Pe=u,Lt=l,Pe!==null)if(Lt)try{(Pe.nodeType===9?Pe.body:Pe.nodeName==="HTML"?Pe.ownerDocument.body:Pe).removeChild(i.stateNode)}catch(d){je(i,r,d)}else try{Pe.removeChild(i.stateNode)}catch(d){je(i,r,d)}break;case 18:Pe!==null&&(Lt?(n=Pe,i1(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,i.stateNode),Yi(n)):i1(Pe,i.stateNode));break;case 4:u=Pe,l=Lt,Pe=i.stateNode.containerInfo,Lt=!0,rr(n,r,i),Pe=u,Lt=l;break;case 0:case 11:case 14:case 15:_r(2,i,r),ct||_r(4,i,r),rr(n,r,i);break;case 1:ct||(_n(i,r),u=i.stateNode,typeof u.componentWillUnmount=="function"&&sA(i,r,u)),rr(n,r,i);break;case 21:rr(n,r,i);break;case 22:ct=(u=ct)||i.memoizedState!==null,rr(n,r,i),ct=u;break;default:rr(n,r,i)}}function gA(n,r){if(r.memoizedState===null&&(n=r.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{Yi(n)}catch(i){je(r,r.return,i)}}}function mA(n,r){if(r.memoizedState===null&&(n=r.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Yi(n)}catch(i){je(r,r.return,i)}}function lQ(n){switch(n.tag){case 31:case 13:case 19:var r=n.stateNode;return r===null&&(r=n.stateNode=new lA),r;case 22:return n=n.stateNode,r=n._retryCache,r===null&&(r=n._retryCache=new lA),r;default:throw Error(s(435,n.tag))}}function Bo(n,r){var i=lQ(n);r.forEach(function(u){if(!i.has(u)){i.add(u);var l=SQ.bind(null,n,u);u.then(l,l)}})}function Bt(n,r){var i=r.deletions;if(i!==null)for(var u=0;u<i.length;u++){var l=i[u],d=n,y=r,b=y;e:for(;b!==null;){switch(b.tag){case 27:if(Qr(b.type)){Pe=b.stateNode,Lt=!1;break e}break;case 5:Pe=b.stateNode,Lt=!1;break e;case 3:case 4:Pe=b.stateNode.containerInfo,Lt=!0;break e}b=b.return}if(Pe===null)throw Error(s(160));hA(d,y,l),Pe=null,Lt=!1,d=l.alternate,d!==null&&(d.return=null),l.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)yA(r,n),r=r.sibling}var Cn=null;function yA(n,r){var i=n.alternate,u=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Bt(r,n),Ht(n),u&4&&(_r(3,n,n.return),vu(3,n),_r(5,n,n.return));break;case 1:Bt(r,n),Ht(n),u&512&&(ct||i===null||_n(i,i.return)),u&64&&nr&&(n=n.updateQueue,n!==null&&(u=n.callbacks,u!==null&&(i=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=i===null?u:i.concat(u))));break;case 26:var l=Cn;if(Bt(r,n),Ht(n),u&512&&(ct||i===null||_n(i,i.return)),u&4){var d=i!==null?i.memoizedState:null;if(u=n.memoizedState,i===null)if(u===null)if(n.stateNode===null){e:{u=n.type,i=n.memoizedProps,l=l.ownerDocument||l;t:switch(u){case"title":d=l.getElementsByTagName("title")[0],(!d||d[$s]||d[bt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=l.createElement(u),l.head.insertBefore(d,l.querySelector("head > title"))),Rt(d,u,i),d[bt]=n,ht(d),u=d;break e;case"link":var y=y1("link","href",l).get(u+(i.href||""));if(y){for(var b=0;b<y.length;b++)if(d=y[b],d.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&d.getAttribute("rel")===(i.rel==null?null:i.rel)&&d.getAttribute("title")===(i.title==null?null:i.title)&&d.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){y.splice(b,1);break t}}d=l.createElement(u),Rt(d,u,i),l.head.appendChild(d);break;case"meta":if(y=y1("meta","content",l).get(u+(i.content||""))){for(b=0;b<y.length;b++)if(d=y[b],d.getAttribute("content")===(i.content==null?null:""+i.content)&&d.getAttribute("name")===(i.name==null?null:i.name)&&d.getAttribute("property")===(i.property==null?null:i.property)&&d.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&d.getAttribute("charset")===(i.charSet==null?null:i.charSet)){y.splice(b,1);break t}}d=l.createElement(u),Rt(d,u,i),l.head.appendChild(d);break;default:throw Error(s(468,u))}d[bt]=n,ht(d),u=d}n.stateNode=u}else p1(l,n.type,n.stateNode);else n.stateNode=m1(l,u,n.memoizedProps);else d!==u?(d===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):d.count--,u===null?p1(l,n.type,n.stateNode):m1(l,u,n.memoizedProps)):u===null&&n.stateNode!==null&&Rg(n,n.memoizedProps,i.memoizedProps)}break;case 27:Bt(r,n),Ht(n),u&512&&(ct||i===null||_n(i,i.return)),i!==null&&u&4&&Rg(n,n.memoizedProps,i.memoizedProps);break;case 5:if(Bt(r,n),Ht(n),u&512&&(ct||i===null||_n(i,i.return)),n.flags&32){l=n.stateNode;try{gi(l,"")}catch(de){je(n,n.return,de)}}u&4&&n.stateNode!=null&&(l=n.memoizedProps,Rg(n,l,i!==null?i.memoizedProps:l)),u&1024&&(Eg=!0);break;case 6:if(Bt(r,n),Ht(n),u&4){if(n.stateNode===null)throw Error(s(162));u=n.memoizedProps,i=n.stateNode;try{i.nodeValue=u}catch(de){je(n,n.return,de)}}break;case 3:if(il=null,l=Cn,Cn=rl(r.containerInfo),Bt(r,n),Cn=l,Ht(n),u&4&&i!==null&&i.memoizedState.isDehydrated)try{Yi(r.containerInfo)}catch(de){je(n,n.return,de)}Eg&&(Eg=!1,pA(n));break;case 4:u=Cn,Cn=rl(n.stateNode.containerInfo),Bt(r,n),Ht(n),Cn=u;break;case 12:Bt(r,n),Ht(n);break;case 31:Bt(r,n),Ht(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,Bo(n,u)));break;case 13:Bt(r,n),Ht(n),n.child.flags&8192&&n.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(Yo=Xt()),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,Bo(n,u)));break;case 22:l=n.memoizedState!==null;var T=i!==null&&i.memoizedState!==null,j=nr,P=ct;if(nr=j||l,ct=P||T,Bt(r,n),ct=P,nr=j,Ht(n),u&8192)e:for(r=n.stateNode,r._visibility=l?r._visibility&-2:r._visibility|1,l&&(i===null||T||nr||ct||Ea(n)),i=null,r=n;;){if(r.tag===5||r.tag===26){if(i===null){T=i=r;try{if(d=T.stateNode,l)y=d.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{b=T.stateNode;var ne=T.memoizedProps.style,H=ne!=null&&ne.hasOwnProperty("display")?ne.display:null;b.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(de){je(T,T.return,de)}}}else if(r.tag===6){if(i===null){T=r;try{T.stateNode.nodeValue=l?"":T.memoizedProps}catch(de){je(T,T.return,de)}}}else if(r.tag===18){if(i===null){T=r;try{var G=T.stateNode;l?s1(G,!0):s1(T.stateNode,!1)}catch(de){je(T,T.return,de)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===n)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break e;for(;r.sibling===null;){if(r.return===null||r.return===n)break e;i===r&&(i=null),r=r.return}i===r&&(i=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=n.updateQueue,u!==null&&(i=u.retryQueue,i!==null&&(u.retryQueue=null,Bo(n,i))));break;case 19:Bt(r,n),Ht(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,Bo(n,u)));break;case 30:break;case 21:break;default:Bt(r,n),Ht(n)}}function Ht(n){var r=n.flags;if(r&2){try{for(var i,u=n.return;u!==null;){if(cA(u)){i=u;break}u=u.return}if(i==null)throw Error(s(160));switch(i.tag){case 27:var l=i.stateNode,d=Og(n);Lo(n,d,l);break;case 5:var y=i.stateNode;i.flags&32&&(gi(y,""),i.flags&=-33);var b=Og(n);Lo(n,b,y);break;case 3:case 4:var T=i.stateNode.containerInfo,j=Og(n);qg(n,j,T);break;default:throw Error(s(161))}}catch(P){je(n,n.return,P)}n.flags&=-3}r&4096&&(n.flags&=-4097)}function pA(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var r=n;pA(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),n=n.sibling}}function ar(n,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)dA(n,r.alternate,r),r=r.sibling}function Ea(n){for(n=n.child;n!==null;){var r=n;switch(r.tag){case 0:case 11:case 14:case 15:_r(4,r,r.return),Ea(r);break;case 1:_n(r,r.return);var i=r.stateNode;typeof i.componentWillUnmount=="function"&&sA(r,r.return,i),Ea(r);break;case 27:Tu(r.stateNode);case 26:case 5:_n(r,r.return),Ea(r);break;case 22:r.memoizedState===null&&Ea(r);break;case 30:Ea(r);break;default:Ea(r)}n=n.sibling}}function ir(n,r,i){for(i=i&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,l=n,d=r,y=d.flags;switch(d.tag){case 0:case 11:case 15:ir(l,d,i),vu(4,d);break;case 1:if(ir(l,d,i),u=d,l=u.stateNode,typeof l.componentDidMount=="function")try{l.componentDidMount()}catch(j){je(u,u.return,j)}if(u=d,l=u.updateQueue,l!==null){var b=u.stateNode;try{var T=l.shared.hiddenCallbacks;if(T!==null)for(l.shared.hiddenCallbacks=null,l=0;l<T.length;l++)Kw(T[l],b)}catch(j){je(u,u.return,j)}}i&&y&64&&iA(d),Su(d,d.return);break;case 27:oA(d);case 26:case 5:ir(l,d,i),i&&u===null&&y&4&&uA(d),Su(d,d.return);break;case 12:ir(l,d,i);break;case 31:ir(l,d,i),i&&y&4&&gA(l,d);break;case 13:ir(l,d,i),i&&y&4&&mA(l,d);break;case 22:d.memoizedState===null&&ir(l,d,i),Su(d,d.return);break;case 30:break;default:ir(l,d,i)}r=r.sibling}}function Tg(n,r){var i=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(i=n.memoizedState.cachePool.pool),n=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(n=r.memoizedState.cachePool.pool),n!==i&&(n!=null&&n.refCount++,i!=null&&iu(i))}function Dg(n,r){n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&iu(n))}function An(n,r,i,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)vA(n,r,i,u),r=r.sibling}function vA(n,r,i,u){var l=r.flags;switch(r.tag){case 0:case 11:case 15:An(n,r,i,u),l&2048&&vu(9,r);break;case 1:An(n,r,i,u);break;case 3:An(n,r,i,u),l&2048&&(n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&iu(n)));break;case 12:if(l&2048){An(n,r,i,u),n=r.stateNode;try{var d=r.memoizedProps,y=d.id,b=d.onPostCommit;typeof b=="function"&&b(y,r.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(T){je(r,r.return,T)}}else An(n,r,i,u);break;case 31:An(n,r,i,u);break;case 13:An(n,r,i,u);break;case 23:break;case 22:d=r.stateNode,y=r.alternate,r.memoizedState!==null?d._visibility&2?An(n,r,i,u):bu(n,r):d._visibility&2?An(n,r,i,u):(d._visibility|=2,Ii(n,r,i,u,(r.subtreeFlags&10256)!==0||!1)),l&2048&&Tg(y,r);break;case 24:An(n,r,i,u),l&2048&&Dg(r.alternate,r);break;default:An(n,r,i,u)}}function Ii(n,r,i,u,l){for(l=l&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var d=n,y=r,b=i,T=u,j=y.flags;switch(y.tag){case 0:case 11:case 15:Ii(d,y,b,T,l),vu(8,y);break;case 23:break;case 22:var P=y.stateNode;y.memoizedState!==null?P._visibility&2?Ii(d,y,b,T,l):bu(d,y):(P._visibility|=2,Ii(d,y,b,T,l)),l&&j&2048&&Tg(y.alternate,y);break;case 24:Ii(d,y,b,T,l),l&&j&2048&&Dg(y.alternate,y);break;default:Ii(d,y,b,T,l)}r=r.sibling}}function bu(n,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var i=n,u=r,l=u.flags;switch(u.tag){case 22:bu(i,u),l&2048&&Tg(u.alternate,u);break;case 24:bu(i,u),l&2048&&Dg(u.alternate,u);break;default:bu(i,u)}r=r.sibling}}var wu=8192;function Fi(n,r,i){if(n.subtreeFlags&wu)for(n=n.child;n!==null;)SA(n,r,i),n=n.sibling}function SA(n,r,i){switch(n.tag){case 26:Fi(n,r,i),n.flags&wu&&n.memoizedState!==null&&ZQ(i,Cn,n.memoizedState,n.memoizedProps);break;case 5:Fi(n,r,i);break;case 3:case 4:var u=Cn;Cn=rl(n.stateNode.containerInfo),Fi(n,r,i),Cn=u;break;case 22:n.memoizedState===null&&(u=n.alternate,u!==null&&u.memoizedState!==null?(u=wu,wu=16777216,Fi(n,r,i),wu=u):Fi(n,r,i));break;default:Fi(n,r,i)}}function bA(n){var r=n.alternate;if(r!==null&&(n=r.child,n!==null)){r.child=null;do r=n.sibling,n.sibling=null,n=r;while(n!==null)}}function Cu(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var i=0;i<r.length;i++){var u=r[i];gt=u,CA(u,n)}bA(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)wA(n),n=n.sibling}function wA(n){switch(n.tag){case 0:case 11:case 15:Cu(n),n.flags&2048&&_r(9,n,n.return);break;case 3:Cu(n);break;case 12:Cu(n);break;case 22:var r=n.stateNode;n.memoizedState!==null&&r._visibility&2&&(n.return===null||n.return.tag!==13)?(r._visibility&=-3,Ho(n)):Cu(n);break;default:Cu(n)}}function Ho(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var i=0;i<r.length;i++){var u=r[i];gt=u,CA(u,n)}bA(n)}for(n=n.child;n!==null;){switch(r=n,r.tag){case 0:case 11:case 15:_r(8,r,r.return),Ho(r);break;case 22:i=r.stateNode,i._visibility&2&&(i._visibility&=-3,Ho(r));break;default:Ho(r)}n=n.sibling}}function CA(n,r){for(;gt!==null;){var i=gt;switch(i.tag){case 0:case 11:case 15:_r(8,i,r);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var u=i.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:iu(i.memoizedState.cache)}if(u=i.child,u!==null)u.return=i,gt=u;else e:for(i=n;gt!==null;){u=gt;var l=u.sibling,d=u.return;if(fA(u),u===i){gt=null;break e}if(l!==null){l.return=d,gt=l;break e}gt=d}}}var dQ={getCacheForType:function(n){var r=Ct(it),i=r.data.get(n);return i===void 0&&(i=n(),r.data.set(n,i)),i},cacheSignal:function(){return Ct(it).controller.signal}},fQ=typeof WeakMap=="function"?WeakMap:Map,Qe=0,Ge=null,xe=null,_e=0,Ve=0,nn=null,Ur=!1,ki=!1,xg=!1,sr=0,tt=0,Ir=0,Ta=0,Mg=0,rn=0,zi=0,Au=null,Yt=null,_g=!1,Yo=0,AA=0,$o=1/0,Go=null,Fr=null,lt=0,kr=null,Ni=null,ur=0,Ug=0,Ig=null,RA=null,Ru=0,Fg=null;function an(){return(Qe&2)!==0&&_e!==0?_e&-_e:E.T!==null?jg():V0()}function OA(){if(rn===0)if((_e&536870912)===0||Ie){var n=eo;eo<<=1,(eo&3932160)===0&&(eo=262144),rn=n}else rn=536870912;return n=en.current,n!==null&&(n.flags|=32),rn}function $t(n,r,i){(n===Ge&&(Ve===2||Ve===9)||n.cancelPendingCommit!==null)&&(Qi(n,0),zr(n,_e,rn,!1)),Ys(n,i),((Qe&2)===0||n!==Ge)&&(n===Ge&&((Qe&2)===0&&(Ta|=i),tt===4&&zr(n,_e,rn,!1)),Un(n))}function qA(n,r,i){if((Qe&6)!==0)throw Error(s(327));var u=!i&&(r&127)===0&&(r&n.expiredLanes)===0||Hs(n,r),l=u?mQ(n,r):zg(n,r,!0),d=u;do{if(l===0){ki&&!u&&zr(n,r,0,!1);break}else{if(i=n.current.alternate,d&&!hQ(i)){l=zg(n,r,!1),d=!1;continue}if(l===2){if(d=r,n.errorRecoveryDisabledLanes&d)var y=0;else y=n.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){r=y;e:{var b=n;l=Au;var T=b.current.memoizedState.isDehydrated;if(T&&(Qi(b,y).flags|=256),y=zg(b,y,!1),y!==2){if(xg&&!T){b.errorRecoveryDisabledLanes|=d,Ta|=d,l=4;break e}d=Yt,Yt=l,d!==null&&(Yt===null?Yt=d:Yt.push.apply(Yt,d))}l=y}if(d=!1,l!==2)continue}}if(l===1){Qi(n,0),zr(n,r,0,!0);break}e:{switch(u=n,d=l,d){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:zr(u,r,rn,!Ur);break e;case 2:Yt=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(l=Yo+300-Xt(),10<l)){if(zr(u,r,rn,!Ur),no(u,0,!0)!==0)break e;ur=r,u.timeoutHandle=r1(EA.bind(null,u,i,Yt,Go,_g,r,rn,Ta,zi,Ur,d,"Throttled",-0,0),l);break e}EA(u,i,Yt,Go,_g,r,rn,Ta,zi,Ur,d,null,-0,0)}}break}while(!0);Un(n)}function EA(n,r,i,u,l,d,y,b,T,j,P,ne,H,G){if(n.timeoutHandle=-1,ne=r.subtreeFlags,ne&8192||(ne&16785408)===16785408){ne={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:$n},SA(r,d,ne);var de=(d&62914560)===d?Yo-Xt():(d&4194048)===d?AA-Xt():0;if(de=JQ(ne,de),de!==null){ur=d,n.cancelPendingCommit=de(FA.bind(null,n,r,d,i,u,l,y,b,T,P,ne,null,H,G)),zr(n,d,y,!j);return}}FA(n,r,d,i,u,l,y,b,T)}function hQ(n){for(var r=n;;){var i=r.tag;if((i===0||i===11||i===15)&&r.flags&16384&&(i=r.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var u=0;u<i.length;u++){var l=i[u],d=l.getSnapshot;l=l.value;try{if(!Pt(d(),l))return!1}catch{return!1}}if(i=r.child,r.subtreeFlags&16384&&i!==null)i.return=r,r=i;else{if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function zr(n,r,i,u){r&=~Mg,r&=~Ta,n.suspendedLanes|=r,n.pingedLanes&=~r,u&&(n.warmLanes|=r),u=n.expirationTimes;for(var l=r;0<l;){var d=31-Jt(l),y=1<<d;u[d]=-1,l&=~y}i!==0&&z0(n,i,r)}function Ko(){return(Qe&6)===0?(Ou(0),!1):!0}function kg(){if(xe!==null){if(Ve===0)var n=xe.return;else n=xe,Zn=Sa=null,Ph(n),Di=null,uu=0,n=xe;for(;n!==null;)aA(n.alternate,n),n=n.return;xe=null}}function Qi(n,r){var i=n.timeoutHandle;i!==-1&&(n.timeoutHandle=-1,UQ(i)),i=n.cancelPendingCommit,i!==null&&(n.cancelPendingCommit=null,i()),ur=0,kg(),Ge=n,xe=i=Kn(n.current,null),_e=r,Ve=0,nn=null,Ur=!1,ki=Hs(n,r),xg=!1,zi=rn=Mg=Ta=Ir=tt=0,Yt=Au=null,_g=!1,(r&8)!==0&&(r|=r&32);var u=n.entangledLanes;if(u!==0)for(n=n.entanglements,u&=r;0<u;){var l=31-Jt(u),d=1<<l;r|=n[l],u&=~d}return sr=r,mo(),i}function TA(n,r){Re=null,E.H=mu,r===Ti||r===Ao?(r=Hw(),Ve=3):r===Vh?(r=Hw(),Ve=4):Ve=r===gg?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,nn=r,xe===null&&(tt=1,zo(n,ln(r,n.current)))}function DA(){var n=en.current;return n===null?!0:(_e&4194048)===_e?gn===null:(_e&62914560)===_e||(_e&536870912)!==0?n===gn:!1}function xA(){var n=E.H;return E.H=mu,n===null?mu:n}function MA(){var n=E.A;return E.A=dQ,n}function Xo(){tt=4,Ur||(_e&4194048)!==_e&&en.current!==null||(ki=!0),(Ir&134217727)===0&&(Ta&134217727)===0||Ge===null||zr(Ge,_e,rn,!1)}function zg(n,r,i){var u=Qe;Qe|=2;var l=xA(),d=MA();(Ge!==n||_e!==r)&&(Go=null,Qi(n,r)),r=!1;var y=tt;e:do try{if(Ve!==0&&xe!==null){var b=xe,T=nn;switch(Ve){case 8:kg(),y=6;break e;case 3:case 2:case 9:case 6:en.current===null&&(r=!0);var j=Ve;if(Ve=0,nn=null,Vi(n,b,T,j),i&&ki){y=0;break e}break;default:j=Ve,Ve=0,nn=null,Vi(n,b,T,j)}}gQ(),y=tt;break}catch(P){TA(n,P)}while(!0);return r&&n.shellSuspendCounter++,Zn=Sa=null,Qe=u,E.H=l,E.A=d,xe===null&&(Ge=null,_e=0,mo()),y}function gQ(){for(;xe!==null;)_A(xe)}function mQ(n,r){var i=Qe;Qe|=2;var u=xA(),l=MA();Ge!==n||_e!==r?(Go=null,$o=Xt()+500,Qi(n,r)):ki=Hs(n,r);e:do try{if(Ve!==0&&xe!==null){r=xe;var d=nn;t:switch(Ve){case 1:Ve=0,nn=null,Vi(n,r,d,1);break;case 2:case 9:if(Lw(d)){Ve=0,nn=null,UA(r);break}r=function(){Ve!==2&&Ve!==9||Ge!==n||(Ve=7),Un(n)},d.then(r,r);break e;case 3:Ve=7;break e;case 4:Ve=5;break e;case 7:Lw(d)?(Ve=0,nn=null,UA(r)):(Ve=0,nn=null,Vi(n,r,d,7));break;case 5:var y=null;switch(xe.tag){case 26:y=xe.memoizedState;case 5:case 27:var b=xe;if(y?v1(y):b.stateNode.complete){Ve=0,nn=null;var T=b.sibling;if(T!==null)xe=T;else{var j=b.return;j!==null?(xe=j,Zo(j)):xe=null}break t}}Ve=0,nn=null,Vi(n,r,d,5);break;case 6:Ve=0,nn=null,Vi(n,r,d,6);break;case 8:kg(),tt=6;break e;default:throw Error(s(462))}}yQ();break}catch(P){TA(n,P)}while(!0);return Zn=Sa=null,E.H=u,E.A=l,Qe=i,xe!==null?0:(Ge=null,_e=0,mo(),tt)}function yQ(){for(;xe!==null&&!Q3();)_A(xe)}function _A(n){var r=nA(n.alternate,n,sr);n.memoizedProps=n.pendingProps,r===null?Zo(n):xe=r}function UA(n){var r=n,i=r.alternate;switch(r.tag){case 15:case 0:r=ZC(i,r,r.pendingProps,r.type,void 0,_e);break;case 11:r=ZC(i,r,r.pendingProps,r.type.render,r.ref,_e);break;case 5:Ph(r);default:aA(i,r),r=xe=Mw(r,sr),r=nA(i,r,sr)}n.memoizedProps=n.pendingProps,r===null?Zo(n):xe=r}function Vi(n,r,i,u){Zn=Sa=null,Ph(r),Di=null,uu=0;var l=r.return;try{if(aQ(n,l,r,i,_e)){tt=1,zo(n,ln(i,n.current)),xe=null;return}}catch(d){if(l!==null)throw xe=l,d;tt=1,zo(n,ln(i,n.current)),xe=null;return}r.flags&32768?(Ie||u===1?n=!0:ki||(_e&536870912)!==0?n=!1:(Ur=n=!0,(u===2||u===9||u===3||u===6)&&(u=en.current,u!==null&&u.tag===13&&(u.flags|=16384))),IA(r,n)):Zo(r)}function Zo(n){var r=n;do{if((r.flags&32768)!==0){IA(r,Ur);return}n=r.return;var i=uQ(r.alternate,r,sr);if(i!==null){xe=i;return}if(r=r.sibling,r!==null){xe=r;return}xe=r=n}while(r!==null);tt===0&&(tt=5)}function IA(n,r){do{var i=cQ(n.alternate,n);if(i!==null){i.flags&=32767,xe=i;return}if(i=n.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!r&&(n=n.sibling,n!==null)){xe=n;return}xe=n=i}while(n!==null);tt=6,xe=null}function FA(n,r,i,u,l,d,y,b,T){n.cancelPendingCommit=null;do Jo();while(lt!==0);if((Qe&6)!==0)throw Error(s(327));if(r!==null){if(r===n.current)throw Error(s(177));if(d=r.lanes|r.childLanes,d|=Oh,X3(n,i,d,y,b,T),n===Ge&&(xe=Ge=null,_e=0),Ni=r,kr=n,ur=i,Ug=d,Ig=l,RA=u,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,bQ(Pc,function(){return VA(),null})):(n.callbackNode=null,n.callbackPriority=0),u=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||u){u=E.T,E.T=null,l=L.p,L.p=2,y=Qe,Qe|=4;try{oQ(n,r,i)}finally{Qe=y,L.p=l,E.T=u}}lt=1,kA(),zA(),NA()}}function kA(){if(lt===1){lt=0;var n=kr,r=Ni,i=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||i){i=E.T,E.T=null;var u=L.p;L.p=2;var l=Qe;Qe|=4;try{yA(r,n);var d=Xg,y=Cw(n.containerInfo),b=d.focusedElem,T=d.selectionRange;if(y!==b&&b&&b.ownerDocument&&ww(b.ownerDocument.documentElement,b)){if(T!==null&&bh(b)){var j=T.start,P=T.end;if(P===void 0&&(P=j),"selectionStart"in b)b.selectionStart=j,b.selectionEnd=Math.min(P,b.value.length);else{var ne=b.ownerDocument||document,H=ne&&ne.defaultView||window;if(H.getSelection){var G=H.getSelection(),de=b.textContent.length,pe=Math.min(T.start,de),Ye=T.end===void 0?pe:Math.min(T.end,de);!G.extend&&pe>Ye&&(y=Ye,Ye=pe,pe=y);var F=bw(b,pe),_=bw(b,Ye);if(F&&_&&(G.rangeCount!==1||G.anchorNode!==F.node||G.anchorOffset!==F.offset||G.focusNode!==_.node||G.focusOffset!==_.offset)){var V=ne.createRange();V.setStart(F.node,F.offset),G.removeAllRanges(),pe>Ye?(G.addRange(V),G.extend(_.node,_.offset)):(V.setEnd(_.node,_.offset),G.addRange(V))}}}}for(ne=[],G=b;G=G.parentNode;)G.nodeType===1&&ne.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<ne.length;b++){var ee=ne[b];ee.element.scrollLeft=ee.left,ee.element.scrollTop=ee.top}}ol=!!Kg,Xg=Kg=null}finally{Qe=l,L.p=u,E.T=i}}n.current=r,lt=2}}function zA(){if(lt===2){lt=0;var n=kr,r=Ni,i=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||i){i=E.T,E.T=null;var u=L.p;L.p=2;var l=Qe;Qe|=4;try{dA(n,r.alternate,r)}finally{Qe=l,L.p=u,E.T=i}}lt=3}}function NA(){if(lt===4||lt===3){lt=0,V3();var n=kr,r=Ni,i=ur,u=RA;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?lt=5:(lt=0,Ni=kr=null,QA(n,n.pendingLanes));var l=n.pendingLanes;if(l===0&&(Fr=null),th(i),r=r.stateNode,Zt&&typeof Zt.onCommitFiberRoot=="function")try{Zt.onCommitFiberRoot(Bs,r,void 0,(r.current.flags&128)===128)}catch{}if(u!==null){r=E.T,l=L.p,L.p=2,E.T=null;try{for(var d=n.onRecoverableError,y=0;y<u.length;y++){var b=u[y];d(b.value,{componentStack:b.stack})}}finally{E.T=r,L.p=l}}(ur&3)!==0&&Jo(),Un(n),l=n.pendingLanes,(i&261930)!==0&&(l&42)!==0?n===Fg?Ru++:(Ru=0,Fg=n):Ru=0,Ou(0)}}function QA(n,r){(n.pooledCacheLanes&=r)===0&&(r=n.pooledCache,r!=null&&(n.pooledCache=null,iu(r)))}function Jo(){return kA(),zA(),NA(),VA()}function VA(){if(lt!==5)return!1;var n=kr,r=Ug;Ug=0;var i=th(ur),u=E.T,l=L.p;try{L.p=32>i?32:i,E.T=null,i=Ig,Ig=null;var d=kr,y=ur;if(lt=0,Ni=kr=null,ur=0,(Qe&6)!==0)throw Error(s(331));var b=Qe;if(Qe|=4,wA(d.current),vA(d,d.current,y,i),Qe=b,Ou(0,!1),Zt&&typeof Zt.onPostCommitFiberRoot=="function")try{Zt.onPostCommitFiberRoot(Bs,d)}catch{}return!0}finally{L.p=l,E.T=u,QA(n,r)}}function jA(n,r,i){r=ln(i,r),r=hg(n.stateNode,r,2),n=Dr(n,r,2),n!==null&&(Ys(n,2),Un(n))}function je(n,r,i){if(n.tag===3)jA(n,n,i);else for(;r!==null;){if(r.tag===3){jA(r,n,i);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Fr===null||!Fr.has(u))){n=ln(i,n),i=LC(2),u=Dr(r,i,2),u!==null&&(BC(i,u,r,n),Ys(u,2),Un(u));break}}r=r.return}}function Ng(n,r,i){var u=n.pingCache;if(u===null){u=n.pingCache=new fQ;var l=new Set;u.set(r,l)}else l=u.get(r),l===void 0&&(l=new Set,u.set(r,l));l.has(i)||(xg=!0,l.add(i),n=pQ.bind(null,n,r,i),r.then(n,n))}function pQ(n,r,i){var u=n.pingCache;u!==null&&u.delete(r),n.pingedLanes|=n.suspendedLanes&i,n.warmLanes&=~i,Ge===n&&(_e&i)===i&&(tt===4||tt===3&&(_e&62914560)===_e&&300>Xt()-Yo?(Qe&2)===0&&Qi(n,0):Mg|=i,zi===_e&&(zi=0)),Un(n)}function LA(n,r){r===0&&(r=k0()),n=ya(n,r),n!==null&&(Ys(n,r),Un(n))}function vQ(n){var r=n.memoizedState,i=0;r!==null&&(i=r.retryLane),LA(n,i)}function SQ(n,r){var i=0;switch(n.tag){case 31:case 13:var u=n.stateNode,l=n.memoizedState;l!==null&&(i=l.retryLane);break;case 19:u=n.stateNode;break;case 22:u=n.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(r),LA(n,i)}function bQ(n,r){return Jf(n,r)}var Po=null,ji=null,Qg=!1,Wo=!1,Vg=!1,Nr=0;function Un(n){n!==ji&&n.next===null&&(ji===null?Po=ji=n:ji=ji.next=n),Wo=!0,Qg||(Qg=!0,CQ())}function Ou(n,r){if(!Vg&&Wo){Vg=!0;do for(var i=!1,u=Po;u!==null;){if(n!==0){var l=u.pendingLanes;if(l===0)var d=0;else{var y=u.suspendedLanes,b=u.pingedLanes;d=(1<<31-Jt(42|n)+1)-1,d&=l&~(y&~b),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(i=!0,$A(u,d))}else d=_e,d=no(u,u===Ge?d:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(d&3)===0||Hs(u,d)||(i=!0,$A(u,d));u=u.next}while(i);Vg=!1}}function wQ(){BA()}function BA(){Wo=Qg=!1;var n=0;Nr!==0&&_Q()&&(n=Nr);for(var r=Xt(),i=null,u=Po;u!==null;){var l=u.next,d=HA(u,r);d===0?(u.next=null,i===null?Po=l:i.next=l,l===null&&(ji=i)):(i=u,(n!==0||(d&3)!==0)&&(Wo=!0)),u=l}lt!==0&&lt!==5||Ou(n),Nr!==0&&(Nr=0)}function HA(n,r){for(var i=n.suspendedLanes,u=n.pingedLanes,l=n.expirationTimes,d=n.pendingLanes&-62914561;0<d;){var y=31-Jt(d),b=1<<y,T=l[y];T===-1?((b&i)===0||(b&u)!==0)&&(l[y]=K3(b,r)):T<=r&&(n.expiredLanes|=b),d&=~b}if(r=Ge,i=_e,i=no(n,n===r?i:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u=n.callbackNode,i===0||n===r&&(Ve===2||Ve===9)||n.cancelPendingCommit!==null)return u!==null&&u!==null&&Pf(u),n.callbackNode=null,n.callbackPriority=0;if((i&3)===0||Hs(n,i)){if(r=i&-i,r===n.callbackPriority)return r;switch(u!==null&&Pf(u),th(i)){case 2:case 8:i=I0;break;case 32:i=Pc;break;case 268435456:i=F0;break;default:i=Pc}return u=YA.bind(null,n),i=Jf(i,u),n.callbackPriority=r,n.callbackNode=i,r}return u!==null&&u!==null&&Pf(u),n.callbackPriority=2,n.callbackNode=null,2}function YA(n,r){if(lt!==0&&lt!==5)return n.callbackNode=null,n.callbackPriority=0,null;var i=n.callbackNode;if(Jo()&&n.callbackNode!==i)return null;var u=_e;return u=no(n,n===Ge?u:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u===0?null:(qA(n,u,r),HA(n,Xt()),n.callbackNode!=null&&n.callbackNode===i?YA.bind(null,n):null)}function $A(n,r){if(Jo())return null;qA(n,r,!0)}function CQ(){IQ(function(){(Qe&6)!==0?Jf(U0,wQ):BA()})}function jg(){if(Nr===0){var n=qi;n===0&&(n=Wc,Wc<<=1,(Wc&261888)===0&&(Wc=256)),Nr=n}return Nr}function GA(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:so(""+n)}function KA(n,r){var i=r.ownerDocument.createElement("input");return i.name=r.name,i.value=r.value,n.id&&i.setAttribute("form",n.id),r.parentNode.insertBefore(i,r),n=new FormData(n),i.parentNode.removeChild(i),n}function AQ(n,r,i,u,l){if(r==="submit"&&i&&i.stateNode===l){var d=GA((l[Vt]||null).action),y=u.submitter;y&&(r=(r=y[Vt]||null)?GA(r.formAction):y.getAttribute("formAction"),r!==null&&(d=r,y=null));var b=new lo("action","action",null,u,l);n.push({event:b,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Nr!==0){var T=y?KA(l,y):new FormData(l);ug(i,{pending:!0,data:T,method:l.method,action:d},null,T)}}else typeof d=="function"&&(b.preventDefault(),T=y?KA(l,y):new FormData(l),ug(i,{pending:!0,data:T,method:l.method,action:d},d,T))},currentTarget:l}]})}}for(var Lg=0;Lg<Rh.length;Lg++){var Bg=Rh[Lg],RQ=Bg.toLowerCase(),OQ=Bg[0].toUpperCase()+Bg.slice(1);wn(RQ,"on"+OQ)}wn(Ow,"onAnimationEnd"),wn(qw,"onAnimationIteration"),wn(Ew,"onAnimationStart"),wn("dblclick","onDoubleClick"),wn("focusin","onFocus"),wn("focusout","onBlur"),wn(jN,"onTransitionRun"),wn(LN,"onTransitionStart"),wn(BN,"onTransitionCancel"),wn(Tw,"onTransitionEnd"),fi("onMouseEnter",["mouseout","mouseover"]),fi("onMouseLeave",["mouseout","mouseover"]),fi("onPointerEnter",["pointerout","pointerover"]),fi("onPointerLeave",["pointerout","pointerover"]),fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),fa("onBeforeInput",["compositionend","keypress","textInput","paste"]),fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qQ=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(qu));function XA(n,r){r=(r&4)!==0;for(var i=0;i<n.length;i++){var u=n[i],l=u.event;u=u.listeners;e:{var d=void 0;if(r)for(var y=u.length-1;0<=y;y--){var b=u[y],T=b.instance,j=b.currentTarget;if(b=b.listener,T!==d&&l.isPropagationStopped())break e;d=b,l.currentTarget=j;try{d(l)}catch(P){go(P)}l.currentTarget=null,d=T}else for(y=0;y<u.length;y++){if(b=u[y],T=b.instance,j=b.currentTarget,b=b.listener,T!==d&&l.isPropagationStopped())break e;d=b,l.currentTarget=j;try{d(l)}catch(P){go(P)}l.currentTarget=null,d=T}}}}function Me(n,r){var i=r[nh];i===void 0&&(i=r[nh]=new Set);var u=n+"__bubble";i.has(u)||(ZA(r,n,2,!1),i.add(u))}function Hg(n,r,i){var u=0;r&&(u|=4),ZA(i,n,u,r)}var el="_reactListening"+Math.random().toString(36).slice(2);function Yg(n){if(!n[el]){n[el]=!0,B0.forEach(function(i){i!=="selectionchange"&&(qQ.has(i)||Hg(i,!1,n),Hg(i,!0,n))});var r=n.nodeType===9?n:n.ownerDocument;r===null||r[el]||(r[el]=!0,Hg("selectionchange",!1,r))}}function ZA(n,r,i,u){switch(O1(r)){case 2:var l=eV;break;case 8:l=tV;break;default:l=sm}i=l.bind(null,r,i,n),l=void 0,!dh||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(l=!0),u?l!==void 0?n.addEventListener(r,i,{capture:!0,passive:l}):n.addEventListener(r,i,!0):l!==void 0?n.addEventListener(r,i,{passive:l}):n.addEventListener(r,i,!1)}function $g(n,r,i,u,l){var d=u;if((r&1)===0&&(r&2)===0&&u!==null)e:for(;;){if(u===null)return;var y=u.tag;if(y===3||y===4){var b=u.stateNode.containerInfo;if(b===l)break;if(y===4)for(y=u.return;y!==null;){var T=y.tag;if((T===3||T===4)&&y.stateNode.containerInfo===l)return;y=y.return}for(;b!==null;){if(y=oi(b),y===null)return;if(T=y.tag,T===5||T===6||T===26||T===27){u=d=y;continue e}b=b.parentNode}}u=u.return}tw(function(){var j=d,P=oh(i),ne=[];e:{var H=Dw.get(n);if(H!==void 0){var G=lo,de=n;switch(n){case"keypress":if(co(i)===0)break e;case"keydown":case"keyup":G=SN;break;case"focusin":de="focus",G=mh;break;case"focusout":de="blur",G=mh;break;case"beforeblur":case"afterblur":G=mh;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=aw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=uN;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=CN;break;case Ow:case qw:case Ew:G=lN;break;case Tw:G=RN;break;case"scroll":case"scrollend":G=iN;break;case"wheel":G=qN;break;case"copy":case"cut":case"paste":G=fN;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=sw;break;case"toggle":case"beforetoggle":G=TN}var pe=(r&4)!==0,Ye=!pe&&(n==="scroll"||n==="scrollend"),F=pe?H!==null?H+"Capture":null:H;pe=[];for(var _=j,V;_!==null;){var ee=_;if(V=ee.stateNode,ee=ee.tag,ee!==5&&ee!==26&&ee!==27||V===null||F===null||(ee=Ks(_,F),ee!=null&&pe.push(Eu(_,ee,V))),Ye)break;_=_.return}0<pe.length&&(H=new G(H,de,null,i,P),ne.push({event:H,listeners:pe}))}}if((r&7)===0){e:{if(H=n==="mouseover"||n==="pointerover",G=n==="mouseout"||n==="pointerout",H&&i!==ch&&(de=i.relatedTarget||i.fromElement)&&(oi(de)||de[ci]))break e;if((G||H)&&(H=P.window===P?P:(H=P.ownerDocument)?H.defaultView||H.parentWindow:window,G?(de=i.relatedTarget||i.toElement,G=j,de=de?oi(de):null,de!==null&&(Ye=o(de),pe=de.tag,de!==Ye||pe!==5&&pe!==27&&pe!==6)&&(de=null)):(G=null,de=j),G!==de)){if(pe=aw,ee="onMouseLeave",F="onMouseEnter",_="mouse",(n==="pointerout"||n==="pointerover")&&(pe=sw,ee="onPointerLeave",F="onPointerEnter",_="pointer"),Ye=G==null?H:Gs(G),V=de==null?H:Gs(de),H=new pe(ee,_+"leave",G,i,P),H.target=Ye,H.relatedTarget=V,ee=null,oi(P)===j&&(pe=new pe(F,_+"enter",de,i,P),pe.target=V,pe.relatedTarget=Ye,ee=pe),Ye=ee,G&&de)t:{for(pe=EQ,F=G,_=de,V=0,ee=F;ee;ee=pe(ee))V++;ee=0;for(var me=_;me;me=pe(me))ee++;for(;0<V-ee;)F=pe(F),V--;for(;0<ee-V;)_=pe(_),ee--;for(;V--;){if(F===_||_!==null&&F===_.alternate){pe=F;break t}F=pe(F),_=pe(_)}pe=null}else pe=null;G!==null&&JA(ne,H,G,pe,!1),de!==null&&Ye!==null&&JA(ne,Ye,de,pe,!0)}}e:{if(H=j?Gs(j):window,G=H.nodeName&&H.nodeName.toLowerCase(),G==="select"||G==="input"&&H.type==="file")var ze=gw;else if(fw(H))if(mw)ze=NN;else{ze=kN;var he=FN}else G=H.nodeName,!G||G.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?j&&uh(j.elementType)&&(ze=gw):ze=zN;if(ze&&(ze=ze(n,j))){hw(ne,ze,i,P);break e}he&&he(n,H,j),n==="focusout"&&j&&H.type==="number"&&j.memoizedProps.value!=null&&sh(H,"number",H.value)}switch(he=j?Gs(j):window,n){case"focusin":(fw(he)||he.contentEditable==="true")&&(vi=he,wh=j,nu=null);break;case"focusout":nu=wh=vi=null;break;case"mousedown":Ch=!0;break;case"contextmenu":case"mouseup":case"dragend":Ch=!1,Aw(ne,i,P);break;case"selectionchange":if(VN)break;case"keydown":case"keyup":Aw(ne,i,P)}var Oe;if(ph)e:{switch(n){case"compositionstart":var Ue="onCompositionStart";break e;case"compositionend":Ue="onCompositionEnd";break e;case"compositionupdate":Ue="onCompositionUpdate";break e}Ue=void 0}else pi?lw(n,i)&&(Ue="onCompositionEnd"):n==="keydown"&&i.keyCode===229&&(Ue="onCompositionStart");Ue&&(uw&&i.locale!=="ko"&&(pi||Ue!=="onCompositionStart"?Ue==="onCompositionEnd"&&pi&&(Oe=nw()):(Cr=P,fh="value"in Cr?Cr.value:Cr.textContent,pi=!0)),he=tl(j,Ue),0<he.length&&(Ue=new iw(Ue,n,null,i,P),ne.push({event:Ue,listeners:he}),Oe?Ue.data=Oe:(Oe=dw(i),Oe!==null&&(Ue.data=Oe)))),(Oe=xN?MN(n,i):_N(n,i))&&(Ue=tl(j,"onBeforeInput"),0<Ue.length&&(he=new iw("onBeforeInput","beforeinput",null,i,P),ne.push({event:he,listeners:Ue}),he.data=Oe)),AQ(ne,n,j,i,P)}XA(ne,r)})}function Eu(n,r,i){return{instance:n,listener:r,currentTarget:i}}function tl(n,r){for(var i=r+"Capture",u=[];n!==null;){var l=n,d=l.stateNode;if(l=l.tag,l!==5&&l!==26&&l!==27||d===null||(l=Ks(n,i),l!=null&&u.unshift(Eu(n,l,d)),l=Ks(n,r),l!=null&&u.push(Eu(n,l,d))),n.tag===3)return u;n=n.return}return[]}function EQ(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function JA(n,r,i,u,l){for(var d=r._reactName,y=[];i!==null&&i!==u;){var b=i,T=b.alternate,j=b.stateNode;if(b=b.tag,T!==null&&T===u)break;b!==5&&b!==26&&b!==27||j===null||(T=j,l?(j=Ks(i,d),j!=null&&y.unshift(Eu(i,j,T))):l||(j=Ks(i,d),j!=null&&y.push(Eu(i,j,T)))),i=i.return}y.length!==0&&n.push({event:r,listeners:y})}var TQ=/\r\n?/g,DQ=/\u0000|\uFFFD/g;function PA(n){return(typeof n=="string"?n:""+n).replace(TQ,`
`).replace(DQ,"")}function WA(n,r){return r=PA(r),PA(n)===r}function He(n,r,i,u,l,d){switch(i){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||gi(n,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&gi(n,""+u);break;case"className":ao(n,"class",u);break;case"tabIndex":ao(n,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":ao(n,i,u);break;case"style":W0(n,u,d);break;case"data":if(r!=="object"){ao(n,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||i!=="href")){n.removeAttribute(i);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(i);break}u=so(""+u),n.setAttribute(i,u);break;case"action":case"formAction":if(typeof u=="function"){n.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(i==="formAction"?(r!=="input"&&He(n,r,"name",l.name,l,null),He(n,r,"formEncType",l.formEncType,l,null),He(n,r,"formMethod",l.formMethod,l,null),He(n,r,"formTarget",l.formTarget,l,null)):(He(n,r,"encType",l.encType,l,null),He(n,r,"method",l.method,l,null),He(n,r,"target",l.target,l,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(i);break}u=so(""+u),n.setAttribute(i,u);break;case"onClick":u!=null&&(n.onclick=$n);break;case"onScroll":u!=null&&Me("scroll",n);break;case"onScrollEnd":u!=null&&Me("scrollend",n);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(i=u.__html,i!=null){if(l.children!=null)throw Error(s(60));n.innerHTML=i}}break;case"multiple":n.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":n.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){n.removeAttribute("xlink:href");break}i=so(""+u),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(i,""+u):n.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(i,""):n.removeAttribute(i);break;case"capture":case"download":u===!0?n.setAttribute(i,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(i,u):n.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?n.setAttribute(i,u):n.removeAttribute(i);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?n.removeAttribute(i):n.setAttribute(i,u);break;case"popover":Me("beforetoggle",n),Me("toggle",n),ro(n,"popover",u);break;case"xlinkActuate":Yn(n,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Yn(n,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Yn(n,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Yn(n,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Yn(n,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Yn(n,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Yn(n,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Yn(n,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Yn(n,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":ro(n,"is",u);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=rN.get(i)||i,ro(n,i,u))}}function Gg(n,r,i,u,l,d){switch(i){case"style":W0(n,u,d);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(i=u.__html,i!=null){if(l.children!=null)throw Error(s(60));n.innerHTML=i}}break;case"children":typeof u=="string"?gi(n,u):(typeof u=="number"||typeof u=="bigint")&&gi(n,""+u);break;case"onScroll":u!=null&&Me("scroll",n);break;case"onScrollEnd":u!=null&&Me("scrollend",n);break;case"onClick":u!=null&&(n.onclick=$n);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!H0.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(l=i.endsWith("Capture"),r=i.slice(2,l?i.length-7:void 0),d=n[Vt]||null,d=d!=null?d[i]:null,typeof d=="function"&&n.removeEventListener(r,d,l),typeof u=="function")){typeof d!="function"&&d!==null&&(i in n?n[i]=null:n.hasAttribute(i)&&n.removeAttribute(i)),n.addEventListener(r,u,l);break e}i in n?n[i]=u:u===!0?n.setAttribute(i,""):ro(n,i,u)}}}function Rt(n,r,i){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Me("error",n),Me("load",n);var u=!1,l=!1,d;for(d in i)if(i.hasOwnProperty(d)){var y=i[d];if(y!=null)switch(d){case"src":u=!0;break;case"srcSet":l=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:He(n,r,d,y,i,null)}}l&&He(n,r,"srcSet",i.srcSet,i,null),u&&He(n,r,"src",i.src,i,null);return;case"input":Me("invalid",n);var b=d=y=l=null,T=null,j=null;for(u in i)if(i.hasOwnProperty(u)){var P=i[u];if(P!=null)switch(u){case"name":l=P;break;case"type":y=P;break;case"checked":T=P;break;case"defaultChecked":j=P;break;case"value":d=P;break;case"defaultValue":b=P;break;case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(s(137,r));break;default:He(n,r,u,P,i,null)}}X0(n,d,b,T,j,y,l,!1);return;case"select":Me("invalid",n),u=y=d=null;for(l in i)if(i.hasOwnProperty(l)&&(b=i[l],b!=null))switch(l){case"value":d=b;break;case"defaultValue":y=b;break;case"multiple":u=b;default:He(n,r,l,b,i,null)}r=d,i=y,n.multiple=!!u,r!=null?hi(n,!!u,r,!1):i!=null&&hi(n,!!u,i,!0);return;case"textarea":Me("invalid",n),d=l=u=null;for(y in i)if(i.hasOwnProperty(y)&&(b=i[y],b!=null))switch(y){case"value":u=b;break;case"defaultValue":l=b;break;case"children":d=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(s(91));break;default:He(n,r,y,b,i,null)}J0(n,u,l,d);return;case"option":for(T in i)if(i.hasOwnProperty(T)&&(u=i[T],u!=null))switch(T){case"selected":n.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:He(n,r,T,u,i,null)}return;case"dialog":Me("beforetoggle",n),Me("toggle",n),Me("cancel",n),Me("close",n);break;case"iframe":case"object":Me("load",n);break;case"video":case"audio":for(u=0;u<qu.length;u++)Me(qu[u],n);break;case"image":Me("error",n),Me("load",n);break;case"details":Me("toggle",n);break;case"embed":case"source":case"link":Me("error",n),Me("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in i)if(i.hasOwnProperty(j)&&(u=i[j],u!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:He(n,r,j,u,i,null)}return;default:if(uh(r)){for(P in i)i.hasOwnProperty(P)&&(u=i[P],u!==void 0&&Gg(n,r,P,u,i,void 0));return}}for(b in i)i.hasOwnProperty(b)&&(u=i[b],u!=null&&He(n,r,b,u,i,null))}function xQ(n,r,i,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var l=null,d=null,y=null,b=null,T=null,j=null,P=null;for(G in i){var ne=i[G];if(i.hasOwnProperty(G)&&ne!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":T=ne;default:u.hasOwnProperty(G)||He(n,r,G,null,u,ne)}}for(var H in u){var G=u[H];if(ne=i[H],u.hasOwnProperty(H)&&(G!=null||ne!=null))switch(H){case"type":d=G;break;case"name":l=G;break;case"checked":j=G;break;case"defaultChecked":P=G;break;case"value":y=G;break;case"defaultValue":b=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,r));break;default:G!==ne&&He(n,r,H,G,u,ne)}}ih(n,y,b,T,j,P,d,l);return;case"select":G=y=b=H=null;for(d in i)if(T=i[d],i.hasOwnProperty(d)&&T!=null)switch(d){case"value":break;case"multiple":G=T;default:u.hasOwnProperty(d)||He(n,r,d,null,u,T)}for(l in u)if(d=u[l],T=i[l],u.hasOwnProperty(l)&&(d!=null||T!=null))switch(l){case"value":H=d;break;case"defaultValue":b=d;break;case"multiple":y=d;default:d!==T&&He(n,r,l,d,u,T)}r=b,i=y,u=G,H!=null?hi(n,!!i,H,!1):!!u!=!!i&&(r!=null?hi(n,!!i,r,!0):hi(n,!!i,i?[]:"",!1));return;case"textarea":G=H=null;for(b in i)if(l=i[b],i.hasOwnProperty(b)&&l!=null&&!u.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:He(n,r,b,null,u,l)}for(y in u)if(l=u[y],d=i[y],u.hasOwnProperty(y)&&(l!=null||d!=null))switch(y){case"value":H=l;break;case"defaultValue":G=l;break;case"children":break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(s(91));break;default:l!==d&&He(n,r,y,l,u,d)}Z0(n,H,G);return;case"option":for(var de in i)if(H=i[de],i.hasOwnProperty(de)&&H!=null&&!u.hasOwnProperty(de))switch(de){case"selected":n.selected=!1;break;default:He(n,r,de,null,u,H)}for(T in u)if(H=u[T],G=i[T],u.hasOwnProperty(T)&&H!==G&&(H!=null||G!=null))switch(T){case"selected":n.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:He(n,r,T,H,u,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pe in i)H=i[pe],i.hasOwnProperty(pe)&&H!=null&&!u.hasOwnProperty(pe)&&He(n,r,pe,null,u,H);for(j in u)if(H=u[j],G=i[j],u.hasOwnProperty(j)&&H!==G&&(H!=null||G!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,r));break;default:He(n,r,j,H,u,G)}return;default:if(uh(r)){for(var Ye in i)H=i[Ye],i.hasOwnProperty(Ye)&&H!==void 0&&!u.hasOwnProperty(Ye)&&Gg(n,r,Ye,void 0,u,H);for(P in u)H=u[P],G=i[P],!u.hasOwnProperty(P)||H===G||H===void 0&&G===void 0||Gg(n,r,P,H,u,G);return}}for(var F in i)H=i[F],i.hasOwnProperty(F)&&H!=null&&!u.hasOwnProperty(F)&&He(n,r,F,null,u,H);for(ne in u)H=u[ne],G=i[ne],!u.hasOwnProperty(ne)||H===G||H==null&&G==null||He(n,r,ne,H,u,G)}function e1(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function MQ(){if(typeof performance.getEntriesByType=="function"){for(var n=0,r=0,i=performance.getEntriesByType("resource"),u=0;u<i.length;u++){var l=i[u],d=l.transferSize,y=l.initiatorType,b=l.duration;if(d&&b&&e1(y)){for(y=0,b=l.responseEnd,u+=1;u<i.length;u++){var T=i[u],j=T.startTime;if(j>b)break;var P=T.transferSize,ne=T.initiatorType;P&&e1(ne)&&(T=T.responseEnd,y+=P*(T<b?1:(b-j)/(T-j)))}if(--u,r+=8*(d+y)/(l.duration/1e3),n++,10<n)break}}if(0<n)return r/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var Kg=null,Xg=null;function nl(n){return n.nodeType===9?n:n.ownerDocument}function t1(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function n1(n,r){if(n===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&r==="foreignObject"?0:n}function Zg(n,r){return n==="textarea"||n==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Jg=null;function _Q(){var n=window.event;return n&&n.type==="popstate"?n===Jg?!1:(Jg=n,!0):(Jg=null,!1)}var r1=typeof setTimeout=="function"?setTimeout:void 0,UQ=typeof clearTimeout=="function"?clearTimeout:void 0,a1=typeof Promise=="function"?Promise:void 0,IQ=typeof queueMicrotask=="function"?queueMicrotask:typeof a1<"u"?function(n){return a1.resolve(null).then(n).catch(FQ)}:r1;function FQ(n){setTimeout(function(){throw n})}function Qr(n){return n==="head"}function i1(n,r){var i=r,u=0;do{var l=i.nextSibling;if(n.removeChild(i),l&&l.nodeType===8)if(i=l.data,i==="/$"||i==="/&"){if(u===0){n.removeChild(l),Yi(r);return}u--}else if(i==="$"||i==="$?"||i==="$~"||i==="$!"||i==="&")u++;else if(i==="html")Tu(n.ownerDocument.documentElement);else if(i==="head"){i=n.ownerDocument.head,Tu(i);for(var d=i.firstChild;d;){var y=d.nextSibling,b=d.nodeName;d[$s]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&d.rel.toLowerCase()==="stylesheet"||i.removeChild(d),d=y}}else i==="body"&&Tu(n.ownerDocument.body);i=l}while(i);Yi(r)}function s1(n,r){var i=n;n=0;do{var u=i.nextSibling;if(i.nodeType===1?r?(i._stashedDisplay=i.style.display,i.style.display="none"):(i.style.display=i._stashedDisplay||"",i.getAttribute("style")===""&&i.removeAttribute("style")):i.nodeType===3&&(r?(i._stashedText=i.nodeValue,i.nodeValue=""):i.nodeValue=i._stashedText||""),u&&u.nodeType===8)if(i=u.data,i==="/$"){if(n===0)break;n--}else i!=="$"&&i!=="$?"&&i!=="$~"&&i!=="$!"||n++;i=u}while(i)}function Pg(n){var r=n.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var i=r;switch(r=r.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":Pg(i),rh(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}n.removeChild(i)}}function kQ(n,r,i,u){for(;n.nodeType===1;){var l=i;if(n.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(u){if(!n[$s])switch(r){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(d=n.getAttribute("rel"),d==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(d!==l.rel||n.getAttribute("href")!==(l.href==null||l.href===""?null:l.href)||n.getAttribute("crossorigin")!==(l.crossOrigin==null?null:l.crossOrigin)||n.getAttribute("title")!==(l.title==null?null:l.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(d=n.getAttribute("src"),(d!==(l.src==null?null:l.src)||n.getAttribute("type")!==(l.type==null?null:l.type)||n.getAttribute("crossorigin")!==(l.crossOrigin==null?null:l.crossOrigin))&&d&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(r==="input"&&n.type==="hidden"){var d=l.name==null?null:""+l.name;if(l.type==="hidden"&&n.getAttribute("name")===d)return n}else return n;if(n=mn(n.nextSibling),n===null)break}return null}function zQ(n,r,i){if(r==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!i||(n=mn(n.nextSibling),n===null))return null;return n}function u1(n,r){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!r||(n=mn(n.nextSibling),n===null))return null;return n}function Wg(n){return n.data==="$?"||n.data==="$~"}function em(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function NQ(n,r){var i=n.ownerDocument;if(n.data==="$~")n._reactRetry=r;else if(n.data!=="$?"||i.readyState!=="loading")r();else{var u=function(){r(),i.removeEventListener("DOMContentLoaded",u)};i.addEventListener("DOMContentLoaded",u),n._reactRetry=u}}function mn(n){for(;n!=null;n=n.nextSibling){var r=n.nodeType;if(r===1||r===3)break;if(r===8){if(r=n.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return n}var tm=null;function c1(n){n=n.nextSibling;for(var r=0;n;){if(n.nodeType===8){var i=n.data;if(i==="/$"||i==="/&"){if(r===0)return mn(n.nextSibling);r--}else i!=="$"&&i!=="$!"&&i!=="$?"&&i!=="$~"&&i!=="&"||r++}n=n.nextSibling}return null}function o1(n){n=n.previousSibling;for(var r=0;n;){if(n.nodeType===8){var i=n.data;if(i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"){if(r===0)return n;r--}else i!=="/$"&&i!=="/&"||r++}n=n.previousSibling}return null}function l1(n,r,i){switch(r=nl(i),n){case"html":if(n=r.documentElement,!n)throw Error(s(452));return n;case"head":if(n=r.head,!n)throw Error(s(453));return n;case"body":if(n=r.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}function Tu(n){for(var r=n.attributes;r.length;)n.removeAttributeNode(r[0]);rh(n)}var yn=new Map,d1=new Set;function rl(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var cr=L.d;L.d={f:QQ,r:VQ,D:jQ,C:LQ,L:BQ,m:HQ,X:$Q,S:YQ,M:GQ};function QQ(){var n=cr.f(),r=Ko();return n||r}function VQ(n){var r=li(n);r!==null&&r.tag===5&&r.type==="form"?TC(r):cr.r(n)}var Li=typeof document>"u"?null:document;function f1(n,r,i){var u=Li;if(u&&typeof r=="string"&&r){var l=cn(r);l='link[rel="'+n+'"][href="'+l+'"]',typeof i=="string"&&(l+='[crossorigin="'+i+'"]'),d1.has(l)||(d1.add(l),n={rel:n,crossOrigin:i,href:r},u.querySelector(l)===null&&(r=u.createElement("link"),Rt(r,"link",n),ht(r),u.head.appendChild(r)))}}function jQ(n){cr.D(n),f1("dns-prefetch",n,null)}function LQ(n,r){cr.C(n,r),f1("preconnect",n,r)}function BQ(n,r,i){cr.L(n,r,i);var u=Li;if(u&&n&&r){var l='link[rel="preload"][as="'+cn(r)+'"]';r==="image"&&i&&i.imageSrcSet?(l+='[imagesrcset="'+cn(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(l+='[imagesizes="'+cn(i.imageSizes)+'"]')):l+='[href="'+cn(n)+'"]';var d=l;switch(r){case"style":d=Bi(n);break;case"script":d=Hi(n)}yn.has(d)||(n=v({rel:"preload",href:r==="image"&&i&&i.imageSrcSet?void 0:n,as:r},i),yn.set(d,n),u.querySelector(l)!==null||r==="style"&&u.querySelector(Du(d))||r==="script"&&u.querySelector(xu(d))||(r=u.createElement("link"),Rt(r,"link",n),ht(r),u.head.appendChild(r)))}}function HQ(n,r){cr.m(n,r);var i=Li;if(i&&n){var u=r&&typeof r.as=="string"?r.as:"script",l='link[rel="modulepreload"][as="'+cn(u)+'"][href="'+cn(n)+'"]',d=l;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Hi(n)}if(!yn.has(d)&&(n=v({rel:"modulepreload",href:n},r),yn.set(d,n),i.querySelector(l)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(xu(d)))return}u=i.createElement("link"),Rt(u,"link",n),ht(u),i.head.appendChild(u)}}}function YQ(n,r,i){cr.S(n,r,i);var u=Li;if(u&&n){var l=di(u).hoistableStyles,d=Bi(n);r=r||"default";var y=l.get(d);if(!y){var b={loading:0,preload:null};if(y=u.querySelector(Du(d)))b.loading=5;else{n=v({rel:"stylesheet",href:n,"data-precedence":r},i),(i=yn.get(d))&&nm(n,i);var T=y=u.createElement("link");ht(T),Rt(T,"link",n),T._p=new Promise(function(j,P){T.onload=j,T.onerror=P}),T.addEventListener("load",function(){b.loading|=1}),T.addEventListener("error",function(){b.loading|=2}),b.loading|=4,al(y,r,u)}y={type:"stylesheet",instance:y,count:1,state:b},l.set(d,y)}}}function $Q(n,r){cr.X(n,r);var i=Li;if(i&&n){var u=di(i).hoistableScripts,l=Hi(n),d=u.get(l);d||(d=i.querySelector(xu(l)),d||(n=v({src:n,async:!0},r),(r=yn.get(l))&&rm(n,r),d=i.createElement("script"),ht(d),Rt(d,"link",n),i.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},u.set(l,d))}}function GQ(n,r){cr.M(n,r);var i=Li;if(i&&n){var u=di(i).hoistableScripts,l=Hi(n),d=u.get(l);d||(d=i.querySelector(xu(l)),d||(n=v({src:n,async:!0,type:"module"},r),(r=yn.get(l))&&rm(n,r),d=i.createElement("script"),ht(d),Rt(d,"link",n),i.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},u.set(l,d))}}function h1(n,r,i,u){var l=(l=le.current)?rl(l):null;if(!l)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(r=Bi(i.href),i=di(l).hoistableStyles,u=i.get(r),u||(u={type:"style",instance:null,count:0,state:null},i.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){n=Bi(i.href);var d=di(l).hoistableStyles,y=d.get(n);if(y||(l=l.ownerDocument||l,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(n,y),(d=l.querySelector(Du(n)))&&!d._p&&(y.instance=d,y.state.loading=5),yn.has(n)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},yn.set(n,i),d||KQ(l,n,i,y.state))),r&&u===null)throw Error(s(528,""));return y}if(r&&u!==null)throw Error(s(529,""));return null;case"script":return r=i.async,i=i.src,typeof i=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Hi(i),i=di(l).hoistableScripts,u=i.get(r),u||(u={type:"script",instance:null,count:0,state:null},i.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function Bi(n){return'href="'+cn(n)+'"'}function Du(n){return'link[rel="stylesheet"]['+n+"]"}function g1(n){return v({},n,{"data-precedence":n.precedence,precedence:null})}function KQ(n,r,i,u){n.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=n.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),Rt(r,"link",i),ht(r),n.head.appendChild(r))}function Hi(n){return'[src="'+cn(n)+'"]'}function xu(n){return"script[async]"+n}function m1(n,r,i){if(r.count++,r.instance===null)switch(r.type){case"style":var u=n.querySelector('style[data-href~="'+cn(i.href)+'"]');if(u)return r.instance=u,ht(u),u;var l=v({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return u=(n.ownerDocument||n).createElement("style"),ht(u),Rt(u,"style",l),al(u,i.precedence,n),r.instance=u;case"stylesheet":l=Bi(i.href);var d=n.querySelector(Du(l));if(d)return r.state.loading|=4,r.instance=d,ht(d),d;u=g1(i),(l=yn.get(l))&&nm(u,l),d=(n.ownerDocument||n).createElement("link"),ht(d);var y=d;return y._p=new Promise(function(b,T){y.onload=b,y.onerror=T}),Rt(d,"link",u),r.state.loading|=4,al(d,i.precedence,n),r.instance=d;case"script":return d=Hi(i.src),(l=n.querySelector(xu(d)))?(r.instance=l,ht(l),l):(u=i,(l=yn.get(d))&&(u=v({},i),rm(u,l)),n=n.ownerDocument||n,l=n.createElement("script"),ht(l),Rt(l,"link",u),n.head.appendChild(l),r.instance=l);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,al(u,i.precedence,n));return r.instance}function al(n,r,i){for(var u=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),l=u.length?u[u.length-1]:null,d=l,y=0;y<u.length;y++){var b=u[y];if(b.dataset.precedence===r)d=b;else if(d!==l)break}d?d.parentNode.insertBefore(n,d.nextSibling):(r=i.nodeType===9?i.head:i,r.insertBefore(n,r.firstChild))}function nm(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.title==null&&(n.title=r.title)}function rm(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.integrity==null&&(n.integrity=r.integrity)}var il=null;function y1(n,r,i){if(il===null){var u=new Map,l=il=new Map;l.set(i,u)}else l=il,u=l.get(i),u||(u=new Map,l.set(i,u));if(u.has(n))return u;for(u.set(n,null),i=i.getElementsByTagName(n),l=0;l<i.length;l++){var d=i[l];if(!(d[$s]||d[bt]||n==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var y=d.getAttribute(r)||"";y=n+y;var b=u.get(y);b?b.push(d):u.set(y,[d])}}return u}function p1(n,r,i){n=n.ownerDocument||n,n.head.insertBefore(i,r==="title"?n.querySelector("head > title"):null)}function XQ(n,r,i){if(i===1||r.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return n=r.disabled,typeof r.precedence=="string"&&n==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function v1(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function ZQ(n,r,i,u){if(i.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var l=Bi(u.href),d=r.querySelector(Du(l));if(d){r=d._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(n.count++,n=sl.bind(n),r.then(n,n)),i.state.loading|=4,i.instance=d,ht(d);return}d=r.ownerDocument||r,u=g1(u),(l=yn.get(l))&&nm(u,l),d=d.createElement("link"),ht(d);var y=d;y._p=new Promise(function(b,T){y.onload=b,y.onerror=T}),Rt(d,"link",u),i.instance=d}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(i,r),(r=i.state.preload)&&(i.state.loading&3)===0&&(n.count++,i=sl.bind(n),r.addEventListener("load",i),r.addEventListener("error",i))}}var am=0;function JQ(n,r){return n.stylesheets&&n.count===0&&cl(n,n.stylesheets),0<n.count||0<n.imgCount?function(i){var u=setTimeout(function(){if(n.stylesheets&&cl(n,n.stylesheets),n.unsuspend){var d=n.unsuspend;n.unsuspend=null,d()}},6e4+r);0<n.imgBytes&&am===0&&(am=62500*MQ());var l=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&cl(n,n.stylesheets),n.unsuspend)){var d=n.unsuspend;n.unsuspend=null,d()}},(n.imgBytes>am?50:800)+r);return n.unsuspend=i,function(){n.unsuspend=null,clearTimeout(u),clearTimeout(l)}}:null}function sl(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)cl(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var ul=null;function cl(n,r){n.stylesheets=null,n.unsuspend!==null&&(n.count++,ul=new Map,r.forEach(PQ,n),ul=null,sl.call(n))}function PQ(n,r){if(!(r.state.loading&4)){var i=ul.get(n);if(i)var u=i.get(null);else{i=new Map,ul.set(n,i);for(var l=n.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<l.length;d++){var y=l[d];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(i.set(y.dataset.precedence,y),u=y)}u&&i.set(null,u)}l=r.instance,y=l.getAttribute("data-precedence"),d=i.get(y)||u,d===u&&i.set(null,l),i.set(y,l),this.count++,u=sl.bind(this),l.addEventListener("load",u),l.addEventListener("error",u),d?d.parentNode.insertBefore(l,d.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(l,n.firstChild)),r.state.loading|=4}}var Mu={$$typeof:R,Provider:null,Consumer:null,_currentValue:te,_currentValue2:te,_threadCount:0};function WQ(n,r,i,u,l,d,y,b,T){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Wf(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wf(0),this.hiddenUpdates=Wf(null),this.identifierPrefix=u,this.onUncaughtError=l,this.onCaughtError=d,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function S1(n,r,i,u,l,d,y,b,T,j,P,ne){return n=new WQ(n,r,i,y,T,j,P,ne,b),r=1,d===!0&&(r|=24),d=Wt(3,null,null,r),n.current=d,d.stateNode=n,r=zh(),r.refCount++,n.pooledCache=r,r.refCount++,d.memoizedState={element:u,isDehydrated:i,cache:r},jh(d),n}function b1(n){return n?(n=wi,n):wi}function w1(n,r,i,u,l,d){l=b1(l),u.context===null?u.context=l:u.pendingContext=l,u=Tr(r),u.payload={element:i},d=d===void 0?null:d,d!==null&&(u.callback=d),i=Dr(n,u,r),i!==null&&($t(i,n,r),ou(i,n,r))}function C1(n,r){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var i=n.retryLane;n.retryLane=i!==0&&i<r?i:r}}function im(n,r){C1(n,r),(n=n.alternate)&&C1(n,r)}function A1(n){if(n.tag===13||n.tag===31){var r=ya(n,67108864);r!==null&&$t(r,n,67108864),im(n,67108864)}}function R1(n){if(n.tag===13||n.tag===31){var r=an();r=eh(r);var i=ya(n,r);i!==null&&$t(i,n,r),im(n,r)}}var ol=!0;function eV(n,r,i,u){var l=E.T;E.T=null;var d=L.p;try{L.p=2,sm(n,r,i,u)}finally{L.p=d,E.T=l}}function tV(n,r,i,u){var l=E.T;E.T=null;var d=L.p;try{L.p=8,sm(n,r,i,u)}finally{L.p=d,E.T=l}}function sm(n,r,i,u){if(ol){var l=um(u);if(l===null)$g(n,r,u,ll,i),q1(n,u);else if(rV(l,n,r,i,u))u.stopPropagation();else if(q1(n,u),r&4&&-1<nV.indexOf(n)){for(;l!==null;){var d=li(l);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var y=da(d.pendingLanes);if(y!==0){var b=d;for(b.pendingLanes|=2,b.entangledLanes|=2;y;){var T=1<<31-Jt(y);b.entanglements[1]|=T,y&=~T}Un(d),(Qe&6)===0&&($o=Xt()+500,Ou(0))}}break;case 31:case 13:b=ya(d,2),b!==null&&$t(b,d,2),Ko(),im(d,2)}if(d=um(u),d===null&&$g(n,r,u,ll,i),d===l)break;l=d}l!==null&&u.stopPropagation()}else $g(n,r,u,null,i)}}function um(n){return n=oh(n),cm(n)}var ll=null;function cm(n){if(ll=null,n=oi(n),n!==null){var r=o(n);if(r===null)n=null;else{var i=r.tag;if(i===13){if(n=f(r),n!==null)return n;n=null}else if(i===31){if(n=h(r),n!==null)return n;n=null}else if(i===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null)}}return ll=n,null}function O1(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(j3()){case U0:return 2;case I0:return 8;case Pc:case L3:return 32;case F0:return 268435456;default:return 32}default:return 32}}var om=!1,Vr=null,jr=null,Lr=null,_u=new Map,Uu=new Map,Br=[],nV="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function q1(n,r){switch(n){case"focusin":case"focusout":Vr=null;break;case"dragenter":case"dragleave":jr=null;break;case"mouseover":case"mouseout":Lr=null;break;case"pointerover":case"pointerout":_u.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Uu.delete(r.pointerId)}}function Iu(n,r,i,u,l,d){return n===null||n.nativeEvent!==d?(n={blockedOn:r,domEventName:i,eventSystemFlags:u,nativeEvent:d,targetContainers:[l]},r!==null&&(r=li(r),r!==null&&A1(r)),n):(n.eventSystemFlags|=u,r=n.targetContainers,l!==null&&r.indexOf(l)===-1&&r.push(l),n)}function rV(n,r,i,u,l){switch(r){case"focusin":return Vr=Iu(Vr,n,r,i,u,l),!0;case"dragenter":return jr=Iu(jr,n,r,i,u,l),!0;case"mouseover":return Lr=Iu(Lr,n,r,i,u,l),!0;case"pointerover":var d=l.pointerId;return _u.set(d,Iu(_u.get(d)||null,n,r,i,u,l)),!0;case"gotpointercapture":return d=l.pointerId,Uu.set(d,Iu(Uu.get(d)||null,n,r,i,u,l)),!0}return!1}function E1(n){var r=oi(n.target);if(r!==null){var i=o(r);if(i!==null){if(r=i.tag,r===13){if(r=f(i),r!==null){n.blockedOn=r,j0(n.priority,function(){R1(i)});return}}else if(r===31){if(r=h(i),r!==null){n.blockedOn=r,j0(n.priority,function(){R1(i)});return}}else if(r===3&&i.stateNode.current.memoizedState.isDehydrated){n.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}n.blockedOn=null}function dl(n){if(n.blockedOn!==null)return!1;for(var r=n.targetContainers;0<r.length;){var i=um(n.nativeEvent);if(i===null){i=n.nativeEvent;var u=new i.constructor(i.type,i);ch=u,i.target.dispatchEvent(u),ch=null}else return r=li(i),r!==null&&A1(r),n.blockedOn=i,!1;r.shift()}return!0}function T1(n,r,i){dl(n)&&i.delete(r)}function aV(){om=!1,Vr!==null&&dl(Vr)&&(Vr=null),jr!==null&&dl(jr)&&(jr=null),Lr!==null&&dl(Lr)&&(Lr=null),_u.forEach(T1),Uu.forEach(T1)}function fl(n,r){n.blockedOn===r&&(n.blockedOn=null,om||(om=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,aV)))}var hl=null;function D1(n){hl!==n&&(hl=n,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){hl===n&&(hl=null);for(var r=0;r<n.length;r+=3){var i=n[r],u=n[r+1],l=n[r+2];if(typeof u!="function"){if(cm(u||i)===null)continue;break}var d=li(i);d!==null&&(n.splice(r,3),r-=3,ug(d,{pending:!0,data:l,method:i.method,action:u},u,l))}}))}function Yi(n){function r(T){return fl(T,n)}Vr!==null&&fl(Vr,n),jr!==null&&fl(jr,n),Lr!==null&&fl(Lr,n),_u.forEach(r),Uu.forEach(r);for(var i=0;i<Br.length;i++){var u=Br[i];u.blockedOn===n&&(u.blockedOn=null)}for(;0<Br.length&&(i=Br[0],i.blockedOn===null);)E1(i),i.blockedOn===null&&Br.shift();if(i=(n.ownerDocument||n).$$reactFormReplay,i!=null)for(u=0;u<i.length;u+=3){var l=i[u],d=i[u+1],y=l[Vt]||null;if(typeof d=="function")y||D1(i);else if(y){var b=null;if(d&&d.hasAttribute("formAction")){if(l=d,y=d[Vt]||null)b=y.formAction;else if(cm(l)!==null)continue}else b=y.action;typeof b=="function"?i[u+1]=b:(i.splice(u,3),u-=3),D1(i)}}}function x1(){function n(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(y){return l=y})},focusReset:"manual",scroll:"manual"})}function r(){l!==null&&(l(),l=null),u||setTimeout(i,20)}function i(){if(!u&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,l=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(i,100),function(){u=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),l!==null&&(l(),l=null)}}}function lm(n){this._internalRoot=n}gl.prototype.render=lm.prototype.render=function(n){var r=this._internalRoot;if(r===null)throw Error(s(409));var i=r.current,u=an();w1(i,u,n,r,null,null)},gl.prototype.unmount=lm.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var r=n.containerInfo;w1(n.current,2,null,n,null,null),Ko(),r[ci]=null}};function gl(n){this._internalRoot=n}gl.prototype.unstable_scheduleHydration=function(n){if(n){var r=V0();n={blockedOn:null,target:n,priority:r};for(var i=0;i<Br.length&&r!==0&&r<Br[i].priority;i++);Br.splice(i,0,n),i===0&&E1(n)}};var M1=t.version;if(M1!=="19.2.1")throw Error(s(527,M1,"19.2.1"));L.findDOMNode=function(n){var r=n._reactInternals;if(r===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=m(r),n=n!==null?p(n):null,n=n===null?null:n.stateNode,n};var iV={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:E,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ml=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ml.isDisabled&&ml.supportsFiber)try{Bs=ml.inject(iV),Zt=ml}catch{}}return Gi.createRoot=function(n,r){if(!c(n))throw Error(s(299));var i=!1,u="",l=NC,d=QC,y=VC;return r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(l=r.onUncaughtError),r.onCaughtError!==void 0&&(d=r.onCaughtError),r.onRecoverableError!==void 0&&(y=r.onRecoverableError)),r=S1(n,1,!1,null,null,i,u,null,l,d,y,x1),n[ci]=r.current,Yg(n),new lm(r)},Gi.hydrateRoot=function(n,r,i){if(!c(n))throw Error(s(299));var u=!1,l="",d=NC,y=QC,b=VC,T=null;return i!=null&&(i.unstable_strictMode===!0&&(u=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(d=i.onUncaughtError),i.onCaughtError!==void 0&&(y=i.onCaughtError),i.onRecoverableError!==void 0&&(b=i.onRecoverableError),i.formState!==void 0&&(T=i.formState)),r=S1(n,1,!0,r,i??null,u,l,T,d,y,b,x1),r.context=b1(null),i=r.current,u=an(),u=eh(u),l=Tr(u),l.callback=null,Dr(i,l,u),i=u,r.current.lanes=i,Ys(r,i),Un(r),n[ci]=r.current,Yg(n),new gl(r)},Gi.version="19.2.1",Gi}var wm;function j1(){if(wm)return vl.exports;wm=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),vl.exports=V1(),vl.exports}var L1=j1(),qt=Cl();const Cm=U1(qt);const B1=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),H1=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,a,s)=>s?s.toUpperCase():a.toLowerCase()),Am=e=>{const t=H1(e);return t.charAt(0).toUpperCase()+t.slice(1)},Rm=(...e)=>e.filter((t,a,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===a).join(" ").trim(),Y1=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var $1={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const G1=qt.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:a=2,absoluteStrokeWidth:s,className:c="",children:o,iconNode:f,...h},g)=>qt.createElement("svg",{ref:g,...$1,width:t,height:t,stroke:e,strokeWidth:s?Number(a)*24/Number(t):a,className:Rm("lucide",c),...!o&&!Y1(h)&&{"aria-hidden":"true"},...h},[...f.map(([m,p])=>qt.createElement(m,p)),...Array.isArray(o)?o:[o]]));const Om=(e,t)=>{const a=qt.forwardRef(({className:s,...c},o)=>qt.createElement(G1,{ref:o,iconNode:t,className:Rm(`lucide-${B1(Am(e))}`,`lucide-${e}`,s),...c}));return a.displayName=Am(e),a};const K1=Om("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]);const X1=Om("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var Z1=Sm();const J1=e=>{const{controller:t,instantResults:a,locale:s,domain:c}=e,[o,f]=qt.useState(t.state),[h,g]=qt.useState(!1),m=qt.useRef(null),p=qt.useRef(!1);qt.useEffect(()=>{t.subscribe(()=>f(t.state))},[t]);const v=qt.useRef(null);qt.useEffect(()=>{if(!o.suggestions.length)return;const R=o.suggestions[0].rawValue;v.current!==R&&(v.current=R,q(),a.updateQuery(R),g(!0))},[o.suggestions]);const S=()=>{t.updateText(""),v.current=null,p.current=!1,q(),g(!1)},w={cursor:"pointer"},[C,A]=qt.useState(a.state);qt.useEffect(()=>{const R=t.subscribe(()=>f(t.state)),U=a.subscribe(()=>A(a.state));return()=>{R(),U()}},[t]);const O=R=>{R&&(t.submit(),window.location.href=`${c}/${s}/Shop/Catalog/Items/Search/Ds?searchText=${encodeURIComponent(R)}`)};qt.useEffect(()=>{o.value===""&&(v.current=null,q())},[o.value]);const q=()=>{a.updateQuery("__reset__")},M=v.current??"empty";return Ke.jsxs("div",{ref:m,className:"relative",onBlurCapture:R=>{const U=R.relatedTarget;m.current&&!m.current.contains(U)&&(g(!1),p.current=!1)},children:[Ke.jsxs("div",{className:"flex items-center gap-3 px-4 py-3 border-b border-gray-300",children:[Ke.jsx("div",{className:"w-px h-6 bg-white"}),Ke.jsx("input",{type:"text",value:o.value,onFocus:()=>{g(!0),!p.current&&t.state.value===""&&(p.current=!0,t.updateText(""),a.updateQuery(""))},onChange:R=>{const U=R.target.value;t.updateText(U),g(!0)},onKeyDown:R=>{R.key==="Enter"&&(R.preventDefault(),O(o.value))},placeholder:"",className:"flex-1 bg-white outline-none text-gray-700 placeholder-gray-400"}),o.value&&Ke.jsx("button",{onMouseDown:R=>R.preventDefault(),onClick:S,className:"flex-shrink-0","aria-label":"Clear search",children:Ke.jsx(X1,{className:"w-5 h-5 text-green-700 hover:text-green-800"})}),Ke.jsx(K1,{className:"w-5 h-5 text-green-700 flex-shrink-0 cursor-pointer hover:text-green-800",onClick:()=>{O(o.value)}})]}),h&&Z1.createPortal(Ke.jsx("div",{className:"absolute top-full left-0 right-0 bg-white border border-gray-200 border-t-0 rounded-b-lg shadow-lg z-50",children:Ke.jsxs("div",{className:"flex",children:[Ke.jsxs("div",{className:"w-1/3 px-6 py-6 border-r border-gray-200",children:[Ke.jsx("h3",{className:"text-sm font-semibold text-gray-800 mb-4",children:"Bsquedas populares"}),o.suggestions.length>=0&&Ke.jsx("ul",{className:"space-y-3",children:o.suggestions.map(R=>{const U=R.rawValue;return Ke.jsx("li",{style:w,className:"text-sm text-green-700 hover:text-green-800 cursor-pointer transition-colors font-medium",onClick:()=>{t.selectSuggestion(U),window.location.href=`${c}/${s}/Shop/Catalog/Items/Search/Ds?searchText=${U}`},children:U},U)})})]}),Ke.jsxs("div",{className:"w-2/3 px-6 py-6",children:[Ke.jsx("h3",{className:"text-sm font-semibold text-gray-800 mb-4",children:"Sugerencias de productos"}),Ke.jsx("div",{className:"grid grid-cols-4 gap-4",children:C.results.map((R,U)=>{const Z=R.raw.title,k=R.raw.sku,x=R.raw.ec_price,z=R.raw.thumbnail_image_desktop_image;return Ke.jsxs("a",{className:"flex flex-col cursor-pointer hover:opacity-80 transition-opacity",onClick:()=>window.location.href=`${c}/${s}/Shop/Catalog/Items/Index/Ds/${k}`,children:[Ke.jsx("div",{className:"relative mb-2 bg-gray-100 rounded-md h-32 flex items-center justify-center overflow-hidden",children:Ke.jsx("img",{src:z||Z||"/placeholder.svg",alt:Z||"",className:"w-full h-full object-cover"})}),Ke.jsx("p",{className:"text-xs font-semibold text-gray-800 mb-1 line-clamp-2",children:Z||""}),Ke.jsx("p",{className:"text-xs text-gray-500 mb-1",children:`$${x}`}),Ke.jsx("p",{className:"text-sm font-bold text-gray-900",children:""})]},`${k??"no-sku"}-${U}`)})},M)]})]})}),document.body)]})};function P1(e,t){const a=`
  The following properties are invalid:

    ${e.join(`
	`)}
  
  ${t}
  `;return new qm(a)}var qm=class extends Error{constructor(e){super(e),this.name="SchemaValidationError"}},Et=class{constructor(e){this.definition=e}validate(e={},t=""){const a={...this.default,...e},s=[];for(const c in this.definition){const o=this.definition[c].validate(a[c]);o&&s.push(`${c}: ${o}`)}if(s.length)throw P1(s,t);return a}get default(){const e={};for(const t in this.definition){const a=this.definition[t].default;a!==void 0&&(e[t]=a)}return e}},dt=class{constructor(e={}){this.baseConfig=e}validate(e){return this.baseConfig.required&&Ae(e)?"value is required.":null}get default(){return this.baseConfig.default instanceof Function?this.baseConfig.default():this.baseConfig.default}get required(){return this.baseConfig.required===!0}};function Tt(e){return e===void 0}function W1(e){return e===null}function Ae(e){return Tt(e)||W1(e)}var Ee=class{value;constructor(e={}){this.value=new dt(e)}validate(e){const t=this.value.validate(e);return t||(eR(e)?null:"value is not a boolean.")}get default(){return this.value.default}get required(){return this.value.required}};function eR(e){return Tt(e)||Em(e)}function Em(e){return typeof e=="boolean"}var ye=class{constructor(e={}){this.config=e,this.value=new dt(e)}value;validate(e){const t=this.value.validate(e);return t||(tR(e)?e<this.config.min?`minimum value of ${this.config.min} not respected.`:e>this.config.max?`maximum value of ${this.config.max} not respected.`:null:"value is not a number.")}get default(){return this.value.default}get required(){return this.value.required}};function tR(e){return Tt(e)||Tm(e)}function Tm(e){return typeof e=="number"&&!Number.isNaN(e)}var nR=/^\d{4}(-\d\d(-\d\d(T\d\d:\d\d(:\d\d)?(\.\d+)?(([+-]\d\d:\d\d)|Z)?)?)?)?$/i,re=class{value;config;constructor(e={}){this.config={emptyAllowed:!0,url:!1,...e},this.value=new dt(this.config)}validate(e){const{emptyAllowed:t,url:a,regex:s,constrainTo:c,ISODate:o}=this.config,f=this.value.validate(e);if(f)return f;if(Tt(e))return null;if(!Rl(e))return"value is not a string.";if(!t&&!e.length)return"value is an empty string.";if(a)try{new URL(e)}catch{return"value is not a valid URL."}return s&&!s.test(e)?`value did not match provided regex ${s}`:c&&!c.includes(e)?`value should be one of: ${c.join(", ")}.`:o&&!(nR.test(e)&&new Date(e).toString()!=="Invalid Date")?"value is not a valid ISO8601 date string":null}get default(){return this.value.default}get required(){return this.value.required}};function Rl(e){return Object.prototype.toString.call(e)==="[object String]"}var se=class{config;constructor(e={}){this.config={options:{required:!1},values:{},...e}}validate(e){if(Tt(e))return this.config.options.required?"value is required and is currently undefined":null;if(!Dm(e))return"value is not an object";for(const[a,s]of Object.entries(this.config.values))if(s.required&&Ae(e[a]))return`value does not contain ${a}`;let t="";for(const[a,s]of Object.entries(this.config.values)){const c=e[a],o=s.validate(c);o!==null&&(t+=` ${o}`)}return t===""?null:t}get default(){}get required(){return!!this.config.options.required}};function Dm(e){return e!==void 0&&typeof e=="object"}var be=class{constructor(e={}){this.config=e,this.value=new dt(this.config)}value;validate(e){if(!Ae(e)&&!Array.isArray(e))return"value is not an array";const t=this.value.validate(e);if(t!==null)return t;if(Ae(e))return null;if(this.config.max!==void 0&&e.length>this.config.max)return`value contains more than ${this.config.max}`;if(this.config.min!==void 0&&e.length<this.config.min)return`value contains less than ${this.config.min}`;if(this.config.each!==void 0){let a="";return e.forEach(s=>{this.config.each.required&&Ae(s)&&(a=`value is null or undefined: ${e.join(",")}`);const c=this.validatePrimitiveValue(s,this.config.each);c!==null&&(a+=` ${c}`)}),a===""?null:a}return null}validatePrimitiveValue(e,t){return Em(e)||Rl(e)||Tm(e)||Dm(e)?t.validate(e):"value is not a primitive value"}get default(){}get required(){return this.value.required}};function xm(e){return Array.isArray(e)}var Ki=class{constructor(e){this.config=e,this.value=new dt(e)}value;validate(e){const t=this.value.validate(e);return t!==null?t:Tt(e)||Object.values(this.config.enum).find(s=>s===e)?null:"value is not in enum."}get default(){return this.value.default}get required(){return this.value.required}};const Mm=(e,t=5)=>e+Math.random().toString(36).substring(2,2+t);function rR(e){return Array.isArray(e)}function aR(e,t){return[...e.reduce((a,s)=>{const c=t(s);return a.has(c)||a.set(c,s),a},new Map).values()]}function iR(e){return btoa(encodeURI(e))}function sR(e,t){const{[e]:a,...s}=t;return s}function uR(e){return iR(JSON.stringify(e))}const cR=new Set(["1",1,"yes",!0]);function oR(){if(typeof navigator>"u"||typeof window>"u")return!1;const e=navigator,t=window;return[e.globalPrivacyControl,e.doNotTrack,e.msDoNotTrack,t.doNotTrack].some(a=>cR.has(a))}function lR(e){const t={};for(const[a,s]of e)t[a]=s;return t}function dR(e,t,a){return clearTimeout(t),setTimeout(e,a)}function Ol(e){if(typeof e!="object"||!e)return e;try{return JSON.parse(JSON.stringify(e))}catch{return e}}function fR(e,t,a={}){let s;return((...c)=>{const o=a.isImmediate&&!s;if(clearTimeout(s),s=setTimeout(()=>{s=void 0,a.isImmediate||e.apply(void 0,c)},t),o)return e.apply(void 0,c)})}function hR(e,t){return e=gR(e),e.replace(/\[(.*?)\]|\{(.*?)\}|\((.*?)\)/g,(a,s,c,o)=>s?ql(s,t.notMatchDelimiters):c?ql(c,t.exactMatchDelimiters):o?ql(o,t.correctionDelimiters):a)}function ql(e,t){return t?t.open+e+t.close:e}function gR(e){const t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},a=`(?:${Object.keys(t).join("|")})`,s=RegExp(a),c=RegExp(a,"g");return s.test(e)?e.replace(c,o=>t[o]):e}async function mR(e,t){const a=e.getReader();let s;for(;!(s=await a.read()).done;)t(s.value)}var Yr;(function(e){e[e.NewLine=10]="NewLine",e[e.CarriageReturn=13]="CarriageReturn",e[e.Space=32]="Space",e[e.Colon=58]="Colon"})(Yr||(Yr={}));function yR(e){let t,a,s,c=!1;return function(f){t===void 0?(t=f,a=0,s=-1):t=SR(t,f);const h=t.length;let g=0;for(;a<h;){c&&(t[a]===Yr.NewLine&&(g=++a),c=!1);let m=-1;for(;a<h&&m===-1;++a)switch(t[a]){case Yr.Colon:s===-1&&(s=a-g);break;case Yr.CarriageReturn:c=!0,m=a;break;case Yr.NewLine:m=a;break}if(m===-1)break;e(t.subarray(g,m),s),g=a,s=-1}g===h?t=void 0:g!==0&&(t=t.subarray(g),a-=g)}}function pR(e,t,a){let s=_m();const c=new TextDecoder;return function(f,h){if(f.length===0)a?.(s),s=_m();else if(h>0){const g=c.decode(f.subarray(0,h)),m=h+(f[h+1]===Yr.Space?2:1),p=c.decode(f.subarray(m));switch(g){case"data":s.data=s.data?`${s.data}
${p}`:p;break;case"event":s.event=p;break;case"id":e(s.id=p);break;case"retry":vR(p,s,t);break}}}}function vR(e,t,a){const s=parseInt(e,10);Number.isNaN(s)||a(t.retry=s)}function SR(e,t){const a=new Uint8Array(e.length+t.length);return a.set(e),a.set(t,e.length),a}function _m(){return{data:"",event:"",id:"",retry:void 0}}const El="text/event-stream",bR=1e3,Um="last-event-id";function Im(){return typeof window<"u"}function Fm(e,{signal:t,headers:a,onopen:s,onmessage:c,onclose:o,onerror:f,openWhenHidden:h,fetch:g,...m}){return new Promise((p,v)=>{const S={...a};S.accept||(S.accept=El);let w;function C(){w?.abort(),document.hidden||U()}!h&&Im()&&document.addEventListener("visibilitychange",C);let A=bR,O;function q(){Im()&&document.removeEventListener("visibilitychange",C),clearTimeout(O),w?.abort()}t?.addEventListener("abort",()=>{q(),p()});const M=g??fetch,R=s??wR;async function U(){w=AbortController?new AbortController:null;try{const Z=await M(e,{...m,headers:S,signal:w?.signal});await R(Z),await mR(Z.body,yR(pR(k=>{k?S[Um]=k:delete S[Um]},k=>{A=k},c))),o?.(),q(),p()}catch(Z){if(!w?.signal?.aborted)try{const k=f?.(Z)??A;clearTimeout(O),O=setTimeout(U,k)}catch(k){q(),v(k)}}}U()})}function wR(e){const t=e.headers.get("content-type");if(!t?.startsWith(El))throw new Error(`Expected content-type to be ${El}, Actual: ${t}`)}class Tl{_basePath;_params={};constructor(t){this._basePath=t}addParam(t,a){this._params={...this.params,[t]:a}}get basePath(){return this._basePath}get params(){return this._params}get hasParams(){return Object.entries(this._params).length}get href(){return this.hasParams?`${this.basePath}?${Object.entries(this.params).map(([t,a])=>`${t}=${encodeURIComponent(a)}`).join("&")}`:this.basePath}}const CR=(e,t,a)=>new Tl(`${e}/rest/organizations/${t}/machinelearning/streaming/${a}`).href,km=3,AR=5e3,RR="text/event-stream",zm=1;class OR extends Error{}class Dl extends Error{payload;constructor(t){super(t.message),this.payload=t}}class qR{timeouts=new Set;add(t){this.timeouts.add(t)}remove(t){clearTimeout(t),this.timeouts.delete(t)}isActive(t){return this.timeouts.has(t)}}class ER{logger;constructor(t){this.logger=t.logger}streamGeneratedAnswer(t,a){const{url:s,organizationId:c,streamId:o,accessToken:f}=t,{write:h,abort:g,close:m,resetAnswer:p}=a,v=new qR;if(!o){this.logger.error("No stream ID found");return}let S=0,w;const C=()=>{w&&!v.isActive(w)&&(O?.abort(),p(),q())},A=()=>{v.remove(w),w=dR(C,w,AR),v.add(w)},O=new AbortController,q=()=>Fm(CR(s,c,o),{method:"GET",fetch,headers:{Authorization:`Bearer ${f}`,accept:"*/*"},openWhenHidden:!0,signal:O?.signal,async onopen(M){if(M.ok&&M.headers.get("content-type")===RR)return;throw M.status>=400&&M.status<500&&M.status!==429?new Dl({message:"Error opening stream",code:M.status}):new OR},onmessage:M=>{if(O?.signal.aborted)return;const R=JSON.parse(M.data);if(R.finishReason==="ERROR"){v.remove(w),O?.abort(),g({message:R.errorMessage,code:R.statusCode});return}h(R),S=0,R.finishReason==="COMPLETED"?(v.remove(w),m()):A()},onerror:M=>{if(!O?.signal.aborted){if(v.remove(w),M instanceof Dl)throw O?.abort(),g(M),M;if(++S>km){this.logger.info("Maximum retry exceeded.");const R={message:"Failed to complete stream.",code:zm};throw O?.abort(),g(R),new Dl(R)}this.logger.info(`Retrying...(${S}/${km})`),p()}}});return q(),O}}var or={},Da={},Nm;function TR(){if(Nm)return Da;Nm=1;var e=Da&&Da.__assign||function(){return e=Object.assign||function(s){for(var c,o=1,f=arguments.length;o<f;o++){c=arguments[o];for(var h in c)Object.prototype.hasOwnProperty.call(c,h)&&(s[h]=c[h])}return s},e.apply(this,arguments)};Object.defineProperty(Da,"__esModule",{value:!0});var t={delayFirstAttempt:!1,jitter:"none",maxDelay:1/0,numOfAttempts:10,retry:function(){return!0},startingDelay:100,timeMultiple:2};function a(s){var c=e(e({},t),s);return c.numOfAttempts<1&&(c.numOfAttempts=1),c}return Da.getSanitizedOptions=a,Da}var ku={},Rn={},zu={},Nu={},Qu={},Qm;function DR(){if(Qm)return Qu;Qm=1,Object.defineProperty(Qu,"__esModule",{value:!0});function e(t){var a=Math.random()*t;return Math.round(a)}return Qu.fullJitter=e,Qu}var Vu={},Vm;function xR(){if(Vm)return Vu;Vm=1,Object.defineProperty(Vu,"__esModule",{value:!0});function e(t){return t}return Vu.noJitter=e,Vu}var jm;function MR(){if(jm)return Nu;jm=1,Object.defineProperty(Nu,"__esModule",{value:!0});var e=DR(),t=xR();function a(s){switch(s.jitter){case"full":return e.fullJitter;case"none":default:return t.noJitter}}return Nu.JitterFactory=a,Nu}var Lm;function Bm(){if(Lm)return zu;Lm=1,Object.defineProperty(zu,"__esModule",{value:!0});var e=MR(),t=(function(){function a(s){this.options=s,this.attempt=0}return a.prototype.apply=function(){var s=this;return new Promise(function(c){return setTimeout(c,s.jitteredDelay)})},a.prototype.setAttemptNumber=function(s){this.attempt=s},Object.defineProperty(a.prototype,"jitteredDelay",{get:function(){var s=e.JitterFactory(this.options);return s(this.delay)},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"delay",{get:function(){var s=this.options.startingDelay,c=this.options.timeMultiple,o=this.numOfDelayedAttempts,f=s*Math.pow(c,o);return Math.min(f,this.options.maxDelay)},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"numOfDelayedAttempts",{get:function(){return this.attempt},enumerable:!0,configurable:!0}),a})();return zu.Delay=t,zu}var Hm;function _R(){if(Hm)return Rn;Hm=1;var e=Rn&&Rn.__extends||(function(){var o=function(f,h){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,m){g.__proto__=m}||function(g,m){for(var p in m)m.hasOwnProperty(p)&&(g[p]=m[p])},o(f,h)};return function(f,h){o(f,h);function g(){this.constructor=f}f.prototype=h===null?Object.create(h):(g.prototype=h.prototype,new g)}})(),t=Rn&&Rn.__awaiter||function(o,f,h,g){function m(p){return p instanceof h?p:new h(function(v){v(p)})}return new(h||(h=Promise))(function(p,v){function S(A){try{C(g.next(A))}catch(O){v(O)}}function w(A){try{C(g.throw(A))}catch(O){v(O)}}function C(A){A.done?p(A.value):m(A.value).then(S,w)}C((g=g.apply(o,f||[])).next())})},a=Rn&&Rn.__generator||function(o,f){var h={label:0,sent:function(){if(p[0]&1)throw p[1];return p[1]},trys:[],ops:[]},g,m,p,v;return v={next:S(0),throw:S(1),return:S(2)},typeof Symbol=="function"&&(v[Symbol.iterator]=function(){return this}),v;function S(C){return function(A){return w([C,A])}}function w(C){if(g)throw new TypeError("Generator is already executing.");for(;h;)try{if(g=1,m&&(p=C[0]&2?m.return:C[0]?m.throw||((p=m.return)&&p.call(m),0):m.next)&&!(p=p.call(m,C[1])).done)return p;switch(m=0,p&&(C=[C[0]&2,p.value]),C[0]){case 0:case 1:p=C;break;case 4:return h.label++,{value:C[1],done:!1};case 5:h.label++,m=C[1],C=[0];continue;case 7:C=h.ops.pop(),h.trys.pop();continue;default:if(p=h.trys,!(p=p.length>0&&p[p.length-1])&&(C[0]===6||C[0]===2)){h=0;continue}if(C[0]===3&&(!p||C[1]>p[0]&&C[1]<p[3])){h.label=C[1];break}if(C[0]===6&&h.label<p[1]){h.label=p[1],p=C;break}if(p&&h.label<p[2]){h.label=p[2],h.ops.push(C);break}p[2]&&h.ops.pop(),h.trys.pop();continue}C=f.call(o,h)}catch(A){C=[6,A],m=0}finally{g=p=0}if(C[0]&5)throw C[1];return{value:C[0]?C[1]:void 0,done:!0}}};Object.defineProperty(Rn,"__esModule",{value:!0});var s=Bm(),c=(function(o){e(f,o);function f(){return o!==null&&o.apply(this,arguments)||this}return f.prototype.apply=function(){return t(this,void 0,void 0,function(){return a(this,function(h){return[2,this.isFirstAttempt?!0:o.prototype.apply.call(this)]})})},Object.defineProperty(f.prototype,"isFirstAttempt",{get:function(){return this.attempt===0},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"numOfDelayedAttempts",{get:function(){return this.attempt-1},enumerable:!0,configurable:!0}),f})(s.Delay);return Rn.SkipFirstDelay=c,Rn}var xa={},Ym;function UR(){if(Ym)return xa;Ym=1;var e=xa&&xa.__extends||(function(){var s=function(c,o){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,h){f.__proto__=h}||function(f,h){for(var g in h)h.hasOwnProperty(g)&&(f[g]=h[g])},s(c,o)};return function(c,o){s(c,o);function f(){this.constructor=c}c.prototype=o===null?Object.create(o):(f.prototype=o.prototype,new f)}})();Object.defineProperty(xa,"__esModule",{value:!0});var t=Bm(),a=(function(s){e(c,s);function c(){return s!==null&&s.apply(this,arguments)||this}return c})(t.Delay);return xa.AlwaysDelay=a,xa}var $m;function IR(){if($m)return ku;$m=1,Object.defineProperty(ku,"__esModule",{value:!0});var e=_R(),t=UR();function a(c,o){var f=s(c);return f.setAttemptNumber(o),f}ku.DelayFactory=a;function s(c){return c.delayFirstAttempt?new t.AlwaysDelay(c):new e.SkipFirstDelay(c)}return ku}var Gm;function FR(){if(Gm)return or;Gm=1;var e=or&&or.__awaiter||function(f,h,g,m){function p(v){return v instanceof g?v:new g(function(S){S(v)})}return new(g||(g=Promise))(function(v,S){function w(O){try{A(m.next(O))}catch(q){S(q)}}function C(O){try{A(m.throw(O))}catch(q){S(q)}}function A(O){O.done?v(O.value):p(O.value).then(w,C)}A((m=m.apply(f,h||[])).next())})},t=or&&or.__generator||function(f,h){var g={label:0,sent:function(){if(v[0]&1)throw v[1];return v[1]},trys:[],ops:[]},m,p,v,S;return S={next:w(0),throw:w(1),return:w(2)},typeof Symbol=="function"&&(S[Symbol.iterator]=function(){return this}),S;function w(A){return function(O){return C([A,O])}}function C(A){if(m)throw new TypeError("Generator is already executing.");for(;g;)try{if(m=1,p&&(v=A[0]&2?p.return:A[0]?p.throw||((v=p.return)&&v.call(p),0):p.next)&&!(v=v.call(p,A[1])).done)return v;switch(p=0,v&&(A=[A[0]&2,v.value]),A[0]){case 0:case 1:v=A;break;case 4:return g.label++,{value:A[1],done:!1};case 5:g.label++,p=A[1],A=[0];continue;case 7:A=g.ops.pop(),g.trys.pop();continue;default:if(v=g.trys,!(v=v.length>0&&v[v.length-1])&&(A[0]===6||A[0]===2)){g=0;continue}if(A[0]===3&&(!v||A[1]>v[0]&&A[1]<v[3])){g.label=A[1];break}if(A[0]===6&&g.label<v[1]){g.label=v[1],v=A;break}if(v&&g.label<v[2]){g.label=v[2],g.ops.push(A);break}v[2]&&g.ops.pop(),g.trys.pop();continue}A=h.call(f,g)}catch(O){A=[6,O],p=0}finally{m=v=0}if(A[0]&5)throw A[1];return{value:A[0]?A[1]:void 0,done:!0}}};Object.defineProperty(or,"__esModule",{value:!0});var a=TR(),s=IR();function c(f,h){return h===void 0&&(h={}),e(this,void 0,void 0,function(){var g,m;return t(this,function(p){switch(p.label){case 0:return g=a.getSanitizedOptions(h),m=new o(f,g),[4,m.execute()];case 1:return[2,p.sent()]}})})}or.backOff=c;var o=(function(){function f(h,g){this.request=h,this.options=g,this.attemptNumber=0}return f.prototype.execute=function(){return e(this,void 0,void 0,function(){var h,g;return t(this,function(m){switch(m.label){case 0:if(this.attemptLimitReached)return[3,7];m.label=1;case 1:return m.trys.push([1,4,,6]),[4,this.applyDelay()];case 2:return m.sent(),[4,this.request()];case 3:return[2,m.sent()];case 4:return h=m.sent(),this.attemptNumber++,[4,this.options.retry(h,this.attemptNumber)];case 5:if(g=m.sent(),!g||this.attemptLimitReached)throw h;return[3,6];case 6:return[3,0];case 7:throw new Error("Something went wrong.")}})})},Object.defineProperty(f.prototype,"attemptLimitReached",{get:function(){return this.attemptNumber>=this.options.numOfAttempts},enumerable:!0,configurable:!0}),f.prototype.applyDelay=function(){return e(this,void 0,void 0,function(){var h;return t(this,function(g){switch(g.label){case 0:return h=s.DelayFactory(this.options,this.attemptNumber),[4,h.apply()];case 1:return g.sent(),[2]}})})},f})();return or}var kR=FR();class Km extends Error{constructor(){super(),this.name="UnauthorizedTokenError",this.message="The token being used to perform the request is unauthorized. It may be expired or invalid."}}class xl extends Error{statusCode;constructor(t,a){super(),this.name="Disconnected",this.message=`Client could not connect to the following URL: ${t}`,this.statusCode=a??0}}function zR(e){const t=[];for(const a in e){const s=encodeURIComponent(a),c=encodeURIComponent(e[a]);t.push(`${s}=${c}`)}return t.join("&")}function NR(e){return typeof e!="object"||!e?!1:Object.values(e).every(QR)}function QR(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"}function Xm(e){return e===429}class In{static async call(t){const a=jR(t),{logger:s}=t,c=await In.preprocessRequest(a,t);s.info(c,"Platform request");const{url:o,...f}=c,h=async()=>{const g=await fetch(o,f);if(Xm(g.status))throw g;return g};try{const g=await kR.backOff(h,{startingDelay:100,timeMultiple:2,maxDelay:800,numOfAttempts:4,jitter:"full",retry:async m=>{const p=m&&Xm(m.status);return p&&(s.info("Platform retrying request"),await new Promise(v=>setTimeout(v,1e3))),p}});switch(g.status){case 419:case 401:throw s.info("Platform renewing token"),new Km;case 404:throw new xl(o,g.status);default:return s.info({response:g,requestInfo:c},"Platform response"),g}}catch(g){return g.message==="Failed to fetch"?new xl(o):g}}static async preprocessRequest(t,a){const{origin:s,preprocessRequest:c,logger:o,requestMetadata:f}=a,{signal:h,...g}=t,m=Ol(g);try{const p=await c(t,s,f);return{...t,...p}}catch(p){o.error(p,"Platform request preprocessing failed. Returning default request options.")}return m}}function $r(e,t="prod",a="platform"){const s=t==="prod"?"":t,c=a==="platform"?"":`.${a}`;return`https://${e}${c}.org${s}.coveo.com`}function Fn(e,t="prod"){return`${$r(e,t)}/rest/search/v2`}function VR(e,t="prod"){return`${$r(e,t,"analytics")}/rest/organizations/${e}/events/v1`}function jR(e){const{url:t,method:a,requestParams:s,contentType:c,accessToken:o,signal:f}=e,h=e.method==="POST"||e.method==="PUT",g=LR(s,c);return{url:t,method:a,headers:{"Content-Type":c,Authorization:`Bearer ${o}`,...e.headers},...h&&{body:g},signal:f}}function LR(e,t){return t==="application/x-www-form-urlencoded"?NR(e)?zR(e):"":JSON.stringify(e)}const Zm=e=>e;function ju(){return{answerSnippet:"",documentId:{contentIdKey:"",contentIdValue:""},question:"",relatedQuestions:[],score:0}}function lr(){return{response:{results:[],searchUid:"",totalCountFiltered:0,facets:[],generateAutomaticFacets:{facets:[]},queryCorrections:[],triggers:[],questionAnswer:ju(),pipeline:"",splitTestRun:"",termsToHighlight:{},phrasesToHighlight:{},extendedResults:{}},duration:0,queryExecuted:"",error:null,automaticallyCorrected:!1,isLoading:!1,results:[],searchResponseId:"",requestId:"",questionAnswer:ju(),extendedResults:{},searchAction:void 0}}function Ma(e){const{url:t,accessToken:a,organizationId:s,authentication:c,...o}=e;return o}const _a=e=>{const{response:t}=e;return t.body?BR(e):HR(t)},BR=e=>$R(e)?GR(e):YR(e)?e.body:{message:"unknown",statusCode:0,type:"unknown"},HR=e=>{const t=JSON.parse(JSON.stringify(e,Object.getOwnPropertyNames(e)));return{...t,message:`Client side error: ${t.message||""}`,statusCode:400,type:"ClientError"}};function YR(e){return e.body.statusCode!==void 0}function $R(e){return e.body.exception!==void 0}const GR=e=>({message:e.body.exception.code,statusCode:e.response.status,type:e.body.exception.code});class Xi{currentAbortController=null;async enqueue(t,a){const s=this.currentAbortController;this.currentAbortController=new AbortController;const c=this.currentAbortController;s&&(a.warnOnAbort&&a.logger.warn("Cancelling current pending search query"),s.abort());try{return await t(c?.signal??null)}finally{this.currentAbortController===c&&(this.currentAbortController=null)}}}function KR(e){return((e.headers.get("content-type")||"").split(";").find(s=>s.indexOf("charset=")!==-1)||"").split("=")[1]||"UTF-8"}const Gr=(e,t,a,s)=>{const c=new Tl(`${e.url}${s}`);return c.addParam("organizationId",e.organizationId),e.authentication&&c.addParam("authentication",e.authentication),{accessToken:e.accessToken,method:t,contentType:a,url:c.href,origin:"searchApiFetch"}},XR=(e,t)=>{const a=new Tl(`${e.url}${t}`);return a.addParam("access_token",e.accessToken),a.addParam("organizationId",e.organizationId),a.addParam("uniqueId",e.uniqueId),e.authentication&&a.addParam("authentication",e.authentication),e.q!==void 0&&a.addParam("q",e.q),e.enableNavigation!==void 0&&a.addParam("enableNavigation",`${e.enableNavigation}`),e.requestedOutputSize!==void 0&&a.addParam("requestedOutputSize",`${e.requestedOutputSize}`),a.href},ZR=async(e,t)=>{const a=await In.call({...Gr(e,"POST","application/x-www-form-urlencoded","/html"),requestParams:Ma(e),requestMetadata:{method:"html"},...t});if(a instanceof Error)throw a;const s=KR(a),c=await a.arrayBuffer(),f=new TextDecoder(s).decode(c);return JR(f)?{success:f}:{error:_a({response:a,body:f})}};function JR(e){return typeof e=="string"}function PR(e){return{statusCode:e.statusCode,type:e.name,message:e.message}}function WR(e){return{statusCode:e.code,type:e.name,message:e.message,ignored:!0}}function Ml(e,t){if(t&&e.name==="AbortError")return{error:WR(e)};if(e instanceof xl)return{error:PR(e)};throw e}class eO{options;constructor(t){this.options=t}async plan(t){const a=await In.call({...Gr(t,"POST","application/json","/plan"),requestParams:Ma(t),requestMetadata:{method:"plan"},...this.options});if(a instanceof Error)return Ml(a);const s=await a.json();return nO(s)?{success:s}:{error:_a({response:a,body:s})}}async querySuggest(t){const a=await In.call({...Gr(t,"POST","application/json","/querySuggest"),requestMetadata:{method:"querySuggest"},requestParams:Ma(t),...this.options});if(a instanceof Error)return Ml(a);const s=await a.json(),c={response:a,body:s};return tO(s)?{success:(await this.options.postprocessQuerySuggestResponseMiddleware(c)).body}:{error:_a(c)}}apiCallsQueues={unknown:new Xi,mainSearch:new Xi,facetValues:new Xi,foldingCollection:new Xi,instantResults:new Xi};async search(t,a){const s=a?.origin??"unknown",c=await this.apiCallsQueues[s].enqueue(h=>In.call({...Gr(t,"POST","application/json",""),requestParams:Ma(t),requestMetadata:{method:"search",origin:a?.origin},...this.options,signal:h??void 0}),{logger:this.options.logger,warnOnAbort:!a?.disableAbortWarning});if(c instanceof Error)return Ml(c,a?.disableAbortWarning);const o=await c.json(),f={response:c,body:o};return Pm(o)?(f.body=Wm(o),{success:(await this.options.postprocessSearchResponseMiddleware(f)).body}):{error:_a(f)}}async facetSearch(t){const a=await In.call({...Gr(t,"POST","application/json","/facet"),requestParams:Ma(t),requestMetadata:{method:"facetSearch"},...this.options});if(a instanceof Error)throw a;const s=await a.json(),c={response:a,body:s};return(await this.options.postprocessFacetSearchResponseMiddleware(c)).body}async recommendations(t){const a=await In.call({...Gr(t,"POST","application/json",""),requestParams:Ma(t),requestMetadata:{method:"recommendations"},...this.options});if(a instanceof Error)throw a;const s=await a.json();if(Pm(s)){const c={response:a,body:s};return c.body=Wm(s),{success:(await this.options.postprocessSearchResponseMiddleware(c)).body}}return{error:_a({response:a,body:s})}}async html(t){return ZR(t,{...this.options})}async fieldDescriptions(t){const a=await In.call({...Gr(t,"GET","application/json","/fields"),requestParams:{},requestMetadata:{method:"fieldDescriptions"},...this.options});if(a instanceof Error)throw a;const s=await a.json();return rO(s)?{success:s}:{error:_a({response:a,body:s})}}}const Jm=e=>e.success!==void 0,pn=e=>e.error!==void 0;function Pm(e){return e.results!==void 0}function Wm(e){const t=ju();return Ae(e.questionAnswer)?(e.questionAnswer=t,e):(e.questionAnswer={...t,...e.questionAnswer},e)}function tO(e){return e.completions!==void 0}function nO(e){return e.preprocessingOutput!==void 0}function rO(e){return e.fields!==void 0}const aO=e=>e,iO=e=>e,sO=e=>e,oe=new re({required:!0,emptyAllowed:!1}),mt=new re({required:!1,emptyAllowed:!1}),Dt=new re({required:!0,emptyAllowed:!0}),uO=new re({required:!1,emptyAllowed:!0}),ey=new be({each:oe,required:!0}),cO=new re({required:!1,emptyAllowed:!1,regex:/^\d+\.\d+\.\d+$/}),oO=new re({required:!1,emptyAllowed:!1,regex:/^[a-zA-Z0-9_\-.]{1,100}$/});new re({required:!0,emptyAllowed:!1,regex:/^[a-zA-Z0-9_\-.]{1,100}$/});const Ua=({message:e,name:t,stack:a})=>({message:e,name:t,stack:a}),Kr=(e,t)=>{if("required"in t)return{payload:new Et({value:t}).validate({value:e}).value};const c=new se({options:{required:!0},values:t}).validate(e);if(c)throw new qm(c);return{payload:e}},Y=(e,t)=>{try{return Kr(e,t)}catch(a){return{payload:e,error:Ua(a)}}},Lu=(e,t,a,s)=>{const c=`Check the options of ${s}`;return lO(e,t,a,c,"Controller initialization error")},lO=(e,t,a,s,c)=>{try{return t.validate(a,s)}catch(o){throw e.logger.error(o,c),o}};function yt(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var dO=typeof Symbol=="function"&&Symbol.observable||"@@observable",ty=dO,_l=()=>Math.random().toString(36).substring(7).split("").join("."),fO={INIT:`@@redux/INIT${_l()}`,REPLACE:`@@redux/REPLACE${_l()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${_l()}`},Bu=fO;function dr(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function ny(e,t,a){if(typeof e!="function")throw new Error(yt(2));if(typeof t=="function"&&typeof a=="function"||typeof a=="function"&&typeof arguments[3]=="function")throw new Error(yt(0));if(typeof t=="function"&&typeof a>"u"&&(a=t,t=void 0),typeof a<"u"){if(typeof a!="function")throw new Error(yt(1));return a(ny)(e,t)}let s=e,c=t,o=new Map,f=o,h=0,g=!1;function m(){f===o&&(f=new Map,o.forEach((O,q)=>{f.set(q,O)}))}function p(){if(g)throw new Error(yt(3));return c}function v(O){if(typeof O!="function")throw new Error(yt(4));if(g)throw new Error(yt(5));let q=!0;m();const M=h++;return f.set(M,O),function(){if(q){if(g)throw new Error(yt(6));q=!1,m(),f.delete(M),o=null}}}function S(O){if(!dr(O))throw new Error(yt(7));if(typeof O.type>"u")throw new Error(yt(8));if(typeof O.type!="string")throw new Error(yt(17));if(g)throw new Error(yt(9));try{g=!0,c=s(c,O)}finally{g=!1}return(o=f).forEach(M=>{M()}),O}function w(O){if(typeof O!="function")throw new Error(yt(10));s=O,S({type:Bu.REPLACE})}function C(){const O=v;return{subscribe(q){if(typeof q!="object"||q===null)throw new Error(yt(11));function M(){const U=q;U.next&&U.next(p())}return M(),{unsubscribe:O(M)}},[ty](){return this}}}return S({type:Bu.INIT}),{dispatch:S,subscribe:v,getState:p,replaceReducer:w,[ty]:C}}function hO(e){Object.keys(e).forEach(t=>{const a=e[t];if(typeof a(void 0,{type:Bu.INIT})>"u")throw new Error(yt(12));if(typeof a(void 0,{type:Bu.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(yt(13))})}function Ul(e){const t=Object.keys(e),a={};for(let o=0;o<t.length;o++){const f=t[o];typeof e[f]=="function"&&(a[f]=e[f])}const s=Object.keys(a);let c;try{hO(a)}catch(o){c=o}return function(f={},h){if(c)throw c;let g=!1;const m={};for(let p=0;p<s.length;p++){const v=s[p],S=a[v],w=f[v],C=S(w,h);if(typeof C>"u")throw h&&h.type,new Error(yt(14));m[v]=C,g=g||C!==w}return g=g||s.length!==Object.keys(f).length,g?m:f}}function Hu(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,a)=>(...s)=>t(a(...s)))}function gO(...e){return t=>(a,s)=>{const c=t(a,s);let o=()=>{throw new Error(yt(15))};const f={getState:c.getState,dispatch:(g,...m)=>o(g,...m)},h=e.map(g=>g(f));return o=Hu(...h)(c.dispatch),{...c,dispatch:o}}}function ry(e){return dr(e)&&"type"in e&&typeof e.type=="string"}var Il=Symbol.for("immer-nothing"),Zi=Symbol.for("immer-draftable"),zt=Symbol.for("immer-state");function pt(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Ia=Object.getPrototypeOf;function On(e){return!!e&&!!e[zt]}function vn(e){return e?iy(e)||Array.isArray(e)||!!e[Zi]||!!e.constructor?.[Zi]||Fa(e)||Wi(e):!1}var mO=Object.prototype.constructor.toString(),ay=new WeakMap;function iy(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const a=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(a===Object)return!0;if(typeof a!="function")return!1;let s=ay.get(a);return s===void 0&&(s=Function.toString.call(a),ay.set(a,s)),s===mO}function yO(e){return On(e)||pt(15,e),e[zt].base_}function Ji(e,t,a=!0){Xr(e)===0?(a?Reflect.ownKeys(e):Object.keys(e)).forEach(c=>{t(c,e[c],e)}):e.forEach((s,c)=>t(c,s,e))}function Xr(e){const t=e[zt];return t?t.type_:Array.isArray(e)?1:Fa(e)?2:Wi(e)?3:0}function Pi(e,t){return Xr(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Fl(e,t){return Xr(e)===2?e.get(t):e[t]}function sy(e,t,a){const s=Xr(e);s===2?e.set(t,a):s===3?e.add(a):e[t]=a}function pO(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Fa(e){return e instanceof Map}function Wi(e){return e instanceof Set}function Zr(e){return e.copy_||e.base_}function kl(e,t){if(Fa(e))return new Map(e);if(Wi(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const a=iy(e);if(t===!0||t==="class_only"&&!a){const s=Object.getOwnPropertyDescriptors(e);delete s[zt];let c=Reflect.ownKeys(s);for(let o=0;o<c.length;o++){const f=c[o],h=s[f];h.writable===!1&&(h.writable=!0,h.configurable=!0),(h.get||h.set)&&(s[f]={configurable:!0,writable:!0,enumerable:h.enumerable,value:e[f]})}return Object.create(Ia(e),s)}else{const s=Ia(e);if(s!==null&&a)return{...e};const c=Object.create(s);return Object.assign(c,e)}}function zl(e,t=!1){return $u(e)||On(e)||!vn(e)||(Xr(e)>1&&Object.defineProperties(e,{set:Yu,add:Yu,clear:Yu,delete:Yu}),Object.freeze(e),t&&Object.values(e).forEach(a=>zl(a,!0))),e}function vO(){pt(2)}var Yu={value:vO};function $u(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var Nl={};function Jr(e){const t=Nl[e];return t||pt(0,e),t}function SO(e,t){Nl[e]||(Nl[e]=t)}var es;function uy(){return es}function bO(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function cy(e,t){t&&(Jr("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Ql(e){Vl(e),e.drafts_.forEach(wO),e.drafts_=null}function Vl(e){e===es&&(es=e.parent_)}function oy(e){return es=bO(es,e)}function wO(e){const t=e[zt];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function ly(e,t){t.unfinalizedDrafts_=t.drafts_.length;const a=t.drafts_[0];return e!==void 0&&e!==a?(a[zt].modified_&&(Ql(t),pt(4)),vn(e)&&(e=Gu(t,e),t.parent_||Ku(t,e)),t.patches_&&Jr("Patches").generateReplacementPatches_(a[zt].base_,e,t.patches_,t.inversePatches_)):e=Gu(t,a,[]),Ql(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==Il?e:void 0}function Gu(e,t,a){if($u(t))return t;const s=e.immer_.shouldUseStrictIteration(),c=t[zt];if(!c)return Ji(t,(o,f)=>dy(e,c,t,o,f,a),s),t;if(c.scope_!==e)return t;if(!c.modified_)return Ku(e,c.base_,!0),c.base_;if(!c.finalized_){c.finalized_=!0,c.scope_.unfinalizedDrafts_--;const o=c.copy_;let f=o,h=!1;c.type_===3&&(f=new Set(o),o.clear(),h=!0),Ji(f,(g,m)=>dy(e,c,o,g,m,a,h),s),Ku(e,o,!1),a&&e.patches_&&Jr("Patches").generatePatches_(c,a,e.patches_,e.inversePatches_)}return c.copy_}function dy(e,t,a,s,c,o,f){if(c==null||typeof c!="object"&&!f)return;const h=$u(c);if(!(h&&!f)){if(On(c)){const g=o&&t&&t.type_!==3&&!Pi(t.assigned_,s)?o.concat(s):void 0,m=Gu(e,c,g);if(sy(a,s,m),On(m))e.canAutoFreeze_=!1;else return}else f&&a.add(c);if(vn(c)&&!h){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[s]===c&&h)return;Gu(e,c),(!t||!t.scope_.parent_)&&typeof s!="symbol"&&(Fa(a)?a.has(s):Object.prototype.propertyIsEnumerable.call(a,s))&&Ku(e,c)}}}function Ku(e,t,a=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&zl(t,a)}function CO(e,t){const a=Array.isArray(e),s={type_:a?1:0,scope_:t?t.scope_:uy(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let c=s,o=jl;a&&(c=[s],o=ts);const{revoke:f,proxy:h}=Proxy.revocable(c,o);return s.draft_=h,s.revoke_=f,h}var jl={get(e,t){if(t===zt)return e;const a=Zr(e);if(!Pi(a,t))return AO(e,a,t);const s=a[t];return e.finalized_||!vn(s)?s:s===Ll(e.base_,t)?(Hl(e),e.copy_[t]=Yl(s,e)):s},has(e,t){return t in Zr(e)},ownKeys(e){return Reflect.ownKeys(Zr(e))},set(e,t,a){const s=fy(Zr(e),t);if(s?.set)return s.set.call(e.draft_,a),!0;if(!e.modified_){const c=Ll(Zr(e),t),o=c?.[zt];if(o&&o.base_===a)return e.copy_[t]=a,e.assigned_[t]=!1,!0;if(pO(a,c)&&(a!==void 0||Pi(e.base_,t)))return!0;Hl(e),Bl(e)}return e.copy_[t]===a&&(a!==void 0||t in e.copy_)||Number.isNaN(a)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=a,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Ll(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Hl(e),Bl(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const a=Zr(e),s=Reflect.getOwnPropertyDescriptor(a,t);return s&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:s.enumerable,value:a[t]}},defineProperty(){pt(11)},getPrototypeOf(e){return Ia(e.base_)},setPrototypeOf(){pt(12)}},ts={};Ji(jl,(e,t)=>{ts[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),ts.deleteProperty=function(e,t){return ts.set.call(this,e,t,void 0)},ts.set=function(e,t,a){return jl.set.call(this,e[0],t,a,e[0])};function Ll(e,t){const a=e[zt];return(a?Zr(a):e)[t]}function AO(e,t,a){const s=fy(t,a);return s?"value"in s?s.value:s.get?.call(e.draft_):void 0}function fy(e,t){if(!(t in e))return;let a=Ia(e);for(;a;){const s=Object.getOwnPropertyDescriptor(a,t);if(s)return s;a=Ia(a)}}function Bl(e){e.modified_||(e.modified_=!0,e.parent_&&Bl(e.parent_))}function Hl(e){e.copy_||(e.copy_=kl(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var RO=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,a,s)=>{if(typeof t=="function"&&typeof a!="function"){const o=a;a=t;const f=this;return function(g=o,...m){return f.produce(g,p=>a.call(this,p,...m))}}typeof a!="function"&&pt(6),s!==void 0&&typeof s!="function"&&pt(7);let c;if(vn(t)){const o=oy(this),f=Yl(t,void 0);let h=!0;try{c=a(f),h=!1}finally{h?Ql(o):Vl(o)}return cy(o,s),ly(c,o)}else if(!t||typeof t!="object"){if(c=a(t),c===void 0&&(c=t),c===Il&&(c=void 0),this.autoFreeze_&&zl(c,!0),s){const o=[],f=[];Jr("Patches").generateReplacementPatches_(t,c,o,f),s(o,f)}return c}else pt(1,t)},this.produceWithPatches=(t,a)=>{if(typeof t=="function")return(f,...h)=>this.produceWithPatches(f,g=>t(g,...h));let s,c;return[this.produce(t,a,(f,h)=>{s=f,c=h}),s,c]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof e?.useStrictIteration=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){vn(e)||pt(8),On(e)&&(e=OO(e));const t=oy(this),a=Yl(e,void 0);return a[zt].isManual_=!0,Vl(t),a}finishDraft(e,t){const a=e&&e[zt];(!a||!a.isManual_)&&pt(9);const{scope_:s}=a;return cy(s,t),ly(void 0,s)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let a;for(a=t.length-1;a>=0;a--){const c=t[a];if(c.path.length===0&&c.op==="replace"){e=c.value;break}}a>-1&&(t=t.slice(a+1));const s=Jr("Patches").applyPatches_;return On(e)?s(e,t):this.produce(e,c=>s(c,t))}};function Yl(e,t){const a=Fa(e)?Jr("MapSet").proxyMap_(e,t):Wi(e)?Jr("MapSet").proxySet_(e,t):CO(e,t);return(t?t.scope_:uy()).drafts_.push(a),a}function OO(e){return On(e)||pt(10,e),hy(e)}function hy(e){if(!vn(e)||$u(e))return e;const t=e[zt];let a,s=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,a=kl(e,t.scope_.immer_.useStrictShallowCopy_),s=t.scope_.immer_.shouldUseStrictIteration()}else a=kl(e,!0);return Ji(a,(c,o)=>{sy(a,c,hy(o))},s),t&&(t.finalized_=!1),a}function qO(){const t="replace",s="remove";function c(S,w,C,A){switch(S.type_){case 0:case 2:return f(S,w,C,A);case 1:return o(S,w,C,A);case 3:return h(S,w,C,A)}}function o(S,w,C,A){let{base_:O,assigned_:q}=S,M=S.copy_;M.length<O.length&&([O,M]=[M,O],[C,A]=[A,C]);for(let R=0;R<O.length;R++)if(q[R]&&M[R]!==O[R]){const U=w.concat([R]);C.push({op:t,path:U,value:v(M[R])}),A.push({op:t,path:U,value:v(O[R])})}for(let R=O.length;R<M.length;R++){const U=w.concat([R]);C.push({op:"add",path:U,value:v(M[R])})}for(let R=M.length-1;O.length<=R;--R){const U=w.concat([R]);A.push({op:s,path:U})}}function f(S,w,C,A){const{base_:O,copy_:q}=S;Ji(S.assigned_,(M,R)=>{const U=Fl(O,M),Z=Fl(q,M),k=R?Pi(O,M)?t:"add":s;if(U===Z&&k===t)return;const x=w.concat(M);C.push(k===s?{op:k,path:x}:{op:k,path:x,value:Z}),A.push(k==="add"?{op:s,path:x}:k===s?{op:"add",path:x,value:v(U)}:{op:t,path:x,value:v(U)})})}function h(S,w,C,A){let{base_:O,copy_:q}=S,M=0;O.forEach(R=>{if(!q.has(R)){const U=w.concat([M]);C.push({op:s,path:U,value:R}),A.unshift({op:"add",path:U,value:R})}M++}),M=0,q.forEach(R=>{if(!O.has(R)){const U=w.concat([M]);C.push({op:"add",path:U,value:R}),A.unshift({op:s,path:U,value:R})}M++})}function g(S,w,C,A){C.push({op:t,path:[],value:w===Il?void 0:w}),A.push({op:t,path:[],value:S})}function m(S,w){return w.forEach(C=>{const{path:A,op:O}=C;let q=S;for(let Z=0;Z<A.length-1;Z++){const k=Xr(q);let x=A[Z];typeof x!="string"&&typeof x!="number"&&(x=""+x),(k===0||k===1)&&(x==="__proto__"||x==="constructor")&&pt(19),typeof q=="function"&&x==="prototype"&&pt(19),q=Fl(q,x),typeof q!="object"&&pt(18,A.join("/"))}const M=Xr(q),R=p(C.value),U=A[A.length-1];switch(O){case t:switch(M){case 2:return q.set(U,R);case 3:pt(16);default:return q[U]=R}case"add":switch(M){case 1:return U==="-"?q.push(R):q.splice(U,0,R);case 2:return q.set(U,R);case 3:return q.add(R);default:return q[U]=R}case s:switch(M){case 1:return q.splice(U,1);case 2:return q.delete(U);case 3:return q.delete(C.value);default:return delete q[U]}default:pt(17,O)}}),S}function p(S){if(!vn(S))return S;if(Array.isArray(S))return S.map(p);if(Fa(S))return new Map(Array.from(S.entries()).map(([C,A])=>[C,p(A)]));if(Wi(S))return new Set(Array.from(S).map(p));const w=Object.create(Ia(S));for(const C in S)w[C]=p(S[C]);return Pi(S,Zi)&&(w[Zi]=S[Zi]),w}function v(S){return On(S)?p(S):S}SO("Patches",{applyPatches_:m,generatePatches_:c,generateReplacementPatches_:g})}var ns=new RO,rs=ns.produce,gy=ns.produceWithPatches.bind(ns),my=ns.applyPatches.bind(ns);function EO(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function TO(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function DO(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(a=>typeof a=="function")){const a=e.map(s=>typeof s=="function"?`function ${s.name||"unnamed"}()`:typeof s).join(", ");throw new TypeError(`${t}[${a}]`)}}var yy=e=>Array.isArray(e)?e:[e];function xO(e){const t=Array.isArray(e[0])?e[0]:e;return DO(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function MO(e,t){const a=[],{length:s}=e;for(let c=0;c<s;c++)a.push(e[c].apply(null,t));return a}var _O=class{constructor(e){this.value=e}deref(){return this.value}},UO=typeof WeakRef<"u"?WeakRef:_O,IO=0,py=1;function Xu(){return{s:IO,v:void 0,o:null,p:null}}function Zu(e,t={}){let a=Xu();const{resultEqualityCheck:s}=t;let c,o=0;function f(){let h=a;const{length:g}=arguments;for(let v=0,S=g;v<S;v++){const w=arguments[v];if(typeof w=="function"||typeof w=="object"&&w!==null){let C=h.o;C===null&&(h.o=C=new WeakMap);const A=C.get(w);A===void 0?(h=Xu(),C.set(w,h)):h=A}else{let C=h.p;C===null&&(h.p=C=new Map);const A=C.get(w);A===void 0?(h=Xu(),C.set(w,h)):h=A}}const m=h;let p;if(h.s===py)p=h.v;else if(p=e.apply(null,arguments),o++,s){const v=c?.deref?.()??c;v!=null&&s(v,p)&&(p=v,o!==0&&o--),c=typeof p=="object"&&p!==null||typeof p=="function"?new UO(p):p}return m.s=py,m.v=p,p}return f.clearCache=()=>{a=Xu(),f.resetResultsCount()},f.resultsCount=()=>o,f.resetResultsCount=()=>{o=0},f}function FO(e,...t){const a=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,s=(...c)=>{let o=0,f=0,h,g={},m=c.pop();typeof m=="object"&&(g=m,m=c.pop()),EO(m,`createSelector expects an output function after the inputs, but received: [${typeof m}]`);const p={...a,...g},{memoize:v,memoizeOptions:S=[],argsMemoize:w=Zu,argsMemoizeOptions:C=[]}=p,A=yy(S),O=yy(C),q=xO(c),M=v(function(){return o++,m.apply(null,arguments)},...A),R=w(function(){f++;const Z=MO(q,arguments);return h=M.apply(null,Z),h},...O);return Object.assign(R,{resultFunc:m,memoizedResultFunc:M,dependencies:q,dependencyRecomputations:()=>f,resetDependencyRecomputations:()=>{f=0},lastResult:()=>h,recomputations:()=>o,resetRecomputations:()=>{o=0},memoize:v,argsMemoize:w})};return Object.assign(s,{withTypes:()=>s}),s}var Nt=FO(Zu),kO=Object.assign((e,t=Nt)=>{TO(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const a=Object.keys(e),s=a.map(o=>e[o]);return t(s,(...o)=>o.reduce((f,h,g)=>(f[a[g]]=h,f),{}))},{withTypes:()=>kO});function vy(e){return({dispatch:a,getState:s})=>c=>o=>typeof o=="function"?o(a,s,e):c(o)}var zO=vy(),NO=vy,QO=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Hu:Hu.apply(null,arguments)},VO=e=>e&&typeof e.match=="function";function I(e,t){function a(...s){if(t){let c=t(...s);if(!c)throw new Error(qn(0));return{type:e,payload:c.payload,..."meta"in c&&{meta:c.meta},..."error"in c&&{error:c.error}}}return{type:e,payload:s[0]}}return a.toString=()=>`${e}`,a.type=e,a.match=s=>ry(s)&&s.type===e,a}var Sy=class Fu extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Fu.prototype)}static get[Symbol.species](){return Fu}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Fu(...t[0].concat(this)):new Fu(...t.concat(this))}};function by(e){return vn(e)?rs(e,()=>{}):e}function wy(e,t,a){return e.has(t)?e.get(t):e.set(t,a(t)).get(t)}function jO(e){return typeof e=="boolean"}var LO=()=>function(t){const{thunk:a=!0,immutableCheck:s=!0,serializableCheck:c=!0,actionCreatorCheck:o=!0}=t??{};let f=new Sy;return a&&(jO(a)?f.push(zO):f.push(NO(a.extraArgument))),f},Ju="RTK_autoBatch",as=()=>e=>({payload:e,meta:{[Ju]:!0}}),Cy=e=>t=>{setTimeout(t,e)},BO=(e={type:"raf"})=>t=>(...a)=>{const s=t(...a);let c=!0,o=!1,f=!1;const h=new Set,g=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:Cy(10):e.type==="callback"?e.queueNotification:Cy(e.timeout),m=()=>{f=!1,o&&(o=!1,h.forEach(p=>p()))};return Object.assign({},s,{subscribe(p){const v=()=>c&&p(),S=s.subscribe(v);return h.add(p),()=>{S(),h.delete(p)}},dispatch(p){try{return c=!p?.meta?.[Ju],o=!c,o&&(f||(f=!0,g(m))),s.dispatch(p)}finally{c=!0}}})},HO=e=>function(a){const{autoBatch:s=!0}=a??{};let c=new Sy(e);return s&&c.push(BO(typeof s=="object"?s:void 0)),c};function YO(e){const t=LO(),{reducer:a=void 0,middleware:s,devTools:c=!0,preloadedState:o=void 0,enhancers:f=void 0}=e||{};let h;if(typeof a=="function")h=a;else if(dr(a))h=Ul(a);else throw new Error(qn(1));let g;typeof s=="function"?g=s(t):g=t();let m=Hu;c&&(m=QO({trace:!1,...typeof c=="object"&&c}));const p=gO(...g),v=HO(p);let S=typeof f=="function"?f(v):v();const w=m(...S);return ny(h,o,w)}function Ay(e){const t={},a=[];let s;const c={addCase(o,f){const h=typeof o=="string"?o:o.type;if(!h)throw new Error(qn(28));if(h in t)throw new Error(qn(29));return t[h]=f,c},addMatcher(o,f){return a.push({matcher:o,reducer:f}),c},addDefaultCase(o){return s=o,c}};return e(c),[t,a,s]}function $O(e){return typeof e=="function"}function qe(e,t){let[a,s,c]=Ay(t),o;if($O(e))o=()=>by(e());else{const h=by(e);o=()=>h}function f(h=o(),g){let m=[a[g.type],...s.filter(({matcher:p})=>p(g)).map(({reducer:p})=>p)];return m.filter(p=>!!p).length===0&&(m=[c]),m.reduce((p,v)=>{if(v)if(On(p)){const w=v(p,g);return w===void 0?p:w}else{if(vn(p))return rs(p,S=>v(S,g));{const S=v(p,g);if(S===void 0){if(p===null)return p;throw Error("A case reducer on a non-draftable value must not return undefined")}return S}}return p},h)}return f.getInitialState=o,f}var Ry=(e,t)=>VO(e)?e.match(t):e(t);function kn(...e){return t=>e.some(a=>Ry(a,t))}function is(...e){return t=>e.every(a=>Ry(a,t))}function Pu(e,t){if(!e||!e.meta)return!1;const a=typeof e.meta.requestId=="string",s=t.indexOf(e.meta.requestStatus)>-1;return a&&s}function ss(e){return typeof e[0]=="function"&&"pending"in e[0]&&"fulfilled"in e[0]&&"rejected"in e[0]}function $l(...e){return e.length===0?t=>Pu(t,["pending"]):ss(e)?kn(...e.map(t=>t.pending)):$l()(e[0])}function ka(...e){return e.length===0?t=>Pu(t,["rejected"]):ss(e)?kn(...e.map(t=>t.rejected)):ka()(e[0])}function Wu(...e){const t=a=>a&&a.meta&&a.meta.rejectedWithValue;return e.length===0?is(ka(...e),t):ss(e)?is(ka(...e),t):Wu()(e[0])}function fr(...e){return e.length===0?t=>Pu(t,["fulfilled"]):ss(e)?kn(...e.map(t=>t.fulfilled)):fr()(e[0])}function Gl(...e){return e.length===0?t=>Pu(t,["pending","fulfilled","rejected"]):ss(e)?kn(...e.flatMap(t=>[t.pending,t.rejected,t.fulfilled])):Gl()(e[0])}var GO="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Kl=(e=21)=>{let t="",a=e;for(;a--;)t+=GO[Math.random()*64|0];return t},KO=["name","message","stack","code"],Xl=class{constructor(e,t){this.payload=e,this.meta=t}_type},Oy=class{constructor(e,t){this.payload=e,this.meta=t}_type},XO=e=>{if(typeof e=="object"&&e!==null){const t={};for(const a of KO)typeof e[a]=="string"&&(t[a]=e[a]);return t}return{message:String(e)}},Ce=(()=>{function e(t,a,s){const c=I(t+"/fulfilled",(g,m,p,v)=>({payload:g,meta:{...v||{},arg:p,requestId:m,requestStatus:"fulfilled"}})),o=I(t+"/pending",(g,m,p)=>({payload:void 0,meta:{...p||{},arg:m,requestId:g,requestStatus:"pending"}})),f=I(t+"/rejected",(g,m,p,v,S)=>({payload:v,error:(s&&s.serializeError||XO)(g||"Rejected"),meta:{...S||{},arg:p,requestId:m,rejectedWithValue:!!v,requestStatus:"rejected",aborted:g?.name==="AbortError",condition:g?.name==="ConditionError"}}));function h(g){return(m,p,v)=>{const S=s?.idGenerator?s.idGenerator(g):Kl(),w=new AbortController;let C,A;function O(M){A=M,w.abort()}const q=(async function(){let M;try{let U=s?.condition?.(g,{getState:p,extra:v});if(JO(U)&&(U=await U),U===!1||w.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const Z=new Promise((k,x)=>{C=()=>{x({name:"AbortError",message:A||"Aborted"})},w.signal.addEventListener("abort",C)});m(o(S,g,s?.getPendingMeta?.({requestId:S,arg:g},{getState:p,extra:v}))),M=await Promise.race([Z,Promise.resolve(a(g,{dispatch:m,getState:p,extra:v,requestId:S,signal:w.signal,abort:O,rejectWithValue:(k,x)=>new Xl(k,x),fulfillWithValue:(k,x)=>new Oy(k,x)})).then(k=>{if(k instanceof Xl)throw k;return k instanceof Oy?c(k.payload,S,g,k.meta):c(k,S,g)})])}catch(U){M=U instanceof Xl?f(null,S,g,U.payload,U.meta):f(U,S,g)}finally{C&&w.signal.removeEventListener("abort",C)}return s&&!s.dispatchConditionRejection&&f.match(M)&&M.meta.condition||m(M),M})();return Object.assign(q,{abort:O,requestId:S,arg:g,unwrap(){return q.then(ZO)}})}}return Object.assign(h,{pending:o,rejected:f,fulfilled:c,settled:kn(f,c),typePrefix:t})}return e.withTypes=()=>e,e})();function ZO(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}function JO(e){return e!==null&&typeof e=="object"&&typeof e.then=="function"}var PO=Symbol.for("rtk-slice-createasyncthunk");function WO(e,t){return`${e}/${t}`}function eq({creators:e}={}){const t=e?.asyncThunk?.[PO];return function(s){const{name:c,reducerPath:o=c}=s;if(!c)throw new Error(qn(11));const f=(typeof s.reducers=="function"?s.reducers(nq()):s.reducers)||{},h=Object.keys(f),g={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},m={addCase(M,R){const U=typeof M=="string"?M:M.type;if(!U)throw new Error(qn(12));if(U in g.sliceCaseReducersByType)throw new Error(qn(13));return g.sliceCaseReducersByType[U]=R,m},addMatcher(M,R){return g.sliceMatchers.push({matcher:M,reducer:R}),m},exposeAction(M,R){return g.actionCreators[M]=R,m},exposeCaseReducer(M,R){return g.sliceCaseReducersByName[M]=R,m}};h.forEach(M=>{const R=f[M],U={reducerName:M,type:WO(c,M),createNotation:typeof s.reducers=="function"};aq(R)?sq(U,R,m,t):rq(U,R,m)});function p(){const[M={},R=[],U=void 0]=typeof s.extraReducers=="function"?Ay(s.extraReducers):[s.extraReducers],Z={...M,...g.sliceCaseReducersByType};return qe(s.initialState,k=>{for(let x in Z)k.addCase(x,Z[x]);for(let x of g.sliceMatchers)k.addMatcher(x.matcher,x.reducer);for(let x of R)k.addMatcher(x.matcher,x.reducer);U&&k.addDefaultCase(U)})}const v=M=>M,S=new Map;let w;function C(M,R){return w||(w=p()),w(M,R)}function A(){return w||(w=p()),w.getInitialState()}function O(M,R=!1){function U(k){let x=k[M];return typeof x>"u"&&R&&(x=A()),x}function Z(k=v){const x=wy(S,R,()=>new WeakMap);return wy(x,k,()=>{const z={};for(const[K,J]of Object.entries(s.selectors??{}))z[K]=tq(J,k,A,R);return z})}return{reducerPath:M,getSelectors:Z,get selectors(){return Z(U)},selectSlice:U}}const q={name:c,reducer:C,actions:g.actionCreators,caseReducers:g.sliceCaseReducersByName,getInitialState:A,...O(o),injectInto(M,{reducerPath:R,...U}={}){const Z=R??o;return M.inject({reducerPath:Z,reducer:C},U),{...q,...O(Z,!0)}}};return q}}function tq(e,t,a,s){function c(o,...f){let h=t(o);return typeof h>"u"&&s&&(h=a()),e(h,...f)}return c.unwrapped=e,c}var za=eq();function nq(){function e(t,a){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...a}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...a){return t(...a)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,a){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:a}},asyncThunk:e}}function rq({type:e,reducerName:t,createNotation:a},s,c){let o,f;if("reducer"in s){if(a&&!iq(s))throw new Error(qn(17));o=s.reducer,f=s.prepare}else o=s;c.addCase(e,o).exposeCaseReducer(t,o).exposeAction(t,f?I(e,f):I(e))}function aq(e){return e._reducerDefinitionType==="asyncThunk"}function iq(e){return e._reducerDefinitionType==="reducerWithPrepare"}function sq({type:e,reducerName:t},a,s,c){if(!c)throw new Error(qn(18));const{payloadCreator:o,fulfilled:f,pending:h,rejected:g,settled:m,options:p}=a,v=c(e,o,p);s.exposeAction(t,v),f&&s.addCase(v.fulfilled,f),h&&s.addCase(v.pending,h),g&&s.addCase(v.rejected,g),m&&s.addMatcher(v.settled,m),s.exposeCaseReducer(t,{fulfilled:f||ec,pending:h||ec,rejected:g||ec,settled:m||ec})}function ec(){}function qn(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}const uq=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-8][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/i;function cq(e){return typeof e=="string"&&uq.test(e)}const vt=[];for(let e=0;e<256;++e)vt.push((e+256).toString(16).slice(1));function oq(e,t=0){return(vt[e[t+0]]+vt[e[t+1]]+vt[e[t+2]]+vt[e[t+3]]+"-"+vt[e[t+4]]+vt[e[t+5]]+"-"+vt[e[t+6]]+vt[e[t+7]]+"-"+vt[e[t+8]]+vt[e[t+9]]+"-"+vt[e[t+10]]+vt[e[t+11]]+vt[e[t+12]]+vt[e[t+13]]+vt[e[t+14]]+vt[e[t+15]]).toLowerCase()}let Zl;const lq=new Uint8Array(16);function dq(){if(!Zl){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Zl=crypto.getRandomValues.bind(crypto)}return Zl(lq)}const qy={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};function fq(e,t,a){if(qy.randomUUID&&!e)return qy.randomUUID();e=e||{};const s=e.random??e.rng?.()??dq();if(s.length<16)throw new Error("Random bytes length must be >= 16");return s[6]=s[6]&15|64,s[8]=s[8]&63|128,oq(s)}function hq(){const e=typeof window<"u";return{sendMessage(t){e&&window.postMessage(t,"*")}}}function gq({config:e,environment:t,event:a,listenerManager:s}){const{url:c,token:o,mode:f}=e;f!=="disabled"&&(s.call(a),t.send(c,o,a))}const Ey="visitorId";function mq(e){return{getClientId:()=>{const t=e.get(),a=t.storage,s=a.getItem(Ey),c=s&&cq(s)?s:t.generateUUID();return a.setItem(Ey,c),c}}}const Ty="1.2.7",Jl=128,Dy=192,xy=224,My=240,yq=248;function pq(e){return(e&yq)===My?4:(e&My)===xy?3:(e&xy)===Dy?2:1}function vq(e,t){if(t<0||e.length<=t)return e;let a=e.indexOf("%",t-2);for(a<0||a>t?a=t:t=a;a>2&&e.charAt(a-3)=="%";){const s=Number.parseInt(e.substring(a-2,a),16);if((s&Jl)!=Jl)break;if(a-=3,(s&Dy)!=Jl){t-a>=pq(s)*3&&(a=t);break}}return e.substring(0,a)}function Sq(e){const{trackingId:t}=e;return{trackingId:t}}function bq(e){return(e.source||[]).concat([`relay@${Ty}`])}function _y(e,t,a,s){const{getReferrer:c,getLocation:o,getUserAgent:f}=a,h=Sq(t),g=s.getClientId();return Object.freeze({type:e,config:h,ts:Date.now(),source:bq(t),clientId:g,userAgent:f(),referrer:Uy(c()),location:Uy(o())})}function Uy(e){return e!==null?vq(e,1024):null}function wq(e,t,a,s,c){return{...t,meta:_y(e,a,s,c)}}const Cq="*";function Aq(){const e=[];function t({type:g,callback:m}){return e.findIndex(p=>p.type===g&&p.callback===m)}function a(g,m){return g.type==="*"||m===g.type}function s(g){return t(g)<0&&e.push(g),()=>h(g.type,g.callback)}function c(g){e.forEach(m=>{if(a(m,g.meta.type))try{m.callback(g)}catch(p){console.error(p)}})}function o(g){if(g===Cq)e.length=0;else for(let m=e.length-1;m>=0;m--)e[m].type===g&&e.splice(m,1)}function f(g){const m=t(g);m>=0&&e.splice(m,1)}function h(g,m){m?f({type:g,callback:m}):o(g)}return{add:s,call:c,remove:h}}function Iy({url:e,token:t,trackingId:a,...s}){return Object.freeze({url:e,token:t,trackingId:a,...!!s.mode&&{mode:s.mode},...!!s.source&&{source:s.source},...!!s.environment&&{environment:s.environment}})}function Rq(e){let t=Iy(e);return{get:()=>t,update:a=>{t=Iy({...t,...a})}}}const Pl=Oq();function Oq(){const e="coveo_",t=a=>{const s=a.split(".").slice(-2);return s.length==2?s.join("."):""};return{getItem(a){const s=`${e}${a}=`,c=document.cookie.split(";");for(const o of c){const f=o.replace(/^\s+/,"");if(f.lastIndexOf(s,0)===0)return f.substring(s.length,f.length)}return null},setItem(a,s,c){const o=t(window.location.hostname),f=`;expires=${new Date(new Date().getTime()+c).toUTCString()}`,h=o?`;domain=${o}`:"";document.cookie=`${e}${a}=${s}${f}${h};path=/;SameSite=Lax`},removeItem(a){this.setItem(a,"",-1)}}}function qq(){return{getItem(e){return Pl.getItem(e)||localStorage.getItem(e)},removeItem(e){Pl.removeItem(e),localStorage.removeItem(e)},setItem(e,t){localStorage.setItem(e,t),Pl.setItem(e,t,31556952e3)}}}function Eq(){const e=document.referrer;return e===""?null:e}function Fy(){return{runtime:"browser",send:(e,t,a)=>{const s=navigator.sendBeacon(`${e}?access_token=${t}`,new Blob([JSON.stringify([a])],{type:"application/json"}));if(hq().sendMessage({kind:"EVENT_PROTOCOL",event:a,url:e,token:t}),!s)throw new Error("Failed to send the event(s) because the payload size exceeded the maximum allowed size (32 KB). Please contact support if the problem persists.")},getReferrer:()=>Eq(),getLocation:()=>window.location.href,getUserAgent:()=>navigator.userAgent,generateUUID:()=>fq(),storage:qq()}}function Tq(){try{const e="__storage_test__";return localStorage.setItem(e,e),localStorage.removeItem(e),!0}catch(e){return e instanceof DOMException&&e.name==="QuotaExceededError"&&localStorage&&localStorage.length!==0}}function Dq(){return{getItem(){return null},removeItem(){},setItem(){}}}function xq(){return{runtime:"null",send:()=>{},getReferrer:()=>null,getLocation:()=>null,getUserAgent:()=>null,generateUUID:()=>"",storage:Dq()}}function Mq(e){const t=e.get().mode!=="disabled",a=e.get().environment,s=xq();return t&&a?{storage:s.storage,...a,runtime:"custom"}:t&&_q()&&Tq()?Fy():s}function _q(){try{return typeof window=="object"}catch{return!1}}function Uq(e){return{get:()=>Object.freeze(Mq(e))}}function Iq(e){const t=Rq(e),a=Aq(),s=Uq(t),c=mq(s);return{emit:(o,f)=>{const h=t.get(),g=s.get(),m=wq(o,f,h,g,c);return gq({config:h,environment:g,event:m,listenerManager:a})},getMeta:o=>_y(o,t.get(),s.get(),c),on:(o,f)=>a.add({type:o,callback:f}),off:(o,f)=>a.remove(o,f),updateConfig:o=>t.update(o),version:Ty}}function Fq(){return typeof window<"u"&&typeof document<"u"}const Wl="3.36.0",kq=["@coveo/atomic","@coveo/quantic"],tc=Nt(e=>e.source,e=>Object.entries(e).map(([t,a])=>`${t}@${a}`).concat(`@coveo/headless@${Wl}`)),ed=Nt(e=>e.configuration.organizationId,e=>e.configuration.environment,e=>e.configuration.accessToken,e=>e.configuration.analytics,e=>tc(e.configuration.analytics),(e,t)=>t,(e,t,a,{trackingId:s,apiBaseUrl:c,enabled:o},f,h)=>{const g=Nq(h);return Iq({mode:o?"emit":"disabled",url:c??VR(e,t),token:a,trackingId:s??null,source:f,environment:g})}),zq={generateUUID:()=>"",getLocation:()=>null,getReferrer:()=>null,getUserAgent:()=>null,send:()=>{},storage:{getItem:()=>null,setItem:()=>{},removeItem:()=>{}}},Nq=e=>{if(!e)return;const t=e();return{...Fq()?Fy():zq,generateUUID:()=>t.clientId,getLocation:()=>t.location,getReferrer:()=>t.referrer,getUserAgent:()=>t.userAgent}};function zn(e,t){var a={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(a[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,s=Object.getOwnPropertySymbols(e);c<s.length;c++)t.indexOf(s[c])<0&&Object.prototype.propertyIsEnumerable.call(e,s[c])&&(a[s[c]]=e[s[c]]);return a}function $(e,t,a,s){function c(o){return o instanceof a?o:new a(function(f){f(o)})}return new(a||(a=Promise))(function(o,f){function h(p){try{m(s.next(p))}catch(v){f(v)}}function g(p){try{m(s.throw(p))}catch(v){f(v)}}function m(p){p.done?o(p.value):c(p.value).then(h,g)}m((s=s.apply(e,t||[])).next())})}typeof SuppressedError=="function"&&SuppressedError;var Te;(function(e){e.search="search",e.click="click",e.custom="custom",e.view="view",e.collect="collect"})(Te||(Te={}));function td(){return typeof window<"u"}function nd(){return typeof navigator<"u"}function rd(){return typeof document<"u"}function ad(){try{return typeof localStorage<"u"}catch{return!1}}function Qq(){try{return typeof sessionStorage<"u"}catch{return!1}}function ky(){return nd()&&navigator.cookieEnabled}const Vq=[Te.click,Te.custom,Te.search,Te.view],jq=(e,t)=>Vq.indexOf(e)!==-1?Object.assign({language:rd()?document.documentElement.lang:"unknown",userAgent:nd()?navigator.userAgent:"unknown"},t):t;let id=class _1{static set(t,a,s){var c,o,f,h;s&&(o=new Date,o.setTime(o.getTime()+s)),h=window.location.hostname,h.indexOf(".")===-1?zy(t,a,o):(f=h.split("."),c=f[f.length-2]+"."+f[f.length-1],zy(t,a,o,c))}static get(t){for(var a=t+"=",s=document.cookie.split(";"),c=0;c<s.length;c++){var o=s[c];if(o=o.replace(/^\s+/,""),o.lastIndexOf(a,0)===0)return o.substring(a.length,o.length)}return null}static erase(t){_1.set(t,"",-1)}};function zy(e,t,a,s){document.cookie=`${e}=${t}`+(a?`;expires=${a.toUTCString()}`:"")+(s?`;domain=${s}`:"")+";path=/;SameSite=Lax"}function Lq(){return ad()?localStorage:ky()?new sd:Qq()?sessionStorage:new nc}let sd=class yl{getItem(t){return id.get(`${yl.prefix}${t}`)}removeItem(t){id.erase(`${yl.prefix}${t}`)}setItem(t,a,s){id.set(`${yl.prefix}${t}`,a,s)}};sd.prefix="coveo_";class Bq{constructor(){this.cookieStorage=new sd}getItem(t){return localStorage.getItem(t)||this.cookieStorage.getItem(t)}removeItem(t){this.cookieStorage.removeItem(t),localStorage.removeItem(t)}setItem(t,a){localStorage.setItem(t,a),this.cookieStorage.setItem(t,a,31556926e3)}}let nc=class{getItem(t){return null}removeItem(t){}setItem(t,a){}};const rc="__coveo.analytics.history",Hq=20,Yq=1e3*60,$q=75;let Ny=class{constructor(t){this.store=t||Lq()}addElement(t){t.internalTime=new Date().getTime(),t=this.cropQueryElement(this.stripEmptyQuery(t));let a=this.getHistoryWithInternalTime();a!=null?this.isValidEntry(t)&&this.setHistory([t].concat(a)):this.setHistory([t])}addElementAsync(t){return $(this,void 0,void 0,function*(){t.internalTime=new Date().getTime(),t=this.cropQueryElement(this.stripEmptyQuery(t));let a=yield this.getHistoryWithInternalTimeAsync();a!=null?this.isValidEntry(t)&&this.setHistory([t].concat(a)):this.setHistory([t])})}getHistory(){const t=this.getHistoryWithInternalTime();return this.stripEmptyQueries(this.stripInternalTime(t))}getHistoryAsync(){return $(this,void 0,void 0,function*(){const t=yield this.getHistoryWithInternalTimeAsync();return this.stripEmptyQueries(this.stripInternalTime(t))})}getHistoryWithInternalTime(){try{const t=this.store.getItem(rc);return t&&typeof t=="string"?JSON.parse(t):[]}catch{return[]}}getHistoryWithInternalTimeAsync(){return $(this,void 0,void 0,function*(){try{const t=yield this.store.getItem(rc);return t?JSON.parse(t):[]}catch{return[]}})}setHistory(t){try{this.store.setItem(rc,JSON.stringify(t.slice(0,Hq)))}catch{}}clear(){try{this.store.removeItem(rc)}catch{}}getMostRecentElement(){let t=this.getHistoryWithInternalTime();return Array.isArray(t)?t.sort((s,c)=>(c.internalTime||0)-(s.internalTime||0))[0]:null}cropQueryElement(t){return t.name&&t.value&&t.name.toLowerCase()==="query"&&(t.value=t.value.slice(0,$q)),t}isValidEntry(t){let a=this.getMostRecentElement();return a&&a.value==t.value?(t.internalTime||0)-(a.internalTime||0)>Yq:!0}stripInternalTime(t){return Array.isArray(t)?t.map(a=>{const{name:s,time:c,value:o}=a;return{name:s,time:c,value:o}}):[]}stripEmptyQuery(t){const{name:a,time:s,value:c}=t;return a&&typeof c=="string"&&a.toLowerCase()==="query"&&c.trim()===""?{name:a,time:s}:t}stripEmptyQueries(t){return t.map(a=>this.stripEmptyQuery(a))}};const Gq=(e,t)=>$(void 0,void 0,void 0,function*(){return e===Te.view?(yield Kq(t.contentIdValue),Object.assign({location:window.location.toString(),referrer:document.referrer,title:document.title},t)):t}),Kq=e=>$(void 0,void 0,void 0,function*(){const t=new Ny,a={name:"PageView",value:e,time:new Date().toISOString()};yield t.addElementAsync(a)});let ac;const Xq=new Uint8Array(16);function Zq(){if(!ac&&(ac=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!ac))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ac(Xq)}var Jq=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function ic(e){return typeof e=="string"&&Jq.test(e)}const St=[];for(let e=0;e<256;++e)St.push((e+256).toString(16).slice(1));function Qy(e,t=0){return St[e[t+0]]+St[e[t+1]]+St[e[t+2]]+St[e[t+3]]+"-"+St[e[t+4]]+St[e[t+5]]+"-"+St[e[t+6]]+St[e[t+7]]+"-"+St[e[t+8]]+St[e[t+9]]+"-"+St[e[t+10]]+St[e[t+11]]+St[e[t+12]]+St[e[t+13]]+St[e[t+14]]+St[e[t+15]]}function Pq(e){if(!ic(e))throw TypeError("Invalid UUID");let t;const a=new Uint8Array(16);return a[0]=(t=parseInt(e.slice(0,8),16))>>>24,a[1]=t>>>16&255,a[2]=t>>>8&255,a[3]=t&255,a[4]=(t=parseInt(e.slice(9,13),16))>>>8,a[5]=t&255,a[6]=(t=parseInt(e.slice(14,18),16))>>>8,a[7]=t&255,a[8]=(t=parseInt(e.slice(19,23),16))>>>8,a[9]=t&255,a[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,a[11]=t/4294967296&255,a[12]=t>>>24&255,a[13]=t>>>16&255,a[14]=t>>>8&255,a[15]=t&255,a}function Wq(e){e=unescape(encodeURIComponent(e));const t=[];for(let a=0;a<e.length;++a)t.push(e.charCodeAt(a));return t}const eE="6ba7b810-9dad-11d1-80b4-00c04fd430c8",tE="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function nE(e,t,a){function s(c,o,f,h){var g;if(typeof c=="string"&&(c=Wq(c)),typeof o=="string"&&(o=Pq(o)),((g=o)===null||g===void 0?void 0:g.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let m=new Uint8Array(16+c.length);if(m.set(o),m.set(c,o.length),m=a(m),m[6]=m[6]&15|t,m[8]=m[8]&63|128,f){h=h||0;for(let p=0;p<16;++p)f[h+p]=m[p];return f}return Qy(m)}try{s.name=e}catch{}return s.DNS=eE,s.URL=tE,s}var Vy={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};function ud(e,t,a){if(Vy.randomUUID&&!e)return Vy.randomUUID();e=e||{};const s=e.random||(e.rng||Zq)();return s[6]=s[6]&15|64,s[8]=s[8]&63|128,Qy(s)}function rE(e,t,a,s){switch(e){case 0:return t&a^~t&s;case 1:return t^a^s;case 2:return t&a^t&s^a&s;case 3:return t^a^s}}function cd(e,t){return e<<t|e>>>32-t}function aE(e){const t=[1518500249,1859775393,2400959708,3395469782],a=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof e=="string"){const f=unescape(encodeURIComponent(e));e=[];for(let h=0;h<f.length;++h)e.push(f.charCodeAt(h))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);const s=e.length/4+2,c=Math.ceil(s/16),o=new Array(c);for(let f=0;f<c;++f){const h=new Uint32Array(16);for(let g=0;g<16;++g)h[g]=e[f*64+g*4]<<24|e[f*64+g*4+1]<<16|e[f*64+g*4+2]<<8|e[f*64+g*4+3];o[f]=h}o[c-1][14]=(e.length-1)*8/Math.pow(2,32),o[c-1][14]=Math.floor(o[c-1][14]),o[c-1][15]=(e.length-1)*8&4294967295;for(let f=0;f<c;++f){const h=new Uint32Array(80);for(let w=0;w<16;++w)h[w]=o[f][w];for(let w=16;w<80;++w)h[w]=cd(h[w-3]^h[w-8]^h[w-14]^h[w-16],1);let g=a[0],m=a[1],p=a[2],v=a[3],S=a[4];for(let w=0;w<80;++w){const C=Math.floor(w/20),A=cd(g,5)+rE(C,m,p,v)+S+t[C]+h[w]>>>0;S=v,v=p,p=cd(m,30)>>>0,m=g,g=A}a[0]=a[0]+g>>>0,a[1]=a[1]+m>>>0,a[2]=a[2]+p>>>0,a[3]=a[3]+v>>>0,a[4]=a[4]+S>>>0}return[a[0]>>24&255,a[0]>>16&255,a[0]>>8&255,a[0]&255,a[1]>>24&255,a[1]>>16&255,a[1]>>8&255,a[1]&255,a[2]>>24&255,a[2]>>16&255,a[2]>>8&255,a[2]&255,a[3]>>24&255,a[3]>>16&255,a[3]>>8&255,a[3]&255,a[4]>>24&255,a[4]>>16&255,a[4]>>8&255,a[4]&255]}var jy=nE("v5",80,aE);const Ly="2.30.49",iE={pageview:"pageview",event:"event"};class Pr{constructor(t,a){if(!ic(t))throw Error("Not a valid uuid");this.clientId=t,this.creationDate=Math.floor(a/1e3)}toString(){return this.clientId.replace(/-/g,"")+"."+this.creationDate.toString()}get expired(){const t=Math.floor(Date.now()/1e3)-this.creationDate;return t<0||t>Pr.expirationTime}validate(t,a){return!this.expired&&this.matchReferrer(t,a)}matchReferrer(t,a){try{const s=new URL(t);return a.some(c=>new RegExp(c.replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*")+"$").test(s.host))}catch{return!1}}static fromString(t){const a=t.split(".");if(a.length!==2)return null;const[s,c]=a;if(s.length!==32||isNaN(parseInt(c)))return null;const o=s.substring(0,8)+"-"+s.substring(8,12)+"-"+s.substring(12,16)+"-"+s.substring(16,20)+"-"+s.substring(20,32);return ic(o)?new Pr(o,Number.parseInt(c)*1e3):null}}Pr.cvo_cid="cvo_cid",Pr.expirationTime=120;const Sn=Object.keys;function sc(e){return e!==null&&typeof e=="object"&&!Array.isArray(e)}const od=128,By=192,Hy=224,Yy=240;function sE(e){return(e&248)===Yy?4:(e&Yy)===Hy?3:(e&Hy)===By?2:1}function uE(e,t){if(t<0||e.length<=t)return e;let a=e.indexOf("%",t-2);for(a<0||a>t?a=t:t=a;a>2&&e.charAt(a-3)=="%";){const s=Number.parseInt(e.substring(a-2,a),16);if((s&od)!=od)break;if(a-=3,(s&By)!=od){t-a>=sE(s)*3&&(a=t);break}}return e.substring(0,a)}const $y={id:"svc_ticket_id",subject:"svc_ticket_subject",description:"svc_ticket_description",category:"svc_ticket_category",productId:"svc_ticket_product_id",custom:"svc_ticket_custom"},cE=[...Sn($y).map(e=>$y[e])].join("|"),oE=new RegExp(`^(${cE}$)`),lE={svcAction:"svc_action",svcActionData:"svc_action_data"},dE=[e=>oE.test(e)],Gy={id:"id",name:"nm",brand:"br",category:"ca",variant:"va",price:"pr",quantity:"qt",coupon:"cc",position:"ps",group:"group"},Ky={id:"id",name:"nm",brand:"br",category:"ca",variant:"va",position:"ps",price:"pr",group:"group"},xt={action:"pa",list:"pal",listSource:"pls"},uc={id:"ti",revenue:"tr",tax:"tt",shipping:"ts",coupon:"tcc",affiliation:"ta",step:"cos",option:"col"},fE=["loyaltyCardId","loyaltyTier","thirdPartyPersona","companyName","favoriteStore","storeName","userIndustry","userRole","userDepartment","businessUnit"],ld={id:"quoteId",affiliation:"quoteAffiliation"},dd={id:"reviewId",rating:"reviewRating",comment:"reviewComment"},hE={add:xt,bookmark_add:xt,bookmark_remove:xt,click:xt,checkout:xt,checkout_option:xt,detail:xt,impression:xt,remove:xt,refund:Object.assign(Object.assign({},xt),uc),purchase:Object.assign(Object.assign({},xt),uc),quickview:xt,quote:Object.assign(Object.assign({},xt),ld),review:Object.assign(Object.assign({},xt),dd)},gE=Sn(Gy).map(e=>Gy[e]),mE=Sn(Ky).map(e=>Ky[e]),yE=Sn(xt).map(e=>xt[e]),pE=Sn(uc).map(e=>uc[e]),vE=Sn(dd).map(e=>dd[e]),SE=Sn(ld).map(e=>ld[e]),bE=[...gE,"custom"].join("|"),wE=[...mE,"custom"].join("|"),Xy="(pr[0-9]+)",Zy="(il[0-9]+pi[0-9]+)",CE=new RegExp(`^${Xy}(${bE})$`),AE=new RegExp(`^(${Zy}(${wE}))|(il[0-9]+nm)$`),RE=new RegExp(`^(${yE.join("|")})$`),OE=new RegExp(`^(${pE.join("|")})$`),qE=new RegExp(`^${Xy}custom$`),EE=new RegExp(`^${Zy}custom$`),TE=new RegExp(`^(${[...fE,...vE,...SE].join("|")})$`),DE=[e=>AE.test(e),e=>CE.test(e),e=>RE.test(e),e=>OE.test(e),e=>TE.test(e)],xE=[qE,EE],ME={anonymizeIp:"aip"},_E={eventCategory:"ec",eventAction:"ea",eventLabel:"el",eventValue:"ev",page:"dp",visitorId:"cid",clientId:"cid",userId:"uid",currencyCode:"cu"},UE={hitType:"t",pageViewId:"pid",encoding:"de",location:"dl",referrer:"dr",screenColor:"sd",screenResolution:"sr",title:"dt",userAgent:"ua",language:"ul",eventId:"z",time:"tm"},IE=["contentId","contentIdKey","contentType","searchHub","tab","searchUid","permanentId","contentLocale","trackingId"],FE=Object.assign(Object.assign(Object.assign(Object.assign({},ME),_E),UE),IE.reduce((e,t)=>Object.assign(Object.assign({},e),{[t]:t}),{})),fd=Object.assign(Object.assign({},FE),lE),kE=e=>{const t=!!e.action&&hE[e.action]||{};return Sn(e).reduce((a,s)=>{const c=t[s]||fd[s]||s;return Object.assign(Object.assign({},a),{[c]:e[s]})},{})},zE=Sn(fd).map(e=>fd[e]),NE=e=>zE.indexOf(e)!==-1,QE=e=>e==="custom",VE=e=>[...DE,...dE,NE,QE].some(t=>t(e)),jE=e=>Sn(e).reduce((t,a)=>{const s=LE(a);return s?Object.assign(Object.assign({},t),BE(s,e[a])):Object.assign(Object.assign({},t),{[a]:e[a]})},{}),LE=e=>{let t;return[...xE].every(a=>{var s;return t=(s=a.exec(e))===null||s===void 0?void 0:s[1],!t}),t},BE=(e,t)=>Sn(t).reduce((a,s)=>Object.assign(Object.assign({},a),{[`${e}${s}`]:t[s]}),{});class HE{constructor(t){this.opts=t}sendEvent(t,a){return $(this,void 0,void 0,function*(){if(!this.isAvailable())throw new Error('navigator.sendBeacon is not supported in this browser. Consider adding a polyfill like "sendbeacon-polyfill".');const{baseUrl:s,preprocessRequest:c}=this.opts,o=yield this.getQueryParamsForEventType(t),{url:f,payload:h}=yield this.preProcessRequestAsPotentialJSONString(`${s}/analytics/${t}?${o}`,a,c),g=this.encodeForEventType(t,h),m=new Blob([g],{type:"application/x-www-form-urlencoded"});navigator.sendBeacon(f,m)})}isAvailable(){return"sendBeacon"in navigator}deleteHttpCookieVisitorId(){return Promise.resolve()}preProcessRequestAsPotentialJSONString(t,a,s){return $(this,void 0,void 0,function*(){let c=t,o=a;if(s){const f=yield s({url:t,body:JSON.stringify(a)},"analyticsBeacon"),{url:h,body:g}=f;c=h||t;try{o=JSON.parse(g)}catch(m){console.error("Unable to process the request body as a JSON string",m)}}return{payload:o,url:c}})}encodeForEventType(t,a){return this.isEventTypeLegacy(t)?this.encodeEventToJson(t,a):this.encodeEventToJson(t,a,this.opts.token)}getQueryParamsForEventType(t){return $(this,void 0,void 0,function*(){const{token:a,visitorIdProvider:s}=this.opts,c=yield s.getCurrentVisitorId();return[a&&this.isEventTypeLegacy(t)?`access_token=${a}`:"",c?`visitorId=${c}`:"","discardVisitInfo=true"].filter(o=>!!o).join("&")})}isEventTypeLegacy(t){return[Te.click,Te.custom,Te.search,Te.view].indexOf(t)!==-1}encodeEventToJson(t,a,s){let c=`${t}Event=${encodeURIComponent(JSON.stringify(a))}`;return s&&(c=`access_token=${encodeURIComponent(s)}&${c}`),c}}class YE{sendEvent(t,a){return $(this,void 0,void 0,function*(){return Promise.resolve()})}deleteHttpCookieVisitorId(){return $(this,void 0,void 0,function*(){return Promise.resolve()})}}const Jy=globalThis.fetch;class Py{constructor(t){this.opts=t}sendEvent(t,a){return $(this,void 0,void 0,function*(){const{baseUrl:s,visitorIdProvider:c,preprocessRequest:o}=this.opts,f=this.shouldAppendVisitorId(t)?yield this.getVisitorIdParam():"",h={url:`${s}/analytics/${t}${f}`,credentials:"include",mode:"cors",headers:this.getHeaders(),method:"POST",body:JSON.stringify(a)},g=Object.assign(Object.assign({},h),o?yield o(h,"analyticsFetch"):{}),{url:m}=g,p=zn(g,["url"]);let v;try{v=yield Jy(m,p)}catch(S){console.error("An error has occured when sending the event.",S);return}if(v.ok){const S=yield v.json();return S.visitorId&&c.setCurrentVisitorId(S.visitorId),S}else{try{v.json()}catch{}throw console.error(`An error has occured when sending the "${t}" event.`,v,a),new Error(`An error has occurred when sending the "${t}" event. Check the console logs for more details.`)}})}deleteHttpCookieVisitorId(){return $(this,void 0,void 0,function*(){const{baseUrl:t}=this.opts,a=`${t}/analytics/visit`;yield Jy(a,{headers:this.getHeaders(),method:"DELETE"})})}shouldAppendVisitorId(t){return[Te.click,Te.custom,Te.search,Te.view].indexOf(t)!==-1}getVisitorIdParam(){return $(this,void 0,void 0,function*(){const{visitorIdProvider:t}=this.opts,a=yield t.getCurrentVisitorId();return a?`?visitor=${a}`:""})}getHeaders(){const{token:t}=this.opts;return Object.assign(Object.assign({},t?{Authorization:`Bearer ${t}`}:{}),{"Content-Type":"application/json"})}}class $E{constructor(t,a){ad()&&ky()?this.storage=new Bq:ad()?this.storage=localStorage:(console.warn("BrowserRuntime detected no valid storage available.",this),this.storage=new nc),this.client=new Py(t),this.beaconClient=new HE(t),window.addEventListener("beforeunload",()=>{const s=a();for(let{eventType:c,payload:o}of s)this.beaconClient.sendEvent(c,o)})}getClientDependingOnEventType(t){return t==="click"&&this.beaconClient.isAvailable()?this.beaconClient:this.client}}class GE{constructor(t,a){this.storage=a||new nc,this.client=new Py(t)}getClientDependingOnEventType(t){return this.client}}class Wy{constructor(){this.storage=new nc,this.client=new YE}getClientDependingOnEventType(t){return this.client}}const KE="xx",XE=e=>e?.startsWith(KE)||!1,ZE=`
        We've detected you're using React Native but have not provided the corresponding runtime, 
        for an optimal experience please use the "coveo.analytics/react-native" subpackage.
        Follow the Readme on how to set it up: https://github.com/coveo/coveo.analytics.js#using-react-native
    `;function JE(){return typeof navigator<"u"&&navigator.product=="ReactNative"}const PE=["1",1,"yes",!0];function hd(){const e=[];return td()&&e.push(window.doNotTrack),nd()&&e.push(navigator.doNotTrack,navigator.msDoNotTrack,navigator.globalPrivacyControl),e.some(t=>PE.indexOf(t)!==-1)}const ep="v15",tp={default:"https://analytics.cloud.coveo.com/rest/ua"};function WE(e=tp.default,t=ep,a=!1){if(e=e.replace(/\/$/,""),a)return`${e}/${t}`;const s=e.endsWith("/rest")||e.endsWith("/rest/ua");return`${e}${s?"":"/rest"}/${t}`}const eT="38824e1f-37f5-42d3-8372-a4b8fa9df946";class cc{get defaultOptions(){return{endpoint:tp.default,isCustomEndpoint:!1,token:"",version:ep,beforeSendHooks:[],afterSendHooks:[]}}get version(){return Ly}constructor(t){if(this.acceptedLinkReferrers=[],!t)throw new Error("You have to pass options to this constructor");this.options=Object.assign(Object.assign({},this.defaultOptions),t),this.visitorId="",this.bufferedRequests=[],this.beforeSendHooks=[Gq,jq].concat(this.options.beforeSendHooks),this.afterSendHooks=this.options.afterSendHooks,this.eventTypeMapping={};const a={baseUrl:this.baseUrl,token:this.options.token,visitorIdProvider:this,preprocessRequest:this.options.preprocessRequest};hd()?this.runtime=new Wy:this.runtime=this.options.runtimeEnvironment||this.initRuntime(a),this.addEventTypeMapping(Te.view,{newEventType:Te.view,addClientIdParameter:!0}),this.addEventTypeMapping(Te.click,{newEventType:Te.click,addClientIdParameter:!0}),this.addEventTypeMapping(Te.custom,{newEventType:Te.custom,addClientIdParameter:!0}),this.addEventTypeMapping(Te.search,{newEventType:Te.search,addClientIdParameter:!0})}initRuntime(t){return td()&&rd()?new $E(t,()=>{const a=[...this.bufferedRequests];return this.bufferedRequests=[],a}):(JE()&&console.warn(ZE),new GE(t))}get storage(){return this.runtime.storage}determineVisitorId(){return $(this,void 0,void 0,function*(){try{return td()&&this.extractClientIdFromLink(window.location.href)||(yield this.storage.getItem("visitorId"))||ud()}catch(t){return console.log("Could not get visitor ID from the current runtime environment storage. Using a random ID instead.",t),ud()}})}getCurrentVisitorId(){return $(this,void 0,void 0,function*(){if(!this.visitorId){const t=yield this.determineVisitorId();yield this.setCurrentVisitorId(t)}return this.visitorId})}setCurrentVisitorId(t){return $(this,void 0,void 0,function*(){this.visitorId=t,yield this.storage.setItem("visitorId",t)})}setClientId(t,a){return $(this,void 0,void 0,function*(){if(ic(t))this.setCurrentVisitorId(t.toLowerCase());else{if(!a)throw Error("Cannot generate uuid client id without a specific namespace string.");this.setCurrentVisitorId(jy(t,jy(a,eT)))}})}getParameters(t,...a){return $(this,void 0,void 0,function*(){return yield this.resolveParameters(t,...a)})}getPayload(t,...a){return $(this,void 0,void 0,function*(){const s=yield this.resolveParameters(t,...a);return yield this.resolvePayloadForParameters(t,s)})}get currentVisitorId(){return typeof(this.visitorId||this.storage.getItem("visitorId"))!="string"&&this.setCurrentVisitorId(ud()),this.visitorId}set currentVisitorId(t){this.visitorId=t,this.storage.setItem("visitorId",t)}extractClientIdFromLink(t){if(hd())return null;try{const a=new URL(t).searchParams.get(Pr.cvo_cid);if(a==null)return null;const s=Pr.fromString(a);return!s||!rd()||!s.validate(document.referrer,this.acceptedLinkReferrers)?null:s.clientId}catch{}return null}resolveParameters(t,...a){return $(this,void 0,void 0,function*(){const{variableLengthArgumentsNames:s=[],addVisitorIdParameter:c=!1,usesMeasurementProtocol:o=!1,addClientIdParameter:f=!1}=this.eventTypeMapping[t]||{};return yield[w=>s.length>0?this.parseVariableArgumentsPayload(s,w):w[0],w=>$(this,void 0,void 0,function*(){return Object.assign(Object.assign({},w),{visitorId:c?yield this.getCurrentVisitorId():""})}),w=>$(this,void 0,void 0,function*(){return f?Object.assign(Object.assign({},w),{clientId:yield this.getCurrentVisitorId()}):w}),w=>o?this.ensureAnonymousUserWhenUsingApiKey(w):w,w=>this.beforeSendHooks.reduce((C,A)=>$(this,void 0,void 0,function*(){const O=yield C;return yield A(t,O)}),w)].reduce((w,C)=>$(this,void 0,void 0,function*(){const A=yield w;return yield C(A)}),Promise.resolve(a))})}resolvePayloadForParameters(t,a){return $(this,void 0,void 0,function*(){const{usesMeasurementProtocol:s=!1}=this.eventTypeMapping[t]||{};return yield[v=>this.setTrackingIdIfTrackingIdNotPresent(v),v=>this.removeEmptyPayloadValues(v,t),v=>this.validateParams(v,t),v=>s?kE(v):v,v=>s?this.removeUnknownParameters(v):v,v=>s?this.processCustomParameters(v):this.mapCustomParametersToCustomData(v)].reduce((v,S)=>$(this,void 0,void 0,function*(){const w=yield v;return yield S(w)}),Promise.resolve(a))})}makeEvent(t,...a){return $(this,void 0,void 0,function*(){const{newEventType:s=t}=this.eventTypeMapping[t]||{},c=yield this.resolveParameters(t,...a),o=yield this.resolvePayloadForParameters(t,c);return{eventType:s,payload:o,log:f=>$(this,void 0,void 0,function*(){return this.bufferedRequests.push({eventType:s,payload:Object.assign(Object.assign({},o),f)}),yield Promise.all(this.afterSendHooks.map(h=>h(t,Object.assign(Object.assign({},c),f)))),yield this.deferExecution(),yield this.sendFromBuffer()})}})}sendEvent(t,...a){return $(this,void 0,void 0,function*(){return(yield this.makeEvent(t,...a)).log({})})}deferExecution(){return new Promise(t=>setTimeout(t,0))}sendFromBuffer(){return $(this,void 0,void 0,function*(){const t=this.bufferedRequests.shift();if(t){const{eventType:a,payload:s}=t;return this.runtime.getClientDependingOnEventType(a).sendEvent(a,s)}})}clear(){this.storage.removeItem("visitorId"),new Ny().clear()}deleteHttpOnlyVisitorId(){this.runtime.client.deleteHttpCookieVisitorId()}makeSearchEvent(t){return $(this,void 0,void 0,function*(){return this.makeEvent(Te.search,t)})}sendSearchEvent(t){return $(this,void 0,void 0,function*(){var{searchQueryUid:a}=t,s=zn(t,["searchQueryUid"]);return(yield this.makeSearchEvent(s)).log({searchQueryUid:a})})}makeClickEvent(t){return $(this,void 0,void 0,function*(){return this.makeEvent(Te.click,t)})}sendClickEvent(t){return $(this,void 0,void 0,function*(){var{searchQueryUid:a}=t,s=zn(t,["searchQueryUid"]);return(yield this.makeClickEvent(s)).log({searchQueryUid:a})})}makeCustomEvent(t){return $(this,void 0,void 0,function*(){return this.makeEvent(Te.custom,t)})}sendCustomEvent(t){return $(this,void 0,void 0,function*(){var{lastSearchQueryUid:a}=t,s=zn(t,["lastSearchQueryUid"]);return(yield this.makeCustomEvent(s)).log({lastSearchQueryUid:a})})}makeViewEvent(t){return $(this,void 0,void 0,function*(){return this.makeEvent(Te.view,t)})}sendViewEvent(t){return $(this,void 0,void 0,function*(){return(yield this.makeViewEvent(t)).log({})})}getVisit(){return $(this,void 0,void 0,function*(){const a=yield(yield fetch(`${this.baseUrl}/analytics/visit`)).json();return this.visitorId=a.visitorId,a})}getHealth(){return $(this,void 0,void 0,function*(){return yield(yield fetch(`${this.baseUrl}/analytics/monitoring/health`)).json()})}registerBeforeSendEventHook(t){this.beforeSendHooks.push(t)}registerAfterSendEventHook(t){this.afterSendHooks.push(t)}addEventTypeMapping(t,a){this.eventTypeMapping[t]=a}setAcceptedLinkReferrers(t){if(Array.isArray(t)&&t.every(a=>typeof a=="string"))this.acceptedLinkReferrers=t;else throw Error("Parameter should be an array of domain strings")}parseVariableArgumentsPayload(t,a){const s={};for(let c=0,o=a.length;c<o;c++){const f=a[c];if(typeof f=="string")s[t[c]]=f;else if(typeof f=="object")return Object.assign(Object.assign({},s),f)}return s}isKeyAllowedEmpty(t,a){return({[Te.search]:["queryText"]}[t]||[]).indexOf(a)!==-1}removeEmptyPayloadValues(t,a){const s=c=>typeof c<"u"&&c!==null&&c!=="";return Object.keys(t).filter(c=>this.isKeyAllowedEmpty(a,c)||s(t[c])).reduce((c,o)=>Object.assign(Object.assign({},c),{[o]:t[o]}),{})}removeUnknownParameters(t){return Object.keys(t).filter(s=>{if(VE(s))return!0;console.log(s,"is not processed by coveoua")}).reduce((s,c)=>Object.assign(Object.assign({},s),{[c]:t[c]}),{})}processCustomParameters(t){const{custom:a}=t,s=zn(t,["custom"]);let c={};a&&sc(a)&&(c=this.lowercaseKeys(a));const o=jE(s);return Object.assign(Object.assign({},c),o)}mapCustomParametersToCustomData(t){const{custom:a}=t,s=zn(t,["custom"]);if(a&&sc(a)){const c=this.lowercaseKeys(a);return Object.assign(Object.assign({},s),{customData:Object.assign(Object.assign({},c),t.customData)})}else return t}lowercaseKeys(t){const a=Object.keys(t);let s={};return a.forEach(c=>{s[c.toLowerCase()]=t[c]}),s}validateParams(t,a){const{anonymizeIp:s}=t,c=zn(t,["anonymizeIp"]);return s!==void 0&&["0","false","undefined","null","{}","[]",""].indexOf(`${s}`.toLowerCase())==-1&&(c.anonymizeIp=1),(a==Te.view||a==Te.click||a==Te.search||a==Te.custom)&&(c.originLevel3=this.limit(c.originLevel3,1024)),a==Te.view&&(c.location=this.limit(c.location,1024)),(a=="pageview"||a=="event")&&(c.referrer=this.limit(c.referrer,2048),c.location=this.limit(c.location,2048),c.page=this.limit(c.page,2048)),c}ensureAnonymousUserWhenUsingApiKey(t){const{userId:a}=t,s=zn(t,["userId"]);return XE(this.options.token)&&!a?(s.userId="anonymous",s):t}setTrackingIdIfTrackingIdNotPresent(t){const{trackingId:a}=t,s=zn(t,["trackingId"]);return a?t:(s.hasOwnProperty("custom")&&sc(s.custom)&&(s.custom.hasOwnProperty("context_website")||s.custom.hasOwnProperty("siteName"))&&(s.trackingId=s.custom.context_website||s.custom.siteName),s.hasOwnProperty("customData")&&sc(s.customData)&&(s.customData.hasOwnProperty("context_website")||s.customData.hasOwnProperty("siteName"))&&(s.trackingId=s.customData.context_website||s.customData.siteName),s)}limit(t,a){return typeof t=="string"?uE(t,a):t}get baseUrl(){return WE(this.options.endpoint,this.options.version,this.options.isCustomEndpoint)}}var Nn;(function(e){e.contextChanged="contextChanged",e.expandToFullUI="expandToFullUI",e.openUserActions="openUserActions",e.showPrecedingSessions="showPrecedingSessions",e.showFollowingSessions="showFollowingSessions",e.clickViewedDocument="clickViewedDocument",e.clickPageView="clickPageView",e.createArticle="createArticle"})(Nn||(Nn={}));var X;(function(e){e.interfaceLoad="interfaceLoad",e.interfaceChange="interfaceChange",e.didyoumeanAutomatic="didyoumeanAutomatic",e.didyoumeanClick="didyoumeanClick",e.resultsSort="resultsSort",e.searchboxSubmit="searchboxSubmit",e.searchboxClear="searchboxClear",e.searchboxAsYouType="searchboxAsYouType",e.breadcrumbFacet="breadcrumbFacet",e.breadcrumbResetAll="breadcrumbResetAll",e.documentQuickview="documentQuickview",e.documentOpen="documentOpen",e.omniboxAnalytics="omniboxAnalytics",e.omniboxFromLink="omniboxFromLink",e.searchFromLink="searchFromLink",e.triggerNotify="notify",e.triggerExecute="execute",e.triggerQuery="query",e.undoTriggerQuery="undoQuery",e.triggerRedirect="redirect",e.pagerResize="pagerResize",e.pagerNumber="pagerNumber",e.pagerNext="pagerNext",e.pagerPrevious="pagerPrevious",e.pagerScrolling="pagerScrolling",e.staticFilterClearAll="staticFilterClearAll",e.staticFilterSelect="staticFilterSelect",e.staticFilterDeselect="staticFilterDeselect",e.facetClearAll="facetClearAll",e.facetSearch="facetSearch",e.facetSelect="facetSelect",e.facetSelectAll="facetSelectAll",e.facetDeselect="facetDeselect",e.facetExclude="facetExclude",e.facetUnexclude="facetUnexclude",e.facetUpdateSort="facetUpdateSort",e.facetShowMore="showMoreFacetResults",e.facetShowLess="showLessFacetResults",e.queryError="query",e.queryErrorBack="errorBack",e.queryErrorClear="errorClearQuery",e.queryErrorRetry="errorRetry",e.recommendation="recommendation",e.recommendationInterfaceLoad="recommendationInterfaceLoad",e.recommendationOpen="recommendationOpen",e.likeSmartSnippet="likeSmartSnippet",e.dislikeSmartSnippet="dislikeSmartSnippet",e.expandSmartSnippet="expandSmartSnippet",e.collapseSmartSnippet="collapseSmartSnippet",e.openSmartSnippetFeedbackModal="openSmartSnippetFeedbackModal",e.closeSmartSnippetFeedbackModal="closeSmartSnippetFeedbackModal",e.sendSmartSnippetReason="sendSmartSnippetReason",e.expandSmartSnippetSuggestion="expandSmartSnippetSuggestion",e.collapseSmartSnippetSuggestion="collapseSmartSnippetSuggestion",e.showMoreSmartSnippetSuggestion="showMoreSmartSnippetSuggestion",e.showLessSmartSnippetSuggestion="showLessSmartSnippetSuggestion",e.openSmartSnippetSource="openSmartSnippetSource",e.openSmartSnippetSuggestionSource="openSmartSnippetSuggestionSource",e.openSmartSnippetInlineLink="openSmartSnippetInlineLink",e.openSmartSnippetSuggestionInlineLink="openSmartSnippetSuggestionInlineLink",e.recentQueryClick="recentQueriesClick",e.clearRecentQueries="clearRecentQueries",e.recentResultClick="recentResultClick",e.clearRecentResults="clearRecentResults",e.noResultsBack="noResultsBack",e.showMoreFoldedResults="showMoreFoldedResults",e.showLessFoldedResults="showLessFoldedResults",e.copyToClipboard="copyToClipboard",e.caseSendEmail="Case.SendEmail",e.feedItemTextPost="FeedItem.TextPost",e.caseAttach="caseAttach",e.caseDetach="caseDetach",e.retryGeneratedAnswer="retryGeneratedAnswer",e.likeGeneratedAnswer="likeGeneratedAnswer",e.dislikeGeneratedAnswer="dislikeGeneratedAnswer",e.openGeneratedAnswerSource="openGeneratedAnswerSource",e.generatedAnswerStreamEnd="generatedAnswerStreamEnd",e.generatedAnswerSourceHover="generatedAnswerSourceHover",e.generatedAnswerCopyToClipboard="generatedAnswerCopyToClipboard",e.generatedAnswerHideAnswers="generatedAnswerHideAnswers",e.generatedAnswerShowAnswers="generatedAnswerShowAnswers",e.generatedAnswerExpand="generatedAnswerExpand",e.generatedAnswerCollapse="generatedAnswerCollapse",e.generatedAnswerFeedbackSubmit="generatedAnswerFeedbackSubmit",e.rephraseGeneratedAnswer="rephraseGeneratedAnswer",e.generatedAnswerFeedbackSubmitV2="generatedAnswerFeedbackSubmitV2",e.generatedAnswerCitationClick="generatedAnswerCitationClick"})(X||(X={}));const np={[X.triggerNotify]:"queryPipelineTriggers",[X.triggerExecute]:"queryPipelineTriggers",[X.triggerQuery]:"queryPipelineTriggers",[X.triggerRedirect]:"queryPipelineTriggers",[X.queryErrorBack]:"errors",[X.queryErrorClear]:"errors",[X.queryErrorRetry]:"errors",[X.pagerNext]:"getMoreResults",[X.pagerPrevious]:"getMoreResults",[X.pagerNumber]:"getMoreResults",[X.pagerResize]:"getMoreResults",[X.pagerScrolling]:"getMoreResults",[X.facetSearch]:"facet",[X.facetShowLess]:"facet",[X.facetShowMore]:"facet",[X.recommendation]:"recommendation",[X.likeSmartSnippet]:"smartSnippet",[X.dislikeSmartSnippet]:"smartSnippet",[X.expandSmartSnippet]:"smartSnippet",[X.collapseSmartSnippet]:"smartSnippet",[X.openSmartSnippetFeedbackModal]:"smartSnippet",[X.closeSmartSnippetFeedbackModal]:"smartSnippet",[X.sendSmartSnippetReason]:"smartSnippet",[X.expandSmartSnippetSuggestion]:"smartSnippetSuggestions",[X.collapseSmartSnippetSuggestion]:"smartSnippetSuggestions",[X.showMoreSmartSnippetSuggestion]:"smartSnippetSuggestions",[X.showLessSmartSnippetSuggestion]:"smartSnippetSuggestions",[X.clearRecentQueries]:"recentQueries",[X.recentResultClick]:"recentlyClickedDocuments",[X.clearRecentResults]:"recentlyClickedDocuments",[X.showLessFoldedResults]:"folding",[X.caseDetach]:"case",[X.likeGeneratedAnswer]:"generatedAnswer",[X.dislikeGeneratedAnswer]:"generatedAnswer",[X.openGeneratedAnswerSource]:"generatedAnswer",[X.generatedAnswerStreamEnd]:"generatedAnswer",[X.generatedAnswerSourceHover]:"generatedAnswer",[X.generatedAnswerCopyToClipboard]:"generatedAnswer",[X.generatedAnswerHideAnswers]:"generatedAnswer",[X.generatedAnswerShowAnswers]:"generatedAnswer",[X.generatedAnswerExpand]:"generatedAnswer",[X.generatedAnswerCollapse]:"generatedAnswer",[X.generatedAnswerFeedbackSubmit]:"generatedAnswer",[X.generatedAnswerFeedbackSubmitV2]:"generatedAnswer",[Nn.expandToFullUI]:"interface",[Nn.openUserActions]:"User Actions",[Nn.showPrecedingSessions]:"User Actions",[Nn.showFollowingSessions]:"User Actions",[Nn.clickViewedDocument]:"User Actions",[Nn.clickPageView]:"User Actions",[Nn.createArticle]:"createArticle"};class rp{constructor(){this.runtime=new Wy,this.currentVisitorId=""}getPayload(){return Promise.resolve()}getParameters(){return Promise.resolve()}makeEvent(t){return Promise.resolve({eventType:t,payload:null,log:()=>Promise.resolve()})}sendEvent(){return Promise.resolve()}makeSearchEvent(){return this.makeEvent(Te.search)}sendSearchEvent(){return Promise.resolve()}makeClickEvent(){return this.makeEvent(Te.click)}sendClickEvent(){return Promise.resolve()}makeCustomEvent(){return this.makeEvent(Te.custom)}sendCustomEvent(){return Promise.resolve()}makeViewEvent(){return this.makeEvent(Te.view)}sendViewEvent(){return Promise.resolve()}getVisit(){return Promise.resolve({id:"",visitorId:""})}getHealth(){return Promise.resolve({status:""})}registerBeforeSendEventHook(){}registerAfterSendEventHook(){}addEventTypeMapping(){}get version(){return Ly}}function tT(e){let t="";return e.filter(a=>{const s=a!==t;return t=a,s})}function nT(e){return e.map(t=>t.replace(/;/g,""))}function ap(e){const a=e.join(";");return a.length<=256?a:ap(e.slice(1))}const ip=e=>{const t=nT(e),a=tT(t);return ap(a)};function sp(e){const t=typeof e.partialQueries=="string"?e.partialQueries:ip(e.partialQueries),a=typeof e.suggestions=="string"?e.suggestions:ip(e.suggestions);return Object.assign(Object.assign({},e),{partialQueries:t,suggestions:a})}class rT{constructor(t,a){this.opts=t,this.provider=a;const s=t.enableAnalytics===!1||hd();this.coveoAnalyticsClient=s?new rp:new cc(t)}disable(){this.coveoAnalyticsClient=new rp}enable(){this.coveoAnalyticsClient=new cc(this.opts)}makeInterfaceLoad(){return this.makeSearchEvent(X.interfaceLoad)}logInterfaceLoad(){return $(this,void 0,void 0,function*(){return(yield this.makeInterfaceLoad()).log({searchUID:this.provider.getSearchUID()})})}makeRecommendationInterfaceLoad(){return this.makeSearchEvent(X.recommendationInterfaceLoad)}logRecommendationInterfaceLoad(){return $(this,void 0,void 0,function*(){return(yield this.makeRecommendationInterfaceLoad()).log({searchUID:this.provider.getSearchUID()})})}makeRecommendation(){return this.makeCustomEvent(X.recommendation)}logRecommendation(){return $(this,void 0,void 0,function*(){return(yield this.makeRecommendation()).log({searchUID:this.provider.getSearchUID()})})}makeRecommendationOpen(t,a){return this.makeClickEvent(X.recommendationOpen,t,a)}logRecommendationOpen(t,a){return $(this,void 0,void 0,function*(){return(yield this.makeRecommendationOpen(t,a)).log({searchUID:this.provider.getSearchUID()})})}makeStaticFilterClearAll(t){return this.makeSearchEvent(X.staticFilterClearAll,t)}logStaticFilterClearAll(t){return $(this,void 0,void 0,function*(){return(yield this.makeStaticFilterClearAll(t)).log({searchUID:this.provider.getSearchUID()})})}makeStaticFilterSelect(t){return this.makeSearchEvent(X.staticFilterSelect,t)}logStaticFilterSelect(t){return $(this,void 0,void 0,function*(){return(yield this.makeStaticFilterSelect(t)).log({searchUID:this.provider.getSearchUID()})})}makeStaticFilterDeselect(t){return this.makeSearchEvent(X.staticFilterDeselect,t)}logStaticFilterDeselect(t){return $(this,void 0,void 0,function*(){return(yield this.makeStaticFilterDeselect(t)).log({searchUID:this.provider.getSearchUID()})})}makeFetchMoreResults(){return this.makeCustomEvent(X.pagerScrolling,{type:"getMoreResults"})}logFetchMoreResults(){return $(this,void 0,void 0,function*(){return(yield this.makeFetchMoreResults()).log({searchUID:this.provider.getSearchUID()})})}makeInterfaceChange(t){return this.makeSearchEvent(X.interfaceChange,t)}logInterfaceChange(t){return $(this,void 0,void 0,function*(){return(yield this.makeInterfaceChange(t)).log({searchUID:this.provider.getSearchUID()})})}makeDidYouMeanAutomatic(){return this.makeSearchEvent(X.didyoumeanAutomatic)}logDidYouMeanAutomatic(){return $(this,void 0,void 0,function*(){return(yield this.makeDidYouMeanAutomatic()).log({searchUID:this.provider.getSearchUID()})})}makeDidYouMeanClick(){return this.makeSearchEvent(X.didyoumeanClick)}logDidYouMeanClick(){return $(this,void 0,void 0,function*(){return(yield this.makeDidYouMeanClick()).log({searchUID:this.provider.getSearchUID()})})}makeResultsSort(t){return this.makeSearchEvent(X.resultsSort,t)}logResultsSort(t){return $(this,void 0,void 0,function*(){return(yield this.makeResultsSort(t)).log({searchUID:this.provider.getSearchUID()})})}makeSearchboxSubmit(){return this.makeSearchEvent(X.searchboxSubmit)}logSearchboxSubmit(){return $(this,void 0,void 0,function*(){return(yield this.makeSearchboxSubmit()).log({searchUID:this.provider.getSearchUID()})})}makeSearchboxClear(){return this.makeSearchEvent(X.searchboxClear)}logSearchboxClear(){return $(this,void 0,void 0,function*(){return(yield this.makeSearchboxClear()).log({searchUID:this.provider.getSearchUID()})})}makeSearchboxAsYouType(){return this.makeSearchEvent(X.searchboxAsYouType)}logSearchboxAsYouType(){return $(this,void 0,void 0,function*(){return(yield this.makeSearchboxAsYouType()).log({searchUID:this.provider.getSearchUID()})})}makeBreadcrumbFacet(t){return this.makeSearchEvent(X.breadcrumbFacet,t)}logBreadcrumbFacet(t){return $(this,void 0,void 0,function*(){return(yield this.makeBreadcrumbFacet(t)).log({searchUID:this.provider.getSearchUID()})})}makeBreadcrumbResetAll(){return this.makeSearchEvent(X.breadcrumbResetAll)}logBreadcrumbResetAll(){return $(this,void 0,void 0,function*(){return(yield this.makeBreadcrumbResetAll()).log({searchUID:this.provider.getSearchUID()})})}makeDocumentQuickview(t,a){return this.makeClickEvent(X.documentQuickview,t,a)}logDocumentQuickview(t,a){return $(this,void 0,void 0,function*(){return(yield this.makeDocumentQuickview(t,a)).log({searchUID:this.provider.getSearchUID()})})}makeDocumentOpen(t,a){return this.makeClickEvent(X.documentOpen,t,a)}logDocumentOpen(t,a){return $(this,void 0,void 0,function*(){return(yield this.makeDocumentOpen(t,a)).log({searchUID:this.provider.getSearchUID()})})}makeOmniboxAnalytics(t){return this.makeSearchEvent(X.omniboxAnalytics,sp(t))}logOmniboxAnalytics(t){return $(this,void 0,void 0,function*(){return(yield this.makeOmniboxAnalytics(t)).log({searchUID:this.provider.getSearchUID()})})}makeOmniboxFromLink(t){return this.makeSearchEvent(X.omniboxFromLink,sp(t))}logOmniboxFromLink(t){return $(this,void 0,void 0,function*(){return(yield this.makeOmniboxFromLink(t)).log({searchUID:this.provider.getSearchUID()})})}makeSearchFromLink(){return this.makeSearchEvent(X.searchFromLink)}logSearchFromLink(){return $(this,void 0,void 0,function*(){return(yield this.makeSearchFromLink()).log({searchUID:this.provider.getSearchUID()})})}makeTriggerNotify(t){return this.makeCustomEvent(X.triggerNotify,t)}logTriggerNotify(t){return $(this,void 0,void 0,function*(){return(yield this.makeTriggerNotify(t)).log({searchUID:this.provider.getSearchUID()})})}makeTriggerExecute(t){return this.makeCustomEvent(X.triggerExecute,t)}logTriggerExecute(t){return $(this,void 0,void 0,function*(){return(yield this.makeTriggerExecute(t)).log({searchUID:this.provider.getSearchUID()})})}makeTriggerQuery(){return this.makeCustomEvent(X.triggerQuery,{query:this.provider.getSearchEventRequestPayload().queryText},"queryPipelineTriggers")}logTriggerQuery(){return $(this,void 0,void 0,function*(){return(yield this.makeTriggerQuery()).log({searchUID:this.provider.getSearchUID()})})}makeUndoTriggerQuery(t){return this.makeSearchEvent(X.undoTriggerQuery,t)}logUndoTriggerQuery(t){return $(this,void 0,void 0,function*(){return(yield this.makeUndoTriggerQuery(t)).log({searchUID:this.provider.getSearchUID()})})}makeTriggerRedirect(t){return this.makeCustomEvent(X.triggerRedirect,Object.assign(Object.assign({},t),{query:this.provider.getSearchEventRequestPayload().queryText}))}logTriggerRedirect(t){return $(this,void 0,void 0,function*(){return(yield this.makeTriggerRedirect(t)).log({searchUID:this.provider.getSearchUID()})})}makePagerResize(t){return this.makeCustomEvent(X.pagerResize,t)}logPagerResize(t){return $(this,void 0,void 0,function*(){return(yield this.makePagerResize(t)).log({searchUID:this.provider.getSearchUID()})})}makePagerNumber(t){return this.makeCustomEvent(X.pagerNumber,t)}logPagerNumber(t){return $(this,void 0,void 0,function*(){return(yield this.makePagerNumber(t)).log({searchUID:this.provider.getSearchUID()})})}makePagerNext(t){return this.makeCustomEvent(X.pagerNext,t)}logPagerNext(t){return $(this,void 0,void 0,function*(){return(yield this.makePagerNext(t)).log({searchUID:this.provider.getSearchUID()})})}makePagerPrevious(t){return this.makeCustomEvent(X.pagerPrevious,t)}logPagerPrevious(t){return $(this,void 0,void 0,function*(){return(yield this.makePagerPrevious(t)).log({searchUID:this.provider.getSearchUID()})})}makePagerScrolling(){return this.makeCustomEvent(X.pagerScrolling)}logPagerScrolling(){return $(this,void 0,void 0,function*(){return(yield this.makePagerScrolling()).log({searchUID:this.provider.getSearchUID()})})}makeFacetClearAll(t){return this.makeSearchEvent(X.facetClearAll,t)}logFacetClearAll(t){return $(this,void 0,void 0,function*(){return(yield this.makeFacetClearAll(t)).log({searchUID:this.provider.getSearchUID()})})}makeFacetSearch(t){return this.makeSearchEvent(X.facetSearch,t)}logFacetSearch(t){return $(this,void 0,void 0,function*(){return(yield this.makeFacetSearch(t)).log({searchUID:this.provider.getSearchUID()})})}makeFacetSelect(t){return this.makeSearchEvent(X.facetSelect,t)}logFacetSelect(t){return $(this,void 0,void 0,function*(){return(yield this.makeFacetSelect(t)).log({searchUID:this.provider.getSearchUID()})})}makeFacetDeselect(t){return this.makeSearchEvent(X.facetDeselect,t)}logFacetDeselect(t){return $(this,void 0,void 0,function*(){return(yield this.makeFacetDeselect(t)).log({searchUID:this.provider.getSearchUID()})})}makeFacetExclude(t){return this.makeSearchEvent(X.facetExclude,t)}logFacetExclude(t){return $(this,void 0,void 0,function*(){return(yield this.makeFacetExclude(t)).log({searchUID:this.provider.getSearchUID()})})}makeFacetUnexclude(t){return this.makeSearchEvent(X.facetUnexclude,t)}logFacetUnexclude(t){return $(this,void 0,void 0,function*(){return(yield this.makeFacetUnexclude(t)).log({searchUID:this.provider.getSearchUID()})})}makeFacetSelectAll(t){return this.makeSearchEvent(X.facetSelectAll,t)}logFacetSelectAll(t){return $(this,void 0,void 0,function*(){return(yield this.makeFacetSelectAll(t)).log({searchUID:this.provider.getSearchUID()})})}makeFacetUpdateSort(t){return this.makeSearchEvent(X.facetUpdateSort,t)}logFacetUpdateSort(t){return $(this,void 0,void 0,function*(){return(yield this.makeFacetUpdateSort(t)).log({searchUID:this.provider.getSearchUID()})})}makeFacetShowMore(t){return this.makeCustomEvent(X.facetShowMore,t)}logFacetShowMore(t){return $(this,void 0,void 0,function*(){return(yield this.makeFacetShowMore(t)).log({searchUID:this.provider.getSearchUID()})})}makeFacetShowLess(t){return this.makeCustomEvent(X.facetShowLess,t)}logFacetShowLess(t){return $(this,void 0,void 0,function*(){return(yield this.makeFacetShowLess(t)).log({searchUID:this.provider.getSearchUID()})})}makeQueryError(t){return this.makeCustomEvent(X.queryError,t)}logQueryError(t){return $(this,void 0,void 0,function*(){return(yield this.makeQueryError(t)).log({searchUID:this.provider.getSearchUID()})})}makeQueryErrorBack(){return $(this,void 0,void 0,function*(){const t=yield this.makeCustomEvent(X.queryErrorBack);return{description:t.description,log:()=>$(this,void 0,void 0,function*(){return yield t.log({searchUID:this.provider.getSearchUID()}),this.logSearchEvent(X.queryErrorBack)})}})}logQueryErrorBack(){return $(this,void 0,void 0,function*(){return(yield this.makeQueryErrorBack()).log({searchUID:this.provider.getSearchUID()})})}makeQueryErrorRetry(){return $(this,void 0,void 0,function*(){const t=yield this.makeCustomEvent(X.queryErrorRetry);return{description:t.description,log:()=>$(this,void 0,void 0,function*(){return yield t.log({searchUID:this.provider.getSearchUID()}),this.logSearchEvent(X.queryErrorRetry)})}})}logQueryErrorRetry(){return $(this,void 0,void 0,function*(){return(yield this.makeQueryErrorRetry()).log({searchUID:this.provider.getSearchUID()})})}makeQueryErrorClear(){return $(this,void 0,void 0,function*(){const t=yield this.makeCustomEvent(X.queryErrorClear);return{description:t.description,log:()=>$(this,void 0,void 0,function*(){return yield t.log({searchUID:this.provider.getSearchUID()}),this.logSearchEvent(X.queryErrorClear)})}})}logQueryErrorClear(){return $(this,void 0,void 0,function*(){return(yield this.makeQueryErrorClear()).log({searchUID:this.provider.getSearchUID()})})}makeLikeSmartSnippet(){return this.makeCustomEvent(X.likeSmartSnippet)}logLikeSmartSnippet(){return $(this,void 0,void 0,function*(){return(yield this.makeLikeSmartSnippet()).log({searchUID:this.provider.getSearchUID()})})}makeDislikeSmartSnippet(){return this.makeCustomEvent(X.dislikeSmartSnippet)}logDislikeSmartSnippet(){return $(this,void 0,void 0,function*(){return(yield this.makeDislikeSmartSnippet()).log({searchUID:this.provider.getSearchUID()})})}makeExpandSmartSnippet(){return this.makeCustomEvent(X.expandSmartSnippet)}logExpandSmartSnippet(){return $(this,void 0,void 0,function*(){return(yield this.makeExpandSmartSnippet()).log({searchUID:this.provider.getSearchUID()})})}makeCollapseSmartSnippet(){return this.makeCustomEvent(X.collapseSmartSnippet)}logCollapseSmartSnippet(){return $(this,void 0,void 0,function*(){return(yield this.makeCollapseSmartSnippet()).log({searchUID:this.provider.getSearchUID()})})}makeOpenSmartSnippetFeedbackModal(){return this.makeCustomEvent(X.openSmartSnippetFeedbackModal)}logOpenSmartSnippetFeedbackModal(){return $(this,void 0,void 0,function*(){return(yield this.makeOpenSmartSnippetFeedbackModal()).log({searchUID:this.provider.getSearchUID()})})}makeCloseSmartSnippetFeedbackModal(){return this.makeCustomEvent(X.closeSmartSnippetFeedbackModal)}logCloseSmartSnippetFeedbackModal(){return $(this,void 0,void 0,function*(){return(yield this.makeCloseSmartSnippetFeedbackModal()).log({searchUID:this.provider.getSearchUID()})})}makeSmartSnippetFeedbackReason(t,a){return this.makeCustomEvent(X.sendSmartSnippetReason,{reason:t,details:a})}logSmartSnippetFeedbackReason(t,a){return $(this,void 0,void 0,function*(){return(yield this.makeSmartSnippetFeedbackReason(t,a)).log({searchUID:this.provider.getSearchUID()})})}makeExpandSmartSnippetSuggestion(t){return this.makeCustomEvent(X.expandSmartSnippetSuggestion,"documentId"in t?t:{documentId:t})}logExpandSmartSnippetSuggestion(t){return $(this,void 0,void 0,function*(){return(yield this.makeExpandSmartSnippetSuggestion(t)).log({searchUID:this.provider.getSearchUID()})})}makeCollapseSmartSnippetSuggestion(t){return this.makeCustomEvent(X.collapseSmartSnippetSuggestion,"documentId"in t?t:{documentId:t})}logCollapseSmartSnippetSuggestion(t){return $(this,void 0,void 0,function*(){return(yield this.makeCollapseSmartSnippetSuggestion(t)).log({searchUID:this.provider.getSearchUID()})})}makeShowMoreSmartSnippetSuggestion(t){return this.makeCustomEvent(X.showMoreSmartSnippetSuggestion,t)}logShowMoreSmartSnippetSuggestion(t){return $(this,void 0,void 0,function*(){return(yield this.makeShowMoreSmartSnippetSuggestion(t)).log({searchUID:this.provider.getSearchUID()})})}makeShowLessSmartSnippetSuggestion(t){return this.makeCustomEvent(X.showLessSmartSnippetSuggestion,t)}logShowLessSmartSnippetSuggestion(t){return $(this,void 0,void 0,function*(){return(yield this.makeShowLessSmartSnippetSuggestion(t)).log({searchUID:this.provider.getSearchUID()})})}makeOpenSmartSnippetSource(t,a){return this.makeClickEvent(X.openSmartSnippetSource,t,a)}logOpenSmartSnippetSource(t,a){return $(this,void 0,void 0,function*(){return(yield this.makeOpenSmartSnippetSource(t,a)).log({searchUID:this.provider.getSearchUID()})})}makeOpenSmartSnippetSuggestionSource(t,a){return this.makeClickEvent(X.openSmartSnippetSuggestionSource,t,{contentIDKey:a.documentId.contentIdKey,contentIDValue:a.documentId.contentIdValue},a)}makeCopyToClipboard(t,a){return this.makeClickEvent(X.copyToClipboard,t,a)}logCopyToClipboard(t,a){return $(this,void 0,void 0,function*(){return(yield this.makeCopyToClipboard(t,a)).log({searchUID:this.provider.getSearchUID()})})}logOpenSmartSnippetSuggestionSource(t,a){return $(this,void 0,void 0,function*(){return(yield this.makeOpenSmartSnippetSuggestionSource(t,a)).log({searchUID:this.provider.getSearchUID()})})}makeOpenSmartSnippetInlineLink(t,a){return this.makeClickEvent(X.openSmartSnippetInlineLink,t,{contentIDKey:a.contentIDKey,contentIDValue:a.contentIDValue},a)}logOpenSmartSnippetInlineLink(t,a){return $(this,void 0,void 0,function*(){return(yield this.makeOpenSmartSnippetInlineLink(t,a)).log({searchUID:this.provider.getSearchUID()})})}makeOpenSmartSnippetSuggestionInlineLink(t,a){return this.makeClickEvent(X.openSmartSnippetSuggestionInlineLink,t,{contentIDKey:a.documentId.contentIdKey,contentIDValue:a.documentId.contentIdValue},a)}logOpenSmartSnippetSuggestionInlineLink(t,a){return $(this,void 0,void 0,function*(){return(yield this.makeOpenSmartSnippetSuggestionInlineLink(t,a)).log({searchUID:this.provider.getSearchUID()})})}makeRecentQueryClick(){return this.makeSearchEvent(X.recentQueryClick)}logRecentQueryClick(){return $(this,void 0,void 0,function*(){return(yield this.makeRecentQueryClick()).log({searchUID:this.provider.getSearchUID()})})}makeClearRecentQueries(){return this.makeCustomEvent(X.clearRecentQueries)}logClearRecentQueries(){return $(this,void 0,void 0,function*(){return(yield this.makeClearRecentQueries()).log({searchUID:this.provider.getSearchUID()})})}makeRecentResultClick(t,a){return this.makeCustomEvent(X.recentResultClick,{info:t,identifier:a})}logRecentResultClick(t,a){return $(this,void 0,void 0,function*(){return(yield this.makeRecentResultClick(t,a)).log({searchUID:this.provider.getSearchUID()})})}makeClearRecentResults(){return this.makeCustomEvent(X.clearRecentResults)}logClearRecentResults(){return $(this,void 0,void 0,function*(){return(yield this.makeClearRecentResults()).log({searchUID:this.provider.getSearchUID()})})}makeNoResultsBack(){return this.makeSearchEvent(X.noResultsBack)}logNoResultsBack(){return $(this,void 0,void 0,function*(){return(yield this.makeNoResultsBack()).log({searchUID:this.provider.getSearchUID()})})}makeShowMoreFoldedResults(t,a){return this.makeClickEvent(X.showMoreFoldedResults,t,a)}logShowMoreFoldedResults(t,a){return $(this,void 0,void 0,function*(){return(yield this.makeShowMoreFoldedResults(t,a)).log({searchUID:this.provider.getSearchUID()})})}makeShowLessFoldedResults(){return this.makeCustomEvent(X.showLessFoldedResults)}logShowLessFoldedResults(){return $(this,void 0,void 0,function*(){return(yield this.makeShowLessFoldedResults()).log({searchUID:this.provider.getSearchUID()})})}makeEventDescription(t,a){var s;return{actionCause:a,customData:(s=t.payload)===null||s===void 0?void 0:s.customData}}makeCustomEvent(t,a){return $(this,arguments,void 0,function*(s,c,o=np[s]){this.coveoAnalyticsClient.getParameters;const f=Object.assign(Object.assign({},this.provider.getBaseMetadata()),c),h=Object.assign(Object.assign({},yield this.getBaseEventRequest(f)),{eventType:o,eventValue:s}),g=yield this.coveoAnalyticsClient.makeCustomEvent(h);return{description:this.makeEventDescription(g,s),log:({searchUID:m})=>g.log({lastSearchQueryUid:m})}})}logCustomEvent(t,a){return $(this,arguments,void 0,function*(s,c,o=np[s]){return(yield this.makeCustomEvent(s,c,o)).log({searchUID:this.provider.getSearchUID()})})}makeCustomEventWithType(t,a,s){return $(this,void 0,void 0,function*(){const c=Object.assign(Object.assign({},this.provider.getBaseMetadata()),s),o=Object.assign(Object.assign({},yield this.getBaseEventRequest(c)),{eventType:a,eventValue:t}),f=yield this.coveoAnalyticsClient.makeCustomEvent(o);return{description:this.makeEventDescription(f,t),log:({searchUID:h})=>f.log({lastSearchQueryUid:h})}})}logCustomEventWithType(t,a,s){return $(this,void 0,void 0,function*(){return(yield this.makeCustomEventWithType(t,a,s)).log({searchUID:this.provider.getSearchUID()})})}logSearchEvent(t,a){return $(this,void 0,void 0,function*(){return(yield this.makeSearchEvent(t,a)).log({searchUID:this.provider.getSearchUID()})})}makeSearchEvent(t,a){return $(this,void 0,void 0,function*(){const s=yield this.getBaseSearchEventRequest(t,a),c=yield this.coveoAnalyticsClient.makeSearchEvent(s);return{description:this.makeEventDescription(c,t),log:({searchUID:o})=>c.log({searchQueryUid:o})}})}makeClickEvent(t,a,s,c){return $(this,void 0,void 0,function*(){const o=Object.assign(Object.assign(Object.assign({},a),yield this.getBaseEventRequest(Object.assign(Object.assign({},s),c))),{queryPipeline:this.provider.getPipeline(),actionCause:t}),f=yield this.coveoAnalyticsClient.makeClickEvent(o);return{description:this.makeEventDescription(f,t),log:({searchUID:h})=>f.log({searchQueryUid:h})}})}logClickEvent(t,a,s,c){return $(this,void 0,void 0,function*(){return(yield this.makeClickEvent(t,a,s,c)).log({searchUID:this.provider.getSearchUID()})})}getBaseSearchEventRequest(t,a){return $(this,void 0,void 0,function*(){var s,c;return Object.assign(Object.assign(Object.assign({},yield this.getBaseEventRequest(Object.assign(Object.assign({},a),(c=(s=this.provider).getGeneratedAnswerMetadata)===null||c===void 0?void 0:c.call(s)))),this.provider.getSearchEventRequestPayload()),{queryPipeline:this.provider.getPipeline(),actionCause:t})})}getBaseEventRequest(t){return $(this,void 0,void 0,function*(){const a=Object.assign(Object.assign({},this.provider.getBaseMetadata()),t);return Object.assign(Object.assign(Object.assign({},this.getOrigins()),this.getSplitTestRun()),{customData:a,language:this.provider.getLanguage(),facetState:this.provider.getFacetState?this.provider.getFacetState():[],anonymous:this.provider.getIsAnonymous(),clientId:yield this.getClientId()})})}getOrigins(){var t,a;return{originContext:(a=(t=this.provider).getOriginContext)===null||a===void 0?void 0:a.call(t),originLevel1:this.provider.getOriginLevel1(),originLevel2:this.provider.getOriginLevel2(),originLevel3:this.provider.getOriginLevel3()}}getClientId(){return this.coveoAnalyticsClient instanceof cc?this.coveoAnalyticsClient.getCurrentVisitorId():void 0}getSplitTestRun(){const t=this.provider.getSplitTestRunName?this.provider.getSplitTestRunName():"",a=this.provider.getSplitTestRunVersion?this.provider.getSplitTestRunVersion():"";return Object.assign(Object.assign({},t&&{splitTestRunName:t}),a&&{splitTestRunVersion:a})}makeLikeGeneratedAnswer(t){return this.makeCustomEvent(X.likeGeneratedAnswer,t)}logLikeGeneratedAnswer(t){return $(this,void 0,void 0,function*(){return(yield this.makeLikeGeneratedAnswer(t)).log({searchUID:this.provider.getSearchUID()})})}makeDislikeGeneratedAnswer(t){return this.makeCustomEvent(X.dislikeGeneratedAnswer,t)}logDislikeGeneratedAnswer(t){return $(this,void 0,void 0,function*(){return(yield this.makeDislikeGeneratedAnswer(t)).log({searchUID:this.provider.getSearchUID()})})}makeOpenGeneratedAnswerSource(t){return this.makeCustomEvent(X.openGeneratedAnswerSource,t)}logOpenGeneratedAnswerSource(t){return $(this,void 0,void 0,function*(){return(yield this.makeOpenGeneratedAnswerSource(t)).log({searchUID:this.provider.getSearchUID()})})}makeGeneratedAnswerCitationClick(t,a){return this.makeClickEvent(X.generatedAnswerCitationClick,Object.assign(Object.assign({},t),{documentPosition:1}),{contentIDKey:a.documentId.contentIdKey,contentIDValue:a.documentId.contentIdValue},a)}logGeneratedAnswerCitationClick(t,a){return $(this,void 0,void 0,function*(){return(yield this.makeGeneratedAnswerCitationClick(t,a)).log({searchUID:this.provider.getSearchUID()})})}makeGeneratedAnswerSourceHover(t){return this.makeCustomEvent(X.generatedAnswerSourceHover,t)}logGeneratedAnswerSourceHover(t){return $(this,void 0,void 0,function*(){return(yield this.makeGeneratedAnswerSourceHover(t)).log({searchUID:this.provider.getSearchUID()})})}makeGeneratedAnswerCopyToClipboard(t){return this.makeCustomEvent(X.generatedAnswerCopyToClipboard,t)}logGeneratedAnswerCopyToClipboard(t){return $(this,void 0,void 0,function*(){return(yield this.makeGeneratedAnswerCopyToClipboard(t)).log({searchUID:this.provider.getSearchUID()})})}makeGeneratedAnswerHideAnswers(t){return this.makeCustomEvent(X.generatedAnswerHideAnswers,t)}logGeneratedAnswerHideAnswers(t){return $(this,void 0,void 0,function*(){return(yield this.makeGeneratedAnswerHideAnswers(t)).log({searchUID:this.provider.getSearchUID()})})}makeGeneratedAnswerShowAnswers(t){return this.makeCustomEvent(X.generatedAnswerShowAnswers,t)}logGeneratedAnswerShowAnswers(t){return $(this,void 0,void 0,function*(){return(yield this.makeGeneratedAnswerShowAnswers(t)).log({searchUID:this.provider.getSearchUID()})})}makeGeneratedAnswerExpand(t){return this.makeCustomEvent(X.generatedAnswerExpand,t)}logGeneratedAnswerExpand(t){return $(this,void 0,void 0,function*(){return(yield this.makeGeneratedAnswerExpand(t)).log({searchUID:this.provider.getSearchUID()})})}makeGeneratedAnswerCollapse(t){return this.makeCustomEvent(X.generatedAnswerCollapse,t)}logGeneratedAnswerCollapse(t){return $(this,void 0,void 0,function*(){return(yield this.makeGeneratedAnswerCollapse(t)).log({searchUID:this.provider.getSearchUID()})})}makeGeneratedAnswerFeedbackSubmit(t){return this.makeCustomEvent(X.generatedAnswerFeedbackSubmit,t)}logGeneratedAnswerFeedbackSubmit(t){return $(this,void 0,void 0,function*(){return(yield this.makeGeneratedAnswerFeedbackSubmit(t)).log({searchUID:this.provider.getSearchUID()})})}makeGeneratedAnswerFeedbackSubmitV2(t){return this.makeCustomEvent(X.generatedAnswerFeedbackSubmitV2,t)}logGeneratedAnswerFeedbackSubmitV2(t){return $(this,void 0,void 0,function*(){return(yield this.makeGeneratedAnswerFeedbackSubmitV2(t)).log({searchUID:this.provider.getSearchUID()})})}makeRephraseGeneratedAnswer(t){return this.makeSearchEvent(X.rephraseGeneratedAnswer,t)}logRephraseGeneratedAnswer(t){return $(this,void 0,void 0,function*(){return(yield this.makeRephraseGeneratedAnswer(t)).log({searchUID:this.provider.getSearchUID()})})}makeRetryGeneratedAnswer(){return this.makeSearchEvent(X.retryGeneratedAnswer)}logRetryGeneratedAnswer(){return $(this,void 0,void 0,function*(){return(yield this.makeRetryGeneratedAnswer()).log({searchUID:this.provider.getSearchUID()})})}makeGeneratedAnswerStreamEnd(t){return this.makeCustomEvent(X.generatedAnswerStreamEnd,t)}logGeneratedAnswerStreamEnd(t){return $(this,void 0,void 0,function*(){return(yield this.makeGeneratedAnswerStreamEnd(t)).log({searchUID:this.provider.getSearchUID()})})}}const up=Object.assign({},iE);Object.keys(up).map(e=>up[e]);var cp;(function(e){e.click="click",e.flowStart="flowStart"})(cp||(cp={}));var op;(function(e){e.enterInterface="ticket_create_start",e.fieldUpdate="ticket_field_update",e.fieldSuggestionClick="ticket_classification_click",e.documentSuggestionClick="documentSuggestionClick",e.documentSuggestionQuickview="documentSuggestionQuickview",e.suggestionRate="suggestion_rate",e.nextCaseStep="ticket_next_stage",e.caseCancelled="ticket_cancel",e.caseSolved="ticket_cancel",e.caseCreated="ticket_create"})(op||(op={}));var lp;(function(e){e.quit="Quit",e.solved="Solved"})(lp||(lp={}));const oc=()=>"default",aT=e=>{const t=e.configuration.search.locale.split("-")[0];return!t||t.length!==2?"en":t};class iT{getState;state;constructor(t){this.getState=t,this.state=t()}getLanguage(){return aT(this.state)}getBaseMetadata(){const{context:t,configuration:a}=this.state,s=t?.contextValues||{},c={};for(const[o,f]of Object.entries(s)){const h=`context_${o}`;c[h]=f}return a.analytics.analyticsMode==="legacy"&&(c.coveoHeadlessVersion=Wl),c}getOriginContext(){return this.state.configuration.analytics.originContext}getOriginLevel1(){return this.state.searchHub||oc()}getOriginLevel2(){return this.state.configuration.analytics.originLevel2}getOriginLevel3(){return this.state.configuration.analytics.originLevel3}getIsAnonymous(){return this.state.configuration.analytics.anonymous}}const sT=e=>new cc(e).getCurrentVisitorId(),uT=(e,t)=>typeof t=="function"?(...a)=>{const s=Ol(a[0]);try{return t.apply(t,a)}catch(c){return e.error(c,"Error in analytics preprocessRequest. Returning original request."),s}}:void 0,cT=(e,t)=>(...a)=>{const s=Ol(a[1]);try{return t.apply(t,a)}catch(c){return e.error(c,"Error in analytics hook. Returning original request."),s}},oT=1,lT=20,dp=5,dT=1,fp=8;function gd(){return{desiredCount:dp,numberOfValues:fp,set:{}}}function fT(e,t){return!!t&&t.facetId in e.facetSet}const hT=(e,t)=>e.search?.response.facets.find(a=>a.facetId===t),gT=(e,t)=>e.facetSet[t]?.request,mT=(e,t)=>{const a=hT(e,t);return fT(e,a)?a:void 0},yT=e=>e.search.isLoading;function us(e){const{activeValue:t,ancestryMap:a}=pT(e);return t?vT(t,a):[]}function pT(e){const t=[...e],a=new Map;for(;t.length>0;){const s=t.shift();if(s.state==="selected")return{activeValue:s,ancestryMap:a};if(a)for(const c of s.children)a.set(c,s);t.unshift(...s.children)}return{}}function vT(e,t){const a=[];if(!e)return[];let s=e;do a.unshift(s),s=t.get(s);while(s);return a}const ST=(e,t)=>e.categoryFacetSet[t]?.request,hp=(e,t)=>{const a=ST(e,t);return us(a?.currentValues??[])};function md(){return{}}function bT(e){return{request:e}}function yd(){return{}}function wT(e){return{request:e}}function pd(){return{}}function CT(e){return{request:e,hasBreadcrumbs:!0}}function vd(){return{}}const cs=(e,t)=>{const a=pp(t,e),s=a?a.field:"",c=Sd(s,e);return{facetId:e,facetField:s,facetTitle:c}};function lc(e,t){const{facetId:a,facetValue:s}=e,c=cs(a,t),o=vp(t,a);return{...c,facetValue:o==="hierarchical"?yp(t,a):s}}function Qn(e){return{facetSet:e.facetSet??vd(),categoryFacetSet:e.categoryFacetSet??md(),dateFacetSet:e.dateFacetSet??yd(),numericFacetSet:e.numericFacetSet??pd(),automaticFacetSet:e.automaticFacetSet??gd()}}const AT=e=>{const t=[];return qT(e).forEach((a,s)=>{const c=vp(e,a.facetId),o=MT(a,s+1);if(OT(a)){if(!!!hp(e,a.facetId).length)return;t.push({...o,...DT(e,a.facetId),facetType:c,state:"selected"});return}a.currentValues.forEach((f,h)=>{if(f.state==="idle")return;const g=gp(f,h+1,c),m=RT(a)?mp(f):TT(f);t.push({...o,...g,...m})})}),ET(e).forEach((a,s)=>{const c=xT(a,s+1);a.values.forEach((o,f)=>{if(o.state==="idle")return;const h=gp(o,f+1,"specific"),g=mp(o);t.push({...c,...h,...g})})}),t},RT=e=>e.type==="specific",OT=e=>e.type==="hierarchical",qT=e=>[...Object.values(e.facetSet),...Object.values(e.categoryFacetSet),...Object.values(e.dateFacetSet),...Object.values(e.numericFacetSet)].map(t=>t.request),ET=e=>[...Object.values(e.automaticFacetSet.set)].map(t=>t.response),gp=(e,t,a)=>({state:e.state,valuePosition:t,facetType:a}),TT=e=>({displayValue:`${e.start}..${e.end}`,value:`${e.start}..${e.end}`,start:e.start,end:e.end,endInclusive:e.endInclusive}),mp=e=>({displayValue:e.value,value:e.value}),yp=(e,t)=>hp(e,t).map(s=>s.value).join(";"),DT=(e,t)=>{const s=yp(e,t);return{value:s,valuePosition:1,displayValue:s}},xT=(e,t)=>({title:Sd(e.field,e.field),field:e.field,id:e.field,facetPosition:t}),MT=(e,t)=>({title:Sd(e.field,e.facetId),field:e.field,id:e.facetId,facetPosition:t}),Sd=(e,t)=>`${e}_${t}`,pp=(e,t)=>e.facetSet[t]?.request||e.categoryFacetSet[t]?.request||e.dateFacetSet[t]?.request||e.numericFacetSet[t]?.request||e.automaticFacetSet.set[t]?.response,vp=(e,t)=>{const a=pp(e,t);return a?a.type:"specific"},dc=e=>{if(_T(e))return e.generatedAnswer?.answerId;if(UT(e))return e.search?.response?.extendedResults?.generativeQuestionAnsweringId},_T=e=>"answer"in e&&"generatedAnswer"in e&&!Ae(e.generatedAnswer?.answerConfigurationId),UT=e=>"search"in e&&e.search!==void 0&&typeof e.search=="object",IT=e=>e.generatedAnswer?.fieldsToIncludeInCitations;Nt(e=>e.generatedAnswer?.citations,(e,t)=>t,(e,t)=>e?.find(a=>a.id===t));const Na=()=>({q:"",enableQuerySyntax:!1});var bd;(function(e){e.Ascending="ascending",e.Descending="descending"})(bd||(bd={}));var En;(function(e){e.Relevancy="relevancy",e.QRE="qre",e.Date="date",e.Field="field",e.NoSort="nosort"})(En||(En={}));const fc=e=>{if(xm(e))return e.map(t=>fc(t)).join(",");switch(e.by){case En.Relevancy:case En.QRE:case En.NoSort:return e.by;case En.Date:return`date ${e.order}`;case En.Field:return`@${e.field} ${e.order}`;default:return""}},FT=()=>({by:En.Relevancy});new se({values:{by:new Ki({enum:En,required:!0}),order:new Ki({enum:bd}),field:new re}});function wd(){return fc(FT())}class os{static set(t,a,s){let c,o,f;s&&(o=new Date,o.setTime(o.getTime()+s));const h=window.location.hostname,g=/^(\d{1,3}\.){3}\d{1,3}$/,m=/^([0-9a-fA-F]{0,4}:){2,7}[0-9a-fA-F]{0,4}$/;g.test(h)||m.test(h)||h.indexOf(".")===-1?Cd(t,a,o):(f=h.split("."),c=f[f.length-2]+"."+f[f.length-1],Cd(t,a,o,c))}static get(t){const a=t+"=",s=document.cookie.split(";");for(let c=0;c<s.length;c++){let o=s[c];if(o=o.replace(/^\s+/,""),o.lastIndexOf(a,0)===0)return o.substring(a.length,o.length)}return null}static erase(t){os.set(t,"",-1)}}function Cd(e,t,a,s){document.cookie=`${e}=${t}`+(a?`;expires=${a.toUTCString()}`:"")+(s?`;domain=${s}`:"")+";path=/;SameSite=Lax"}function kT(){return typeof navigator<"u"}function zT(){try{return typeof localStorage<"u"}catch{return!1}}function NT(){try{return typeof sessionStorage<"u"}catch{return!1}}function QT(){return!!(kT()&&navigator.cookieEnabled)}function VT(){return zT()?localStorage:QT()?new ls:NT()?sessionStorage:new jT}class ls{static prefix="coveo_";getItem(t){return os.get(`${ls.prefix}${t}`)}removeItem(t){os.erase(`${ls.prefix}${t}`)}setItem(t,a,s){os.set(`${ls.prefix}${t}`,a,s)}}class jT{getItem(t){return null}removeItem(t){}setItem(t,a){}}const hc="__coveo.analytics.history",LT=20,BT=1e3*60,HT=75;class sn{static instance=null;static getInstance(t){return sn.instance||(sn.instance=new sn(t)),sn.instance}store;constructor(t){this.store=t||VT()}addElement(t){t.internalTime=new Date().getTime(),t=this.cropQueryElement(this.stripEmptyQuery(t));const a=this.getHistoryWithInternalTime();a!==null?this.isValidEntry(t)&&this.setHistory([t].concat(a)):this.setHistory([t])}async addElementAsync(t){t.internalTime=new Date().getTime(),t=this.cropQueryElement(this.stripEmptyQuery(t));const a=await this.getHistoryWithInternalTimeAsync();a!==null?this.isValidEntry(t)&&this.setHistory([t].concat(a)):this.setHistory([t])}getHistory(){const t=this.getHistoryWithInternalTime();return this.stripEmptyQueries(this.stripInternalTime(t))}async getHistoryAsync(){const t=await this.getHistoryWithInternalTimeAsync();return this.stripEmptyQueries(this.stripInternalTime(t))}getHistoryWithInternalTime(){try{const t=this.store.getItem(hc);return t&&typeof t=="string"?JSON.parse(t):[]}catch{return[]}}async getHistoryWithInternalTimeAsync(){try{const t=await this.store.getItem(hc);return t?JSON.parse(t):[]}catch{return[]}}setHistory(t){try{this.store.setItem(hc,JSON.stringify(t.slice(0,LT)))}catch{}}clear(){try{this.store.removeItem(hc)}catch{}}getMostRecentElement(){const t=this.getHistoryWithInternalTime();return Array.isArray(t)?t.sort((s,c)=>(c.internalTime||0)-(s.internalTime||0))[0]:null}cropQueryElement(t){return t.name&&t.value&&t.name.toLowerCase()==="query"&&(t.value=t.value.slice(0,HT)),t}isValidEntry(t){const a=this.getMostRecentElement();return a&&a.value===t.value?(t.internalTime||0)-(a.internalTime||0)>BT:!0}stripInternalTime(t){return Array.isArray(t)?t.map(a=>{const{name:s,time:c,value:o}=a;return{name:s,time:c,value:o}}):[]}stripEmptyQuery(t){const{name:a,time:s,value:c}=t;return a&&typeof c=="string"&&a.toLowerCase()==="query"&&c.trim()===""?{name:a,time:s}:t}stripEmptyQueries(t){return t.map(a=>this.stripEmptyQuery(a))}}class Wr extends iT{static fallbackPipelineName="default";getFacetState(){return AT(Qn(this.getState()))}getPipeline(){return this.state.pipeline||this.state.search?.response.pipeline||Wr.fallbackPipelineName}getSearchEventRequestPayload(){return{queryText:this.queryText,responseTime:this.responseTime,results:this.resultURIs,numberOfResults:this.numberOfResults}}getSearchUID(){const t=this.getState();return t.search?.searchResponseId||t.search?.response.searchUid||lr().response.searchUid}getSplitTestRunName(){return this.state.search?.response.splitTestRun}getSplitTestRunVersion(){const t=!!this.getSplitTestRunName(),a=this.state.search?.response.pipeline||this.state.pipeline||Wr.fallbackPipelineName;return t?a:void 0}getBaseMetadata(){const t=this.getState(),a=super.getBaseMetadata(),s=dc(t);return s&&(a.generativeQuestionAnsweringId=s),a}getFacetMetadata(t,a){const c=this.getFacetRequest(t)?.field??"";return{...this.getBaseMetadata(),facetId:t,facetField:c,facetValue:a,facetTitle:`${c}_${t}`}}getFacetClearAllMetadata(t){const s=this.getFacetRequest(t)?.field??"";return{...this.getBaseMetadata(),facetId:t,facetField:s,facetTitle:`${s}_${t}`}}getFacetUpdateSortMetadata(t,a){const c=this.getFacetRequest(t)?.field??"";return{...this.getBaseMetadata(),facetId:t,facetField:c,criteria:a,facetTitle:`${c}_${t}`}}getRangeBreadcrumbFacetMetadata(t,a){const c=this.getFacetRequest(t)?.field??"";return{...this.getBaseMetadata(),facetId:t,facetField:c,facetRangeEnd:a.end,facetRangeEndInclusive:a.endInclusive,facetRangeStart:a.start,facetTitle:`${c}_${t}`}}getFacetRequest=t=>this.state.facetSet?.[t]?.request||this.state.categoryFacetSet?.[t]?.request||this.state.dateFacetSet?.[t]?.request||this.state.numericFacetSet?.[t]?.request||this.state.automaticFacetSet?.set[t]?.response;getResultSortMetadata(){return{...this.getBaseMetadata(),resultsSortBy:this.state.sortCriteria??wd()}}getStaticFilterToggleMetadata(t,a){return{...this.getBaseMetadata(),staticFilterId:t,staticFilterValue:a}}getStaticFilterClearAllMetadata(t){return{...this.getBaseMetadata(),staticFilterId:t}}getUndoTriggerQueryMetadata(t){return{...this.getBaseMetadata(),undoneQuery:t}}getCategoryBreadcrumbFacetMetadata(t,a){const c=this.getFacetRequest(t)?.field??"";return{...this.getBaseMetadata(),categoryFacetId:t,categoryFacetField:c,categoryFacetPath:a,categoryFacetTitle:`${c}_${t}`}}getOmniboxAnalyticsMetadata(t,a){const s=this.state.querySuggest?.[t],c=s.completions.map(g=>g.expression),o=s.partialQueries.length-1,f=s.partialQueries[o]||"",h=s.responseId;return{...this.getBaseMetadata(),suggestionRanking:c.indexOf(a),partialQuery:f,partialQueries:s.partialQueries.length>0?s.partialQueries:"",suggestions:c.length>0?c:"",querySuggestResponseId:h}}getInterfaceChangeMetadata(){return{...this.getBaseMetadata(),interfaceChangeTo:this.state.configuration.analytics.originLevel2}}getOmniboxFromLinkMetadata(t){return{...this.getBaseMetadata(),...t}}getGeneratedAnswerMetadata(){const t=this.getState(),a={};return t.generatedAnswer?.isVisible!==void 0&&(a.showGeneratedAnswer=t.generatedAnswer.isVisible),a}get resultURIs(){return this.results?.map(t=>({documentUri:t.uri,documentUriHash:t.raw.urihash}))}get results(){return this.state.search?.response.results}get queryText(){return this.state.query?.q||Na().q}get responseTime(){return this.state.search?.duration||lr().duration}get numberOfResults(){return this.state.search?.response.totalCountFiltered||lr().response.totalCountFiltered}}const YT=({logger:e,getState:t,analyticsClientMiddleware:a=(o,f)=>f,preprocessRequest:s,provider:c})=>{const o=t(),f=o.configuration.accessToken,h=o.configuration.analytics.apiBaseUrl??$r(o.configuration.organizationId,o.configuration.environment,"analytics"),g=o.configuration.analytics.runtimeEnvironment,m=o.configuration.analytics.enabled,p=new rT({token:f,endpoint:h,runtimeEnvironment:g,preprocessRequest:uT(e,s),beforeSendHooks:[cT(e,a),(v,S)=>(e.info({...S,type:v,endpoint:h,token:f},"Analytics request"),S)]},c);return m||p.disable(),p},Sp=()=>{const t=sn.getInstance().getHistory().reverse().find(a=>a.name==="PageView"&&a.value);return t?t.value:""};function $T(e){const t=bp(e),a=[e,...t].filter(c=>c.parentResult).map(c=>c.parentResult);return aR([e,...t,...a],c=>c.uniqueId)}function bp(e){return e.childResults?e.childResults.flatMap(t=>[t,...bp(t)]):[]}const Ad=()=>"";function GT(e,t){return{...new Wr(t).getBaseMetadata(),actionCause:e,type:e}}function KT(e){return Object.assign(e,{instantlyCallable:!0})}function XT(e,t){const a=o=>KT(Ce(e,o)),s=a(async(o,{getState:f,extra:h})=>{const{analyticsClientMiddleware:g,preprocessRequest:m,logger:p}=h;return await(await t({getState:f,analyticsClientMiddleware:g,preprocessRequest:m,logger:p})).log({state:f(),extra:h})});return Object.assign(s,{prepare:async({getState:o,analyticsClientMiddleware:f,preprocessRequest:h,logger:g})=>{const{description:m,log:p}=await t({getState:o,analyticsClientMiddleware:f,preprocessRequest:h,logger:g});return{description:m,action:a(async(v,{getState:S,extra:w})=>await p({state:S(),extra:w}))}}}),s}const ZT=(e,t,a)=>{function s(...c){const o=c.length===1?{...c[0],__legacy__getBuilder:t(c[0].__legacy__getBuilder),analyticsConfigurator:e,providerClass:a}:{prefix:c[0],__legacy__getBuilder:t(c[1]),__legacy__provider:c[2],analyticsConfigurator:e,providerClass:a};return WT(o)}return s},JT=e=>e.configuration.analytics.analyticsMode==="legacy",PT=e=>e.configuration.analytics.analyticsMode==="next",WT=({prefix:e,__legacy__getBuilder:t,__legacy__provider:a,analyticsPayloadBuilder:s,analyticsType:c,analyticsConfigurator:o,providerClass:f})=>(a??=h=>new f(h),XT(e,async({getState:h,analyticsClientMiddleware:g,preprocessRequest:m,logger:p})=>{const v=[],S={log:async({state:q})=>{for(const M of v)await M(q)}},w=h(),C=o({getState:h,logger:p,analyticsClientMiddleware:g,preprocessRequest:m,provider:a(h)}),A=await t(C,h());S.description=A?.description,v.push(async q=>{JT(q)&&await eD(A,a,q,p,C.coveoAnalyticsClient)});const{emit:O}=ed(w);return v.push(async q=>{if(PT(q)&&c&&s){const M=s(q);await aD(O,c,M)}}),S}));async function eD(e,t,a,s,c){t(()=>a);const o=await e?.log({searchUID:t(()=>a).getSearchUID()});s.info({client:c,response:o},"Analytics response")}const nt=ZT(e=>YT({...e,provider:e.provider||new Wr(e.getState)}),e=>e,Wr),wp={urihash:new re,sourcetype:new re,permanentid:new re},Rd={uniqueId:oe,raw:new se({values:wp}),title:oe,uri:oe,clickUri:oe,rankingModifier:new re({required:!1,emptyAllowed:!0})};function tD(e){return Object.assign({},...Object.keys(wp).map(t=>({[t]:e[t]})))}function nD(e){return Object.assign({},...Object.keys(Rd).map(t=>({[t]:e[t]})),{raw:tD(e.raw)})}const rD=e=>new Et(Rd).validate(nD(e));async function aD(e,t,a){await e(t,a)}var Mt;(function(e){e.interfaceLoad="interfaceLoad",e.interfaceChange="interfaceChange",e.didYouMeanAutomatic="didYouMeanAutomatic",e.didYouMeanClick="didYouMeanClick",e.resultsSort="resultsSort",e.searchboxSubmit="searchboxSubmit",e.searchboxAsYouType="searchboxAsYouType",e.breadcrumbFacet="breadcrumbFacet",e.breadcrumbResetAll="breadcrumbResetAll",e.documentOpen="documentOpen",e.omniboxAnalytics="omniboxAnalytics",e.omniboxFromLink="omniboxFromLink",e.searchFromLink="searchFromLink",e.triggerQuery="query",e.browseResults="browseResults",e.staticFilterDeselect="staticFilterDeselect",e.facetClearAll="facetClearAll",e.facetSelect="facetSelect",e.facetDeselect="facetDeselect",e.facetExclude="facetExclude",e.facetUnexclude="facetUnexclude",e.facetUpdateSort="facetUpdateSort",e.documentSuggestion="documentSuggestion",e.facetShowMore="showMoreFacetResults",e.facetShowLess="showLessFacetResults",e.queryError="query",e.recommendationInterfaceLoad="recommendationInterfaceLoad",e.likeSmartSnippet="likeSmartSnippet",e.dislikeSmartSnippet="dislikeSmartSnippet",e.expandSmartSnippet="expandSmartSnippet",e.collapseSmartSnippet="collapseSmartSnippet",e.openSmartSnippetFeedbackModal="openSmartSnippetFeedbackModal",e.closeSmartSnippetFeedbackModal="closeSmartSnippetFeedbackModal",e.sendSmartSnippetReason="sendSmartSnippetReason",e.expandSmartSnippetSuggestion="expandSmartSnippetSuggestion",e.collapseSmartSnippetSuggestion="collapseSmartSnippetSuggestion",e.openSmartSnippetSource="openSmartSnippetSource",e.openSmartSnippetSuggestionSource="openSmartSnippetSuggestionSource",e.showMoreFoldedResults="showMoreFoldedResults",e.showLessFoldedResults="showLessFoldedResults",e.copyToClipboard="copyToClipboard",e.caseSendEmail="Case.SendEmail",e.feedItemTextPost="FeedItem.TextPost",e.caseAttach="caseAttach",e.caseDetach="caseDetach",e.retryGeneratedAnswer="retryGeneratedAnswer",e.likeGeneratedAnswer="likeGeneratedAnswer",e.dislikeGeneratedAnswer="dislikeGeneratedAnswer",e.openGeneratedAnswerSource="openGeneratedAnswerSource",e.generatedAnswerStreamEnd="generatedAnswerStreamEnd",e.contextChanged="contextChanged",e.generatedAnswerSourceHover="generatedAnswerSourceHover",e.generatedAnswerFeedbackSubmit="generatedAnswerFeedbackSubmit",e.generatedAnswerHideAnswers="generatedAnswerHideAnswers",e.generatedAnswerShowAnswers="generatedAnswerShowAnswers",e.generatedAnswerExpand="generatedAnswerExpand",e.generatedAnswerCollapse="generatedAnswerCollapse",e.generatedAnswerCopyToClipboard="generatedAnswerCopyToClipboard",e.expandToFullUI="expandToFullUI",e.createArticle="createArticle",e.recentQueriesClick="recentQueriesClick",e.clearRecentQueries="clearRecentQueries"})(Mt||(Mt={}));const iD=()=>nt("analytics/interface/load",e=>e.makeInterfaceLoad()),sD=()=>nt("analytics/interface/searchFromLink",e=>e.makeSearchFromLink()),uD=e=>nt("analytics/interface/omniboxFromLink",t=>t.makeOmniboxFromLink(e)),cD=()=>({actionCause:Mt.interfaceLoad}),oD=()=>({actionCause:Mt.searchFromLink}),lD=()=>({actionCause:Mt.omniboxFromLink}),Od=()=>mt,Cp=()=>oe,gc=I("configuration/updateBasicConfiguration",e=>Y(e,{accessToken:mt,environment:new re({required:!1,constrainTo:["prod","hipaa","stg","dev"]}),organizationId:mt})),ds=I("configuration/updateSearchConfiguration",e=>Y(e,{proxyBaseUrl:new re({required:!1,url:!0}),pipeline:new re({required:!1,emptyAllowed:!0}),searchHub:mt,timezone:mt,locale:mt,authenticationProviders:new be({required:!1,each:oe})})),dD={enabled:new Ee({default:!0}),originContext:Od(),originLevel2:Od(),originLevel3:Od(),proxyBaseUrl:new re({required:!1,url:!0}),runtimeEnvironment:new dt,anonymous:new Ee({default:!1}),deviceId:mt,userDisplayName:mt,documentLocation:mt,trackingId:oO,analyticsMode:new re({constrainTo:["legacy","next"],required:!1,default:"next"}),source:new se({options:{required:!1},values:kq.reduce((e,t)=>(e[t]=cO,e),{})})},qd=I("configuration/updateAnalyticsConfiguration",e=>Y(e,dD)),Ap=I("configuration/analytics/disable"),Rp=I("configuration/analytics/enable"),fD=I("configuration/analytics/originlevel2",e=>Y(e,{originLevel2:Cp()})),hD=I("configuration/analytics/originlevel3",e=>Y(e,{originLevel3:Cp()})),Op={q:new re,enableQuerySyntax:new Ee,aq:new re,cq:new re,firstResult:new ye({min:0}),numberOfResults:new ye({min:0}),sortCriteria:new re,f:new se,fExcluded:new se,cf:new se,nf:new se,mnf:new se,df:new se,debug:new Ee,sf:new se,tab:new re,af:new se},It=I("searchParameters/restore",e=>Y(e,Op)),qp=I("searchParameters/restoreTab",e=>Y(e,oe)),gD=I("debug/enable"),mD=I("debug/disable"),Ep=()=>!1,yD=qe(Ep(),e=>{e.addCase(gD,()=>!0).addCase(mD,()=>!1).addCase(It,(t,a)=>a.payload.debug??t)}),Tp=I("history/undo"),Dp=I("history/redo"),Tn=I("history/snapshot");Ce("history/back",async(e,{dispatch:t})=>{t(Tp()),await t(ot())}),Ce("history/forward",async(e,{dispatch:t})=>{t(Dp()),await t(ot())});const ot=Ce("history/change",async(e,{getState:t})=>t().history.present),xp=I("pipeline/set",e=>Y(e,new re({required:!0,emptyAllowed:!0}))),pD=qe(Ad(),e=>{e.addCase(xp,(t,a)=>a.payload).addCase(ot.fulfilled,(t,a)=>a.payload?.pipeline??t).addCase(ds,(t,a)=>a.payload.pipeline||t)}),hr=I("breadcrumb/deselectAll"),Mp=I("breadcrumb/deselectAllNonBreadcrumbs"),Ed=I("facet/updateFacetAutoSelection",e=>Y(e,{allow:new Ee({required:!0})}));class vD extends Wr{getState;constructor(t){super(t),this.getState=t}get activeInstantResultQuery(){const t=this.getState().instantResults;for(const a in t)for(const s in t[a].cache)if(t[a].cache[s].isActive)return t[a].q;return null}get activeInstantResultCache(){const t=this.getState().instantResults;for(const a in t)for(const s in t[a].cache)if(t[a].cache[s].isActive)return t[a].cache[s];return null}get results(){return this.activeInstantResultCache?.results}get queryText(){return this.activeInstantResultQuery??Na().q}get responseTime(){return this.activeInstantResultCache?.duration??lr().duration}get numberOfResults(){return this.activeInstantResultCache?.totalCountFiltered??lr().response.totalCountFiltered}getSearchUID(){return this.activeInstantResultCache?.searchUid||super.getSearchUID()}}const SD=()=>nt("analytics/instantResult/searchboxAsYouType",e=>e.makeSearchboxAsYouType(),e=>new vD(e)),bD=()=>({actionCause:Mt.searchboxAsYouType}),Td={id:oe},wD={...Td,q:Dt},_p=I("instantResults/register",e=>Y(e,Td)),mc=I("instantResults/updateQuery",e=>Y(e,wD)),Up=I("instantResults/clearExpired",e=>Y(e,Td)),yc=new ye({required:!0,min:0}),CD=I("pagination/registerNumberOfResults",e=>Y(e,yc)),AD=I("pagination/updateNumberOfResults",e=>Y(e,yc)),RD=I("pagination/registerPage",e=>Y(e,yc)),Ip=I("pagination/updatePage",e=>Y(e,yc)),OD=I("pagination/nextPage"),qD=I("pagination/previousPage"),pc=I("query/updateQuery",e=>Y(e,{q:new re,enableQuerySyntax:new Ee})),vc=(e,t,a)=>({analytics:{clientId:t.clientId,clientTimestamp:new Date().toISOString(),documentReferrer:t.referrer,documentLocation:t.location,originContext:e.originContext,...a&&{actionCause:a.actionCause},...a&&{customData:a.customData},...e.userDisplayName&&{userDisplayName:e.userDisplayName},...e.deviceId&&{deviceId:e.deviceId},...e.trackingId&&{trackingId:e.trackingId},capture:t.capture??t.clientId!=="",source:tc(e)}}),Dd=(e,t,a)=>({accessToken:e.configuration.accessToken,organizationId:e.configuration.organizationId,url:e.configuration.search.apiBaseUrl??Fn(e.configuration.organizationId,e.configuration.environment),locale:e.configuration.search.locale,debug:e.debug,tab:e.configuration.analytics.originLevel2,referrer:t.referrer,timezone:e.configuration.search.timezone,...e.advancedSearchQueries?.aq&&{aq:e.advancedSearchQueries.aq},...e.advancedSearchQueries?.cq&&{cq:e.advancedSearchQueries.cq},...e.advancedSearchQueries?.lq&&{lq:e.advancedSearchQueries.lq},...e.advancedSearchQueries?.dq&&{dq:e.advancedSearchQueries.dq},...e.context&&{context:e.context.contextValues},...e.fields&&!e.fields.fetchAllFields&&{fieldsToInclude:e.fields.fieldsToInclude},...e.dictionaryFieldContext&&{dictionaryFieldContext:e.dictionaryFieldContext.contextValues},...e.pipeline&&{pipeline:e.pipeline},...e.query&&{q:e.query.q,enableQuerySyntax:e.query.enableQuerySyntax},...e.searchHub&&{searchHub:e.searchHub},...e.sortCriteria&&{sortCriteria:e.sortCriteria},...e.configuration.analytics.enabled&&vc(e.configuration.analytics,t,a),...e.excerptLength&&!Ae(e.excerptLength.length)&&{excerptLength:e.excerptLength.length},...e.configuration.search.authenticationProviders.length&&{authentication:e.configuration.search.authenticationProviders.join(",")}}),xd=async(e,t)=>{const a=e.analyticsMode==="next";return{analytics:{clientId:await sT(e),clientTimestamp:new Date().toISOString(),documentReferrer:e.originLevel3,originContext:e.originContext,...t&&{actionCause:t.actionCause,customData:t.customData},...t&&!a&&{customData:t.customData},...e.userDisplayName&&{userDisplayName:e.userDisplayName},...e.documentLocation&&{documentLocation:e.documentLocation},...e.deviceId&&{deviceId:e.deviceId},...Sp()&&{pageId:Sp()},...a&&e.trackingId&&{trackingId:e.trackingId},capture:a,...a&&{source:tc(e)}}}},Sc=async(e,t)=>({accessToken:e.configuration.accessToken,organizationId:e.configuration.organizationId,url:e.configuration.search.apiBaseUrl??Fn(e.configuration.organizationId,e.configuration.environment),locale:e.configuration.search.locale,debug:e.debug,tab:e.configuration.analytics.originLevel2,referrer:e.configuration.analytics.originLevel3,timezone:e.configuration.search.timezone,...e.configuration.analytics.enabled&&{actionsHistory:sn.getInstance().getHistory()},...e.advancedSearchQueries?.aq&&{aq:e.advancedSearchQueries.aq},...e.advancedSearchQueries?.cq&&{cq:e.advancedSearchQueries.cq},...e.advancedSearchQueries?.lq&&{lq:e.advancedSearchQueries.lq},...e.advancedSearchQueries?.dq&&{dq:e.advancedSearchQueries.dq},...e.context&&{context:e.context.contextValues},...e.fields&&!e.fields.fetchAllFields&&{fieldsToInclude:e.fields.fieldsToInclude},...e.dictionaryFieldContext&&{dictionaryFieldContext:e.dictionaryFieldContext.contextValues},...e.pipeline&&{pipeline:e.pipeline},...e.query&&{q:e.query.q,enableQuerySyntax:e.query.enableQuerySyntax},...e.searchHub&&{searchHub:e.searchHub},...e.sortCriteria&&{sortCriteria:e.sortCriteria},...e.configuration.analytics.enabled&&await xd(e.configuration.analytics,t),...e.excerptLength&&!Ae(e.excerptLength.length)&&{excerptLength:e.excerptLength.length},...e.configuration.search.authenticationProviders.length&&{authentication:e.configuration.search.authenticationProviders.join(",")}}),fs=()=>({cq:"",cqWasSet:!1,aq:"",aqWasSet:!1,lq:"",lqWasSet:!1,dq:"",dqWasSet:!1,defaultFilters:{cq:"",aq:"",lq:"",dq:""}}),Fp=()=>nt("search/logFetchMoreResults",e=>e.makeFetchMoreResults()),Qa=e=>nt("search/queryError",(t,a)=>t.makeQueryError({query:a.query?.q||Na().q,aq:a.advancedSearchQueries?.aq||fs().aq,cq:a.advancedSearchQueries?.cq||fs().cq,dq:a.advancedSearchQueries?.dq||fs().dq,errorType:e.type,errorMessage:e.message}));var kp=60,zp=kp*60,Np=zp*24,ED=Np*7,Va=1e3,bc=kp*Va,Qp=zp*Va,TD=Np*Va,DD=ED*Va,wc="millisecond",ja="second",Vn="minute",La="hour",Dn="day",Cc="week",Qt="month",Ac="quarter",gr="year",Ba="date",xD="YYYY-MM-DDTHH:mm:ssZ",Vp="Invalid Date",MD=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,_D=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g;const UD={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(t){var a=["th","st","nd","rd"],s=t%100;return"["+t+(a[(s-20)%10]||a[s]||a[0])+"]"}};var Md=function(t,a,s){var c=String(t);return!c||c.length>=a?t:""+Array(a+1-c.length).join(s)+t},ID=function(t){var a=-t.utcOffset(),s=Math.abs(a),c=Math.floor(s/60),o=s%60;return(a<=0?"+":"-")+Md(c,2,"0")+":"+Md(o,2,"0")},FD=function e(t,a){if(t.date()<a.date())return-e(a,t);var s=(a.year()-t.year())*12+(a.month()-t.month()),c=t.clone().add(s,Qt),o=a-c<0,f=t.clone().add(s+(o?-1:1),Qt);return+(-(s+(a-c)/(o?c-f:f-c))||0)},kD=function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},zD=function(t){var a={M:Qt,y:gr,w:Cc,d:Dn,D:Ba,h:La,m:Vn,s:ja,ms:wc,Q:Ac};return a[t]||String(t||"").toLowerCase().replace(/s$/,"")},ND=function(t){return t===void 0};const QD={s:Md,z:ID,m:FD,a:kD,p:zD,u:ND};var hs="en",ea={};ea[hs]=UD;var jp="$isDayjsObject",_d=function(t){return t instanceof Oc||!!(t&&t[jp])},Rc=function e(t,a,s){var c;if(!t)return hs;if(typeof t=="string"){var o=t.toLowerCase();ea[o]&&(c=o),a&&(ea[o]=a,c=o);var f=t.split("-");if(!c&&f.length>1)return e(f[0])}else{var h=t.name;ea[h]=t,c=h}return!s&&c&&(hs=c),c||!s&&hs},$e=function(t,a){if(_d(t))return t.clone();var s=typeof a=="object"?a:{};return s.date=t,s.args=arguments,new Oc(s)},VD=function(t,a){return $e(t,{locale:a.$L,utc:a.$u,x:a.$x,$offset:a.$offset})},Le=QD;Le.l=Rc,Le.i=_d,Le.w=VD;var jD=function(t){var a=t.date,s=t.utc;if(a===null)return new Date(NaN);if(Le.u(a))return new Date;if(a instanceof Date)return new Date(a);if(typeof a=="string"&&!/Z$/i.test(a)){var c=a.match(MD);if(c){var o=c[2]-1||0,f=(c[7]||"0").substring(0,3);return s?new Date(Date.UTC(c[1],o,c[3]||1,c[4]||0,c[5]||0,c[6]||0,f)):new Date(c[1],o,c[3]||1,c[4]||0,c[5]||0,c[6]||0,f)}}return new Date(a)},Oc=(function(){function e(a){this.$L=Rc(a.locale,null,!0),this.parse(a),this.$x=this.$x||a.x||{},this[jp]=!0}var t=e.prototype;return t.parse=function(s){this.$d=jD(s),this.init()},t.init=function(){var s=this.$d;this.$y=s.getFullYear(),this.$M=s.getMonth(),this.$D=s.getDate(),this.$W=s.getDay(),this.$H=s.getHours(),this.$m=s.getMinutes(),this.$s=s.getSeconds(),this.$ms=s.getMilliseconds()},t.$utils=function(){return Le},t.isValid=function(){return this.$d.toString()!==Vp},t.isSame=function(s,c){var o=$e(s);return this.startOf(c)<=o&&o<=this.endOf(c)},t.isAfter=function(s,c){return $e(s)<this.startOf(c)},t.isBefore=function(s,c){return this.endOf(c)<$e(s)},t.$g=function(s,c,o){return Le.u(s)?this[c]:this.set(o,s)},t.unix=function(){return Math.floor(this.valueOf()/1e3)},t.valueOf=function(){return this.$d.getTime()},t.startOf=function(s,c){var o=this,f=Le.u(c)?!0:c,h=Le.p(s),g=function(q,M){var R=Le.w(o.$u?Date.UTC(o.$y,M,q):new Date(o.$y,M,q),o);return f?R:R.endOf(Dn)},m=function(q,M){var R=[0,0,0,0],U=[23,59,59,999];return Le.w(o.toDate()[q].apply(o.toDate("s"),(f?R:U).slice(M)),o)},p=this.$W,v=this.$M,S=this.$D,w="set"+(this.$u?"UTC":"");switch(h){case gr:return f?g(1,0):g(31,11);case Qt:return f?g(1,v):g(0,v+1);case Cc:{var C=this.$locale().weekStart||0,A=(p<C?p+7:p)-C;return g(f?S-A:S+(6-A),v)}case Dn:case Ba:return m(w+"Hours",0);case La:return m(w+"Minutes",1);case Vn:return m(w+"Seconds",2);case ja:return m(w+"Milliseconds",3);default:return this.clone()}},t.endOf=function(s){return this.startOf(s,!1)},t.$set=function(s,c){var o,f=Le.p(s),h="set"+(this.$u?"UTC":""),g=(o={},o[Dn]=h+"Date",o[Ba]=h+"Date",o[Qt]=h+"Month",o[gr]=h+"FullYear",o[La]=h+"Hours",o[Vn]=h+"Minutes",o[ja]=h+"Seconds",o[wc]=h+"Milliseconds",o)[f],m=f===Dn?this.$D+(c-this.$W):c;if(f===Qt||f===gr){var p=this.clone().set(Ba,1);p.$d[g](m),p.init(),this.$d=p.set(Ba,Math.min(this.$D,p.daysInMonth())).$d}else g&&this.$d[g](m);return this.init(),this},t.set=function(s,c){return this.clone().$set(s,c)},t.get=function(s){return this[Le.p(s)]()},t.add=function(s,c){var o=this,f;s=Number(s);var h=Le.p(c),g=function(S){var w=$e(o);return Le.w(w.date(w.date()+Math.round(S*s)),o)};if(h===Qt)return this.set(Qt,this.$M+s);if(h===gr)return this.set(gr,this.$y+s);if(h===Dn)return g(1);if(h===Cc)return g(7);var m=(f={},f[Vn]=bc,f[La]=Qp,f[ja]=Va,f)[h]||1,p=this.$d.getTime()+s*m;return Le.w(p,this)},t.subtract=function(s,c){return this.add(s*-1,c)},t.format=function(s){var c=this,o=this.$locale();if(!this.isValid())return o.invalidDate||Vp;var f=s||xD,h=Le.z(this),g=this.$H,m=this.$m,p=this.$M,v=o.weekdays,S=o.months,w=o.meridiem,C=function(R,U,Z,k){return R&&(R[U]||R(c,f))||Z[U].slice(0,k)},A=function(R){return Le.s(g%12||12,R,"0")},O=w||function(M,R,U){var Z=M<12?"AM":"PM";return U?Z.toLowerCase():Z},q=function(R){switch(R){case"YY":return String(c.$y).slice(-2);case"YYYY":return Le.s(c.$y,4,"0");case"M":return p+1;case"MM":return Le.s(p+1,2,"0");case"MMM":return C(o.monthsShort,p,S,3);case"MMMM":return C(S,p);case"D":return c.$D;case"DD":return Le.s(c.$D,2,"0");case"d":return String(c.$W);case"dd":return C(o.weekdaysMin,c.$W,v,2);case"ddd":return C(o.weekdaysShort,c.$W,v,3);case"dddd":return v[c.$W];case"H":return String(g);case"HH":return Le.s(g,2,"0");case"h":return A(1);case"hh":return A(2);case"a":return O(g,m,!0);case"A":return O(g,m,!1);case"m":return String(m);case"mm":return Le.s(m,2,"0");case"s":return String(c.$s);case"ss":return Le.s(c.$s,2,"0");case"SSS":return Le.s(c.$ms,3,"0");case"Z":return h}return null};return f.replace(_D,function(M,R){return R||q(M)||h.replace(":","")})},t.utcOffset=function(){return-Math.round(this.$d.getTimezoneOffset()/15)*15},t.diff=function(s,c,o){var f=this,h=Le.p(c),g=$e(s),m=(g.utcOffset()-this.utcOffset())*bc,p=this-g,v=function(){return Le.m(f,g)},S;switch(h){case gr:S=v()/12;break;case Qt:S=v();break;case Ac:S=v()/3;break;case Cc:S=(p-m)/DD;break;case Dn:S=(p-m)/TD;break;case La:S=p/Qp;break;case Vn:S=p/bc;break;case ja:S=p/Va;break;default:S=p;break}return o?S:Le.a(S)},t.daysInMonth=function(){return this.endOf(Qt).$D},t.$locale=function(){return ea[this.$L]},t.locale=function(s,c){if(!s)return this.$L;var o=this.clone(),f=Rc(s,c,!0);return f&&(o.$L=f),o},t.clone=function(){return Le.w(this.$d,this)},t.toDate=function(){return new Date(this.valueOf())},t.toJSON=function(){return this.isValid()?this.toISOString():null},t.toISOString=function(){return this.$d.toISOString()},t.toString=function(){return this.$d.toUTCString()},e})(),Lp=Oc.prototype;$e.prototype=Lp,[["$ms",wc],["$s",ja],["$m",Vn],["$H",La],["$W",Dn],["$M",Qt],["$y",gr],["$D",Ba]].forEach(function(e){Lp[e[1]]=function(t){return this.$g(t,e[0],e[1])}}),$e.extend=function(e,t){return e.$i||(e(t,Oc,$e),e.$i=!0),$e},$e.locale=Rc,$e.isDayjs=_d,$e.unix=function(e){return $e(e*1e3)},$e.en=ea[hs],$e.Ls=ea,$e.p={};const LD=(function(e,t){var a=t.prototype;a.quarter=function(o){return this.$utils().u(o)?Math.ceil((this.month()+1)/3):this.month(this.month()%3+(o-1)*3)};var s=a.add;a.add=function(o,f){o=Number(o);var h=this.$utils().p(f);return h===Ac?this.add(o*3,Qt):s.bind(this)(o,f)};var c=a.startOf;a.startOf=function(o,f){var h=this.$utils(),g=h.u(f)?!0:f,m=h.p(o);if(m===Ac){var p=this.quarter()-1;return g?this.month(p*3).startOf(Qt).startOf(Dn):this.month(p*3+2).endOf(Qt).endOf(Dn)}return c.bind(this)(o,f)}});var BD=function(t){return t.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(a,s,c){return s||c.slice(1)})},HD={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},YD=function(t,a){return t.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(s,c,o){var f=o&&o.toUpperCase();return c||a[o]||HD[o]||BD(a[f])})},$D=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|Q|YYYY|YY?|ww?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,Bp=/\d/,gs=/\d\d/,GD=/\d{3}/,KD=/\d{4}/,bn=/\d\d?/,XD=/[+-]?\d+/,ZD=/[+-]\d\d:?(\d\d)?|Z/,ms=/\d*[^-_:/,()\s\d]+/,mr={},Hp=function(t){return t=+t,t+(t>68?1900:2e3)};function JD(e){if(!e||e==="Z")return 0;var t=e.match(/([+-]|\d\d)/g),a=+(t[1]*60)+(+t[2]||0);return a===0?0:t[0]==="+"?-a:a}var _t=function(t){return function(a){this[t]=+a}},Yp=[ZD,function(e){var t=this.zone||(this.zone={});t.offset=JD(e)}],Ud=function(t){var a=mr[t];return a&&(a.indexOf?a:a.s.concat(a.f))},$p=function(t,a){var s,c=mr,o=c.meridiem;if(!o)s=t===(a?"pm":"PM");else for(var f=1;f<=24;f+=1)if(t.indexOf(o(f,0,a))>-1){s=f>12;break}return s},PD={A:[ms,function(e){this.afternoon=$p(e,!1)}],a:[ms,function(e){this.afternoon=$p(e,!0)}],Q:[Bp,function(e){this.month=(e-1)*3+1}],S:[Bp,function(e){this.milliseconds=+e*100}],SS:[gs,function(e){this.milliseconds=+e*10}],SSS:[GD,function(e){this.milliseconds=+e}],s:[bn,_t("seconds")],ss:[bn,_t("seconds")],m:[bn,_t("minutes")],mm:[bn,_t("minutes")],H:[bn,_t("hours")],h:[bn,_t("hours")],HH:[bn,_t("hours")],hh:[bn,_t("hours")],D:[bn,_t("day")],DD:[gs,_t("day")],Do:[ms,function(e){var t=mr,a=t.ordinal,s=e.match(/\d+/);if(this.day=s[0],!!a)for(var c=1;c<=31;c+=1)a(c).replace(/\[|\]/g,"")===e&&(this.day=c)}],w:[bn,_t("week")],ww:[gs,_t("week")],M:[bn,_t("month")],MM:[gs,_t("month")],MMM:[ms,function(e){var t=Ud("months"),a=Ud("monthsShort"),s=(a||t.map(function(c){return c.slice(0,3)})).indexOf(e)+1;if(s<1)throw new Error;this.month=s%12||s}],MMMM:[ms,function(e){var t=Ud("months"),a=t.indexOf(e)+1;if(a<1)throw new Error;this.month=a%12||a}],Y:[XD,_t("year")],YY:[gs,function(e){this.year=Hp(e)}],YYYY:[KD,_t("year")],Z:Yp,ZZ:Yp};function WD(e){var t=e.afternoon;if(t!==void 0){var a=e.hours;t?a<12&&(e.hours+=12):a===12&&(e.hours=0),delete e.afternoon}}function ex(e){e=YD(e,mr&&mr.formats);for(var t=e.match($D),a=t.length,s=0;s<a;s+=1){var c=t[s],o=PD[c],f=o&&o[0],h=o&&o[1];h?t[s]={regex:f,parser:h}:t[s]=c.replace(/^\[|\]$/g,"")}return function(g){for(var m={},p=0,v=0;p<a;p+=1){var S=t[p];if(typeof S=="string")v+=S.length;else{var w=S.regex,C=S.parser,A=g.slice(v),O=w.exec(A),q=O[0];C.call(m,q),g=g.replace(q,"")}}return WD(m),m}}var tx=function(t,a,s,c){try{if(["x","X"].indexOf(a)>-1)return new Date((a==="X"?1e3:1)*t);var o=ex(a),f=o(t),h=f.year,g=f.month,m=f.day,p=f.hours,v=f.minutes,S=f.seconds,w=f.milliseconds,C=f.zone,A=f.week,O=new Date,q=m||(!h&&!g?O.getDate():1),M=h||O.getFullYear(),R=0;h&&!g||(R=g>0?g-1:O.getMonth());var U=p||0,Z=v||0,k=S||0,x=w||0;if(C)return new Date(Date.UTC(M,R,q,U,Z,k,x+C.offset*60*1e3));if(s)return new Date(Date.UTC(M,R,q,U,Z,k,x));var z;return z=new Date(M,R,q,U,Z,k,x),A&&(z=c(z).week(A).toDate()),z}catch{return new Date("")}};const nx=(function(e,t,a){a.p.customParseFormat=!0,e&&e.parseTwoDigitYear&&(Hp=e.parseTwoDigitYear);var s=t.prototype,c=s.parse;s.parse=function(o){var f=o.date,h=o.utc,g=o.args;this.$u=h;var m=g[1];if(typeof m=="string"){var p=g[2]===!0,v=g[3]===!0,S=p||v,w=g[2];v&&(w=g[2]),mr=this.$locale(),!p&&w&&(mr=a.Ls[w]),this.$d=tx(f,m,h,a),this.init(),w&&w!==!0&&(this.$L=this.locale(w).$L),S&&f!=this.format(m)&&(this.$d=new Date("")),mr={}}else if(m instanceof Array)for(var C=m.length,A=1;A<=C;A+=1){g[1]=m[A-1];var O=a.apply(this,g);if(O.isValid()){this.$d=O.$d,this.$L=O.$L,this.init();break}A===C&&(this.$d=new Date(""))}else c.call(this,o)}});$e.extend(nx);const Gp="YYYY/MM/DD@HH:mm:ss",rx="1401-01-01";function qc(e,t){const a=$e(e,t);return!a.isValid()&&!t?$e(e,Gp):a}function Kp(e){return e.format(Gp)}function ax(e,t){const a=qc(e,t);if(!a.isValid()){const s=". Please provide a date format string in the configuration options. See https://day.js.org/docs/en/parse/string-format for more information.",c=` with the format "${t}"`;throw new Error(`Could not parse the provided date "${e}"${t?c:s}`)}Xp(a)}function Xp(e){if(e.isBefore(rx))throw new Error(`Date is before year 1401, which is unsupported by the API: ${e}`)}$e.extend(LD);const Zp=["past","now","next"],Jp=["minute","hour","day","week","month","quarter","year"],ix=e=>{const t=e==="now";return{amount:new ye({required:!t,min:1}),unit:new re({required:!t,constrainTo:Jp}),period:new re({required:!0,constrainTo:Zp})}};function Pp(e){if(typeof e=="string"&&!ys(e))throw new Error(`The value "${e}" is not respecting the relative date format "period-amount-unit"`);const t=typeof e=="string"?tv(e):e;new Et(ix(t.period)).validate(t);const a=Wp(t),s=JSON.stringify(t);if(!a.isValid())throw new Error(`Date is invalid: ${s}`);Xp(a)}function sx(e){const{period:t,amount:a,unit:s}=e;switch(t){case"past":case"next":return`${t}-${a}-${s}`;case"now":return t}}function Wp(e){const{period:t,amount:a,unit:s}=e;switch(t){case"past":return $e().subtract(a,s);case"next":return $e().add(a,s);case"now":return $e()}}function Id(e){return Kp(Wp(tv(e)))}function ev(e){return e.toLocaleLowerCase().split("-")}function ys(e){const[t,a,s]=ev(e);if(t==="now")return!0;if(!Zp.includes(t)||!Jp.includes(s))return!1;const c=parseInt(a);return!(Number.isNaN(c)||c<=0)}function ux(e){return!!e&&typeof e=="object"&&"period"in e}function tv(e){const[t,a,s]=ev(e);return t==="now"?{period:"now"}:{period:t,amount:a?parseInt(a):void 0,unit:s||void 0}}function cx(e){return e.type==="dateRange"}function nv(e){return`start${e}`}function rv(e){return`end${e}`}const av=()=>({dateFacetValueMap:{}});function ox(e,t,a){let s=e.start,c=e.end;return ys(s)&&(s=Id(s),a.dateFacetValueMap[t][nv(s)]=e.start),ys(c)&&(c=Id(c),a.dateFacetValueMap[t][rv(c)]=e.end),{...e,start:s,end:c}}function iv(e,t){if(cx(e)){const{facetId:a,currentValues:s}=e;return t.dateFacetValueMap[a]={},{...e,currentValues:s.map(c=>ox(c,a,t))}}return e}function Ec(e){const t=av();return{request:{...e,facets:e.facets?.map(s=>iv(s,t))},mappings:t}}function lx(e,t,a){return{...e,start:a.dateFacetValueMap[t][nv(e.start)]||e.start,end:a.dateFacetValueMap[t][rv(e.end)]||e.end}}function dx(e,t){return e.facetId in t.dateFacetValueMap}function fx(e,t){return dx(e,t)?{...e,values:e.values.map(a=>lx(a,e.facetId,t))}:e}function sv(e,t){return"success"in e?{success:{...e.success,facets:e.success.facets?.map(s=>fx(s,t))}}:e}const hx=I("didYouMean/enable"),gx=I("didYouMean/disable"),mx=I("didYouMean/automaticCorrections/disable"),yx=I("didYouMean/automaticCorrections/enable"),Tc=I("didYouMean/correction",e=>Y(e,oe)),px=I("didYouMean/automaticCorrections/mode",e=>Y(e,new re({constrainTo:["next","legacy"],emptyAllowed:!1,required:!0}))),uv=()=>nt("analytics/didyoumean/automatic",e=>e.makeDidYouMeanAutomatic()),vx=()=>({actionCause:Mt.didYouMeanAutomatic});function cv(){return{contextValues:{}}}function ov(){return{contextValues:{}}}function lv(){return{enabled:!0,tabs:{}}}function dv(){return{freezeFacetOrder:!1,facets:{}}}function Dc(){return[]}function Fd(){return{firstResult:0,defaultNumberOfResults:10,numberOfResults:10,totalCountFiltered:0}}function fv(){return{}}function hv(){return{}}function gv(){return{}}function Sx(){return jn({})}function jn(e){return{context:e.context||cv(),dictionaryFieldContext:e.dictionaryFieldContext||ov(),facetSet:e.facetSet||vd(),numericFacetSet:e.numericFacetSet||pd(),dateFacetSet:e.dateFacetSet||yd(),categoryFacetSet:e.categoryFacetSet||md(),automaticFacetSet:e.automaticFacetSet??gd(),pagination:e.pagination||Fd(),query:e.query||Na(),tabSet:e.tabSet||gv(),advancedSearchQueries:e.advancedSearchQueries||fs(),staticFilterSet:e.staticFilterSet||hv(),querySet:e.querySet||fv(),sortCriteria:e.sortCriteria||wd(),pipeline:e.pipeline||Ad(),searchHub:e.searchHub||oc(),facetOptions:e.facetOptions||dv(),facetOrder:e.facetOrder??Dc(),debug:e.debug??Ep()}}new se({values:{undoneQuery:Dt},options:{required:!0}});const bx=()=>nt("analytics/trigger/query",(e,t)=>t.triggers?.queryModification.newQuery?e.makeTriggerQuery():null),kd=I("trigger/query/ignore",e=>Y(e,new re({emptyAllowed:!0,required:!0}))),zd=I("trigger/query/modification",e=>Y(e,new se({values:{originalQuery:mt,modification:mt}})));function Ha(e){return Object.values(e).map(t=>t.request)}function mv(e,t){const a={};e.forEach(o=>{a[o.facetId]=o});const s=[];t.forEach(o=>{o in a&&(s.push(a[o]),delete a[o])});const c=Object.values(a);return[...s,...c]}function yv(e){return Ha(e).map(t=>{const s=t.currentValues.some(({state:c})=>c!=="idle");return t.generateAutomaticRanges&&!s?{...t,currentValues:[]}:t})}const pv={alphanumericDescending:{type:"alphanumeric",order:"descending"},alphanumericNaturalDescending:{type:"alphanumericNatural",order:"descending"}};function wx(e){return Ha(e).map(t=>{const a=pv[t.sortCriteria];return a?{...t,sortCriteria:a}:t})}function Cx(e){return[...wx(e.facetSet??{}),...yv(e.numericFacetSet??{}),...yv(e.dateFacetSet??{}),...Ha(e.categoryFacetSet??{})]}function Ax(e){return Cx(e).filter(({facetId:t})=>e.facetOptions?.facets[t]?.enabled??!0)}function vv(e){return mv(Ax(e),e.facetOrder??[])}const Rx=1,ps=5e3,Ya=async(e,t)=>{const a=Ex(e),s=vv(e),c=Ox(e),o=await Sc(e,t),f=()=>e.pagination?e.pagination.firstResult+e.pagination.numberOfResults>ps?ps-e.pagination.firstResult:e.pagination.numberOfResults:void 0;return Ec({...o,...e.didYouMean&&{queryCorrection:{enabled:e.didYouMean.enableDidYouMean&&e.didYouMean.queryCorrectionMode==="next",options:{automaticallyCorrect:e.didYouMean.automaticallyCorrectQuery?"whenNoResults":"never"}},enableDidYouMean:e.didYouMean.enableDidYouMean&&e.didYouMean.queryCorrectionMode==="legacy"},...a&&{cq:a},...s.length&&{facets:s},...e.pagination&&{numberOfResults:f(),firstResult:e.pagination.firstResult},...e.facetOptions&&{facetOptions:{freezeFacetOrder:e.facetOptions.freezeFacetOrder}},...e.folding?.enabled&&{filterField:e.folding.fields.collection,childField:e.folding.fields.parent,parentField:e.folding.fields.child,filterFieldRange:e.folding.filterFieldRange},...e.automaticFacetSet&&{generateAutomaticFacets:{desiredCount:e.automaticFacetSet.desiredCount,numberOfValues:e.automaticFacetSet.numberOfValues,currentFacets:c}},...e.generatedAnswer&&{pipelineRuleParameters:{mlGenerativeQuestionAnswering:{responseFormat:e.generatedAnswer.responseFormat,citationsFieldToInclude:e.generatedAnswer.fieldsToIncludeInCitations}}}})};function Ox(e){const t=e.automaticFacetSet?.set;return t?Object.values(t).map(a=>a.response).map(qx).filter(a=>a.currentValues.length>0):void 0}function qx(e){const{field:t,label:a,values:s}=e,c=s.filter(o=>o.state==="selected");return{field:t,label:a,currentValues:c}}function Ex(e){const t=e.advancedSearchQueries?.cq.trim()||"",s=Object.values(e.tabSet||{}).find(o=>o.isActive)?.expression.trim()||"",c=Tx(e);return[t,s,...c].filter(o=>!!o).join(" AND ")}function Tx(e){return Object.values(e.staticFilterSet||{}).map(a=>{const s=a.values.filter(o=>o.state==="selected"&&!!o.expression.trim()),c=s.map(o=>o.expression).join(" OR ");return s.length>1?`(${c})`:c})}let vs=class{config;onUpdateQueryForCorrection;constructor(t,a=s=>{this.dispatch(pc({q:s}))}){this.config=t,this.onUpdateQueryForCorrection=a}async fetchFromAPI({mappings:t,request:a},s){const c=Date.now(),o=sv(await this.extra.apiClient.search(a,s),t),f=Date.now()-c,h=this.getState().query?.q||"";return{response:o,duration:f,queryExecuted:h,requestExecuted:a}}async process(t){return this.processQueryErrorOrContinue(t)??await this.processQueryCorrectionsOrContinue(t)??await this.processQueryTriggersOrContinue(t)??this.processSuccessResponse(t)}processQueryErrorOrContinue(t){return pn(t.response)?(this.dispatch(Qa(t.response.error)),this.rejectWithValue(t.response.error)):null}async processQueryCorrectionsOrContinue(t){const a=this.getState(),s=this.getSuccessResponse(t);if(!s||!a.didYouMean)return null;const{enableDidYouMean:c,automaticallyCorrectQuery:o}=a.didYouMean,{results:f,queryCorrections:h,queryCorrection:g}=s;if(!c||!o)return null;const m=f.length===0&&h&&h.length!==0,p=!Ae(g)&&!Ae(g.correctedQuery);if(!m&&!p)return null;const S=m?await this.processLegacyDidYouMeanAutoCorrection(t):this.processModernDidYouMeanAutoCorrection(t);return this.dispatch(Tn(jn(this.getState()))),S}async processLegacyDidYouMeanAutoCorrection(t){const a=this.getCurrentQuery(),s=this.getSuccessResponse(t);if(!s.queryCorrections)return null;const{correctedQuery:c}=s.queryCorrections[0],o=await this.automaticallyRetryQueryWithCorrection(c);return pn(o.response)?(this.dispatch(Qa(o.response.error)),this.rejectWithValue(o.response.error)):(this.logOriginalAnalyticsQueryBeforeAutoCorrection(t),this.dispatch(Tn(jn(this.getState()))),{...o,response:{...o.response.success,queryCorrections:s.queryCorrections},automaticallyCorrected:!0,originalQuery:a,analyticsAction:uv()})}processModernDidYouMeanAutoCorrection(t){const a=this.getSuccessResponse(t),{correctedQuery:s,originalQuery:c}=a.queryCorrection;return this.onUpdateQueryForCorrection(s),{...t,response:{...a},queryExecuted:s,automaticallyCorrected:!0,originalQuery:c,analyticsAction:uv()}}logOriginalAnalyticsQueryBeforeAutoCorrection(t){const a=this.getState(),s=this.getSuccessResponse(t);this.analyticsAction?.()(this.dispatch,()=>this.getStateAfterResponse(t.queryExecuted,t.duration,a,s),this.extra)}async processQueryTriggersOrContinue(t){const a=this.getSuccessResponse(t);if(!a)return null;const s=a.triggers.find(h=>h.type==="query")?.content||"";if(!s)return null;if(this.getState().triggers?.queryModification.queryToIgnore===s)return this.dispatch(kd("")),null;this.analyticsAction&&await this.dispatch(this.analyticsAction);const o=this.getCurrentQuery(),f=await this.automaticallyRetryQueryWithTriggerModification(s);return pn(f.response)?(this.dispatch(Qa(f.response.error)),this.rejectWithValue(f.response.error)):(this.dispatch(Tn(jn(this.getState()))),{...f,response:{...f.response.success},automaticallyCorrected:!1,originalQuery:o,analyticsAction:bx()})}getStateAfterResponse(t,a,s,c){return{...s,query:{q:t,enableQuerySyntax:s.query?.enableQuerySyntax??Na().enableQuerySyntax},search:{...lr(),duration:a,response:c,results:c.results}}}processSuccessResponse(t){return this.dispatch(Tn(jn(this.getState()))),{...t,response:this.getSuccessResponse(t),automaticallyCorrected:!1,originalQuery:this.getCurrentQuery(),analyticsAction:this.analyticsAction}}getSuccessResponse(t){return Jm(t.response)?t.response.success:null}async automaticallyRetryQueryWithCorrection(t){this.onUpdateQueryForCorrection(t);const a=await this.fetchFromAPI(await Ya(this.getState()),{origin:"mainSearch"});return this.dispatch(Tc(t)),a}async automaticallyRetryQueryWithTriggerModification(t){return this.dispatch(zd({newQuery:t,originalQuery:this.getCurrentQuery()})),this.onUpdateQueryForCorrection(t),await this.fetchFromAPI(await Ya(this.getState()),{origin:"mainSearch"})}getCurrentQuery(){const t=this.getState();return t.query?.q!==void 0?t.query.q:""}get extra(){return this.config.extra}getState(){return this.config.getState()}get dispatch(){return this.config.dispatch}get analyticsAction(){return this.config.analyticsAction}get rejectWithValue(){return this.config.rejectWithValue}};Ce("search/executeSearch",async(e,t)=>{const a=t.getState();return await Nd(a,t,e)}),Ce("search/fetchPage",async(e,t)=>{const a=t.getState();return await wv(a,t,e)}),Ce("search/fetchMoreResults",async(e,t)=>{const a=t.getState();return await Cv(t,a)}),Ce("search/fetchFacetValues",async(e,t)=>{const a=t.getState();return await _x(t,e,a)}),Ce("search/fetchInstantResults",async(e,t)=>bv(e,t));const Dx=async(e,t)=>{const a=await Ya(e,t);return a.request={...a.request,firstResult:(e.pagination?.firstResult??0)+(e.search?.results.length??0)},a},xx=async(e,t,a)=>{const s=await Sc(e);return Ec({...s,...e.didYouMean&&{enableDidYouMean:e.didYouMean.enableDidYouMean},numberOfResults:a,q:t})},Mx=async(e,t)=>{const a=await Ya(e,t);return a.request.numberOfResults=0,a},Sv=e=>{e.configuration.analytics.enabled&&sn.getInstance().addElement({name:"Query",...e.query?.q&&{value:e.query.q},time:JSON.stringify(new Date)})};async function bv(e,t){Y(e,{id:oe,q:oe,maxResultsPerQuery:new ye({required:!0,min:1}),cacheTimeout:new ye});const{q:a,maxResultsPerQuery:s}=e,c=t.getState(),o=new vs({...t,analyticsAction:SD()},m=>{t.dispatch(mc({q:m,id:e.id}))}),f=await xx(c,a,s),h=await o.fetchFromAPI(f,{origin:"instantResults",disableAbortWarning:!0}),g=await o.process(h);return"response"in g?{results:g.response.results,searchUid:g.response.searchUid,analyticsAction:g.analyticsAction,totalCountFiltered:g.response.totalCountFiltered,duration:g.duration}:g}async function wv(e,t,a){Sv(e);const{analyticsClientMiddleware:s,preprocessRequest:c,logger:o}=t.extra,{description:f}=await a.prepare({getState:()=>t.getState(),analyticsClientMiddleware:s,preprocessRequest:c,logger:o}),h=new vs({...t,analyticsAction:a}),g=await Ya(e,f),m=await h.fetchFromAPI(g,{origin:"mainSearch"});return await h.process(m)}async function Cv(e,t){const{analyticsClientMiddleware:a,preprocessRequest:s,logger:c}=e.extra,{description:o}=await Fp().prepare({getState:()=>e.getState(),analyticsClientMiddleware:a,preprocessRequest:s,logger:c}),f=new vs({...e,analyticsAction:Fp()}),h=await Dx(t,o),g=await f.fetchFromAPI(h,{origin:"mainSearch"});return await f.process(g)}async function _x(e,t,a){const{analyticsClientMiddleware:s,preprocessRequest:c,logger:o}=e.extra,{description:f}=await t.prepare({getState:()=>e.getState(),analyticsClientMiddleware:s,preprocessRequest:c,logger:o}),h=new vs({...e,analyticsAction:t}),g=await Mx(a,f),m=await h.fetchFromAPI(g,{origin:"facetValues"});return await h.process(m)}async function Nd(e,t,a){Sv(e);const{analyticsClientMiddleware:s,preprocessRequest:c,logger:o}=t.extra,{description:f}=await a.prepare({getState:()=>t.getState(),analyticsClientMiddleware:s,preprocessRequest:c,logger:o}),h=await Ya(e,f),g=new vs({...t,analyticsAction:a}),m=await g.fetchFromAPI(h,{origin:"mainSearch"});return await g.process(m)}const Ux=Nt(e=>e.staticFilterSet,e=>Object.values(e||{}).map(a=>{const s=a.values.filter(o=>o.state==="selected"&&!!o.expression.trim()),c=s.map(o=>o.expression).join(" OR ");return s.length>1?`(${c})`:c})),yr=async(e,t,a)=>{const s=Ov(e),c=Ix(e),o=Fx(e),f=e.configuration.analytics.analyticsMode==="legacy"?await Sc(e,a):Dd(e,t,a);return Ec({...f,...e.didYouMean&&{queryCorrection:{enabled:e.didYouMean.enableDidYouMean&&e.didYouMean.queryCorrectionMode==="next",options:{automaticallyCorrect:e.didYouMean.automaticallyCorrectQuery?"whenNoResults":"never"}},enableDidYouMean:e.didYouMean.enableDidYouMean&&e.didYouMean.queryCorrectionMode==="legacy"},...s&&{cq:s},...c.length&&{facets:c},...e.pagination&&{numberOfResults:Av(e),firstResult:e.pagination.firstResult},...e.facetOptions&&{facetOptions:{freezeFacetOrder:e.facetOptions.freezeFacetOrder}},...e.folding?.enabled&&{filterField:e.folding.fields.collection,childField:e.folding.fields.parent,parentField:e.folding.fields.child,filterFieldRange:e.folding.filterFieldRange},...e.automaticFacetSet&&{generateAutomaticFacets:{desiredCount:e.automaticFacetSet.desiredCount,numberOfValues:e.automaticFacetSet.numberOfValues,currentFacets:o}},...e.generatedAnswer&&{pipelineRuleParameters:{mlGenerativeQuestionAnswering:{responseFormat:e.generatedAnswer.responseFormat,citationsFieldToInclude:e.generatedAnswer.fieldsToIncludeInCitations}}}})};function Av(e){return e.pagination?e.pagination.firstResult+e.pagination.numberOfResults>ps?ps-e.pagination.firstResult:e.pagination.numberOfResults:void 0}function Ix(e){return mv(zx(e),e.facetOrder??[])}function Fx(e){const t=e.automaticFacetSet?.set;return t?Object.values(t).map(a=>a.response).map(kx).filter(a=>a.currentValues.length>0):void 0}function kx(e){const{field:t,label:a,values:s}=e,c=s.filter(o=>o.state==="selected");return{field:t,label:a,currentValues:c}}function zx(e){return Nx(e).filter(({facetId:t})=>e.facetOptions?.facets[t]?.enabled??!0)}function Nx(e){return[...Qx(e.facetSet??{}),...Rv(e.numericFacetSet??{}),...Rv(e.dateFacetSet??{}),...Ha(e.categoryFacetSet??{})]}function Qx(e){return Ha(e).map(t=>{const a=pv[t.sortCriteria];return a?{...t,sortCriteria:a}:t})}function Rv(e){return Ha(e).map(t=>{const a=t.currentValues,s=a.some(({state:o})=>o!=="idle"),c=a.some(o=>o.previousState);return t.generateAutomaticRanges&&!s&&!c?{...t,currentValues:[]}:t})}function Ov(e){const t=e.advancedSearchQueries?.cq.trim()||"",s=Object.values(e.tabSet||{}).find(o=>o.isActive)?.expression.trim()||"",c=Ux(e);return[t,s,...c].filter(o=>!!o).join(" AND ")}let Ss=class{config;onUpdateQueryForCorrection;constructor(t,a=s=>{this.dispatch(pc({q:s}))}){this.config=t,this.onUpdateQueryForCorrection=a}async fetchFromAPI({mappings:t,request:a},s){const c=Date.now(),o=sv(await this.extra.apiClient.search(a,s),t),f=Date.now()-c,h=this.getState().query?.q||"";return{response:o,duration:f,queryExecuted:h,requestExecuted:a}}async process(t){return this.processQueryErrorOrContinue(t)??await this.processQueryCorrectionsOrContinue(t)??await this.processQueryTriggersOrContinue(t)??this.processSuccessResponse(t)}processQueryErrorOrContinue(t){return pn(t.response)?(this.dispatch(Qa(t.response.error)),this.rejectWithValue(t.response.error)):null}async processQueryCorrectionsOrContinue(t){const a=this.getState(),s=this.getSuccessResponse(t);if(!s||!a.didYouMean)return null;const{enableDidYouMean:c,automaticallyCorrectQuery:o}=a.didYouMean,{results:f,queryCorrections:h,queryCorrection:g}=s;if(!c||!o)return null;const m=f.length===0&&h&&h.length!==0,p=!Ae(g)&&!Ae(g.correctedQuery);if(!m&&!p)return null;const S=m?await this.processLegacyDidYouMeanAutoCorrection(t):this.processModernDidYouMeanAutoCorrection(t);return this.dispatch(Tn(jn(this.getState()))),S}async processLegacyDidYouMeanAutoCorrection(t){const a=this.getCurrentQuery(),s=this.getSuccessResponse(t);if(!s.queryCorrections)return null;const{correctedQuery:c}=s.queryCorrections[0],o=await this.automaticallyRetryQueryWithCorrection(c);return pn(o.response)?(this.dispatch(Qa(o.response.error)),this.rejectWithValue(o.response.error)):(this.dispatch(Tn(jn(this.getState()))),{...o,response:{...o.response.success,queryCorrections:s.queryCorrections},automaticallyCorrected:!0,originalQuery:a})}processModernDidYouMeanAutoCorrection(t){const a=this.getSuccessResponse(t),{correctedQuery:s,originalQuery:c}=a.queryCorrection;return this.onUpdateQueryForCorrection(s),{...t,response:{...a},queryExecuted:s,automaticallyCorrected:!0,originalQuery:c}}async processQueryTriggersOrContinue(t){const a=this.getSuccessResponse(t);if(!a)return null;const s=a.triggers.find(h=>h.type==="query")?.content||"";if(!s)return null;if(this.getState().triggers?.queryModification.queryToIgnore===s)return this.dispatch(kd("")),null;const o=this.getCurrentQuery(),f=await this.automaticallyRetryQueryWithTriggerModification(s);return pn(f.response)?(this.dispatch(Qa(f.response.error)),this.rejectWithValue(f.response.error)):(this.dispatch(Tn(jn(this.getState()))),{...f,response:{...f.response.success},automaticallyCorrected:!1,originalQuery:o})}processSuccessResponse(t){return this.dispatch(Tn(jn(this.getState()))),{...t,response:this.getSuccessResponse(t),automaticallyCorrected:!1,originalQuery:this.getCurrentQuery()}}getSuccessResponse(t){return Jm(t.response)?t.response.success:null}async automaticallyRetryQueryWithCorrection(t){this.onUpdateQueryForCorrection(t);const a=this.getState(),{actionCause:s}=vx(),c=await this.fetchFromAPI(await yr(a,this.extra.navigatorContext,{actionCause:s}),{origin:"mainSearch"});return this.dispatch(Tc(t)),c}async automaticallyRetryQueryWithTriggerModification(t){return this.dispatch(zd({newQuery:t,originalQuery:this.getCurrentQuery()})),this.onUpdateQueryForCorrection(t),await this.fetchFromAPI(await yr(this.getState(),this.extra.navigatorContext),{origin:"mainSearch"})}getCurrentQuery(){const t=this.getState();return t.query?.q!==void 0?t.query.q:""}get extra(){return this.config.extra}getState(){return this.config.getState()}get dispatch(){return this.config.dispatch}get rejectWithValue(){return this.config.rejectWithValue}};const Vx=Ce("search/prepareForSearchWithQuery",(e,t)=>{const{dispatch:a}=t;Y(e,{q:new re,enableQuerySyntax:new Ee,clearFilters:new Ee}),e.clearFilters&&(a(hr()),a(Mp())),a(Ed({allow:!0})),a(pc({q:e.q,enableQuerySyntax:e.enableQuerySyntax})),a(Ip(1))}),jx=I("search/updateSearchAction"),Fe=Ce("search/executeSearch",async(e,t)=>{const a=t.getState();if(a.configuration.analytics.analyticsMode==="legacy")return Nd(a,t,e.legacy);qv(a);const s=e.next?Ev(e.next):void 0,c=await yr(a,t.extra.navigatorContext,s),o=new Ss({...t,analyticsAction:s??{}}),f=await o.fetchFromAPI(c,{origin:"mainSearch"});return await o.process(f)}),bs=Ce("search/fetchPage",async(e,t)=>{const a=t.getState();if(qv(a),a.configuration.analytics.analyticsMode==="legacy"||!e.next)return wv(a,t,e.legacy);const s=new Ss({...t,analyticsAction:e.next}),c=await yr(a,t.extra.navigatorContext,e.next),o=await s.fetchFromAPI(c,{origin:"mainSearch"});return await s.process(o)}),$a=Ce("search/fetchMoreResults",async(e,t)=>{const a=t.getState();if(a.configuration.analytics.analyticsMode==="legacy")return Cv(t,a);const s=GT(Mt.browseResults,t.getState),c=new Ss({...t,analyticsAction:s}),o=await Lx(a,t.extra.navigatorContext,s),f=await c.fetchFromAPI(o,{origin:"mainSearch"});return await c.process(f)}),ws=Ce("search/fetchFacetValues",async(e,t)=>{const a=t.getState();if(a.configuration.analytics.analyticsMode==="legacy")return Nd(a,t,e.legacy);const s=new Ss({...t,analyticsAction:{}}),c=await Hx(a,t.extra.navigatorContext),o=await s.fetchFromAPI(c,{origin:"facetValues"});return await s.process(o)}),xc=Ce("search/fetchInstantResults",async(e,t)=>{const a=t.getState();if(a.configuration.analytics.analyticsMode==="legacy")return bv(e,t);Y(e,{id:oe,q:oe,maxResultsPerQuery:new ye({required:!0,min:1}),cacheTimeout:new ye});const{q:s,maxResultsPerQuery:c}=e,o=Ev(bD()),f=await Bx(a,t.extra.navigatorContext,s,c,o),h=new Ss({...t,analyticsAction:o},p=>{t.dispatch(mc({q:p,id:e.id}))}),g=await h.fetchFromAPI(f,{origin:"instantResults",disableAbortWarning:!0}),m=await h.process(g);return"response"in m?{results:m.response.results,searchUid:m.response.searchUid,totalCountFiltered:m.response.totalCountFiltered,duration:m.duration}:m}),Lx=async(e,t,a)=>{const s=await yr(e,t,a);return s.request={...s.request,firstResult:(e.pagination?.firstResult??0)+(e.search?.results.length??0)},s},Bx=async(e,t,a,s,c)=>{const o=Dd(e,t,c);return Ec({...o,...e.didYouMean&&{enableDidYouMean:e.didYouMean.enableDidYouMean},numberOfResults:s,q:a})},Hx=async(e,t,a)=>{const s=await yr(e,t,a);return s.request.numberOfResults=0,s},qv=e=>{e.configuration.analytics.enabled&&sn.getInstance().addElement({name:"Query",...e.query?.q&&{value:e.query.q},time:JSON.stringify(new Date)})},Ev=e=>({actionCause:e.actionCause,type:e.actionCause});function Qd(e){return e.search.response.searchUid!==""}const Yx=Nt(e=>e.search,e=>e?.searchAction?.actionCause||""),Vd=I("app/setError");function jd(e,t){const a=t.payload??null;a&&(e.response=lr().response,e.results=[],e.questionAnswer=ju()),e.error=a,e.isLoading=!1}function Ld(e,t){e.error=null,e.response=t.payload.response,e.queryExecuted=t.payload.queryExecuted,e.duration=t.payload.duration,e.isLoading=!1}function $x(e,t){Ld(e,t),e.results=t.payload.response.results.map(a=>({...a,searchUid:t.payload.response.searchUid})),e.searchResponseId=t.payload.response.searchUid,e.questionAnswer=t.payload.response.questionAnswer,e.extendedResults=t.payload.response.extendedResults}function Tv(e,t){e.isLoading=!0,e.searchAction=t.meta.arg.next,e.requestId=t.meta.requestId}function Gx(e,t){e.isLoading=!0,e.searchAction={actionCause:Mt.browseResults},e.requestId=t.meta.requestId}const Cs=qe(lr(),e=>{e.addCase(Fe.rejected,(t,a)=>jd(t,a)),e.addCase($a.rejected,(t,a)=>jd(t,a)),e.addCase(bs.rejected,(t,a)=>jd(t,a)),e.addCase(Fe.fulfilled,(t,a)=>{$x(t,a)}),e.addCase($a.fulfilled,(t,a)=>{Ld(t,a),t.results=[...t.results,...a.payload.response.results.map(s=>({...s,searchUid:a.payload.response.searchUid}))]}),e.addCase(bs.fulfilled,(t,a)=>{Ld(t,a),t.results=[...a.payload.response.results.map(s=>({...s,searchUid:a.payload.response.searchUid}))]}),e.addCase(ws.fulfilled,(t,a)=>{t.response.facets=a.payload.response.facets,t.response.searchUid=a.payload.response.searchUid}),e.addCase(Fe.pending,Tv),e.addCase($a.pending,Gx),e.addCase(bs.pending,Tv),e.addCase(jx,(t,a)=>{t.searchAction=a.payload}),e.addCase(Vd,(t,a)=>{t.error=a.payload,t.isLoading=!1})}),Dv=I("searchHub/set",e=>Y(e,new re({required:!0,emptyAllowed:!0}))),Kx=qe(oc(),e=>{e.addCase(Dv,(t,a)=>a.payload).addCase(ot.fulfilled,(t,a)=>a.payload?.searchHub??t).addCase(ds,(t,a)=>a.payload.searchHub||t)});function xv(e){return{status:e,isUninitialized:e==="uninitialized",isLoading:e==="pending",isSuccess:e==="fulfilled",isError:e==="rejected"}}var Mv=dr;function _v(e,t){if(e===t||!(Mv(e)&&Mv(t)||Array.isArray(e)&&Array.isArray(t)))return t;const a=Object.keys(t),s=Object.keys(e);let c=a.length===s.length;const o=Array.isArray(t)?[]:{};for(const f of a)o[f]=_v(e[f],t[f]),c&&(c=e[f]===o[f]);return c?e:o}function Ga(e){let t=0;for(const a in e)t++;return t}var Uv=e=>[].concat(...e);function Xx(e){return new RegExp("(^|:)//").test(e)}function Zx(){return typeof document>"u"?!0:document.visibilityState!=="hidden"}function Mc(e){return e!=null}function Jx(){return typeof navigator>"u"||navigator.onLine===void 0?!0:navigator.onLine}var Px=e=>e.replace(/\/$/,""),Wx=e=>e.replace(/^\//,"");function eM(e,t){if(!e)return t;if(!t)return e;if(Xx(t))return t;const a=e.endsWith("/")||!t.startsWith("?")?"/":"";return e=Px(e),t=Wx(t),`${e}${a}${t}`}function tM(e,t,a){return e.has(t)?e.get(t):e.set(t,a).get(t)}var Iv=(...e)=>fetch(...e),nM=e=>e.status>=200&&e.status<=299,rM=e=>/ion\/(vnd\.api\+)?json/.test(e.get("content-type")||"");function Fv(e){if(!dr(e))return e;const t={...e};for(const[a,s]of Object.entries(t))s===void 0&&delete t[a];return t}function aM({baseUrl:e,prepareHeaders:t=v=>v,fetchFn:a=Iv,paramsSerializer:s,isJsonContentType:c=rM,jsonContentType:o="application/json",jsonReplacer:f,timeout:h,responseHandler:g,validateStatus:m,...p}={}){return typeof fetch>"u"&&a===Iv&&console.warn("Warning: `fetch` is not available. Please supply a custom `fetchFn` property to use `fetchBaseQuery` on SSR environments."),async(S,w,C)=>{const{getState:A,extra:O,endpoint:q,forced:M,type:R}=w;let U,{url:Z,headers:k=new Headers(p.headers),params:x=void 0,responseHandler:z=g??"json",validateStatus:K=m??nM,timeout:J=h,...ie}=typeof S=="string"?{url:S}:S,ce,ve=w.signal;J&&(ce=new AbortController,w.signal.addEventListener("abort",ce.abort),ve=ce.signal);let ge={...p,signal:ve,...ie};k=new Headers(Fv(k)),ge.headers=await t(k,{getState:A,arg:S,extra:O,endpoint:q,forced:M,type:R,extraOptions:C})||k;const N=B=>typeof B=="object"&&(dr(B)||Array.isArray(B)||typeof B.toJSON=="function");if(!ge.headers.has("content-type")&&N(ge.body)&&ge.headers.set("content-type",o),N(ge.body)&&c(ge.headers)&&(ge.body=JSON.stringify(ge.body,f)),x){const B=~Z.indexOf("?")?"&":"?",ae=s?s(x):new URLSearchParams(Fv(x));Z+=B+ae}Z=eM(e,Z);const E=new Request(Z,ge);U={request:new Request(Z,ge)};let te,ue=!1,fe=ce&&setTimeout(()=>{ue=!0,ce.abort()},J);try{te=await a(E)}catch(B){return{error:{status:ue?"TIMEOUT_ERROR":"FETCH_ERROR",error:String(B)},meta:U}}finally{fe&&clearTimeout(fe),ce?.signal.removeEventListener("abort",ce.abort)}const D=te.clone();U.response=D;let Q,W="";try{let B;if(await Promise.all([v(te,z).then(ae=>Q=ae,ae=>B=ae),D.text().then(ae=>W=ae,()=>{})]),B)throw B}catch(B){return{error:{status:"PARSING_ERROR",originalStatus:te.status,data:W,error:String(B)},meta:U}}return K(te,Q)?{data:Q,meta:U}:{error:{status:te.status,data:Q},meta:U}};async function v(S,w){if(typeof w=="function")return w(S);if(w==="content-type"&&(w=c(S.headers)?"json":"text"),w==="json"){const C=await S.text();return C.length?JSON.parse(C):null}return S.text()}}var Ka=class{constructor(e,t=void 0){this.value=e,this.meta=t}};async function iM(e=0,t=5){const a=Math.min(e,t),s=~~((Math.random()+.4)*(300<<a));await new Promise(c=>setTimeout(o=>c(o),s))}function sM(e,t){throw Object.assign(new Ka({error:e,meta:t}),{throwImmediately:!0})}var kv={},uM=(e,t)=>async(a,s,c)=>{const o=[5,(t||kv).maxRetries,(c||kv).maxRetries].filter(p=>p!==void 0),[f]=o.slice(-1),g={maxRetries:f,backoff:iM,retryCondition:(p,v,{attempt:S})=>S<=f,...t,...c};let m=0;for(;;)try{const p=await e(a,s,c);if(p.error)throw new Ka(p);return p}catch(p){if(m++,p.throwImmediately){if(p instanceof Ka)return p.value;throw p}if(p instanceof Ka&&!g.retryCondition(p.value.error,a,{attempt:m,baseQueryApi:s,extraOptions:c}))return p.value;await g.backoff(m,g.maxRetries)}},cM=Object.assign(uM,{fail:sM}),Bd=I("__rtkq/focused"),zv=I("__rtkq/unfocused"),Hd=I("__rtkq/online"),Nv=I("__rtkq/offline");function Yd(e){return e.type==="query"}function oM(e){return e.type==="mutation"}function $d(e){return e.type==="infinitequery"}function Gd(e,t,a,s,c,o){return lM(e)?e(t,a,s,c).filter(Mc).map(Kd).map(o):Array.isArray(e)?e.map(Kd).map(o):[]}function lM(e){return typeof e=="function"}function Kd(e){return typeof e=="string"?{type:e}:e}function dM(e,t){return e.catch(t)}var As=Symbol("forceQueryFn"),Xd=e=>typeof e[As]=="function";function fM({serializeQueryArgs:e,queryThunk:t,infiniteQueryThunk:a,mutationThunk:s,api:c,context:o}){const f=new Map,h=new Map,{unsubscribeQueryResult:g,removeMutationResult:m,updateSubscriptionOptions:p}=c.internalActions;return{buildInitiateQuery:O,buildInitiateInfiniteQuery:q,buildInitiateMutation:M,getRunningQueryThunk:v,getRunningMutationThunk:S,getRunningQueriesThunk:w,getRunningMutationsThunk:C};function v(R,U){return Z=>{const k=o.endpointDefinitions[R],x=e({queryArgs:U,endpointDefinition:k,endpointName:R});return f.get(Z)?.[x]}}function S(R,U){return Z=>h.get(Z)?.[U]}function w(){return R=>Object.values(f.get(R)||{}).filter(Mc)}function C(){return R=>Object.values(h.get(R)||{}).filter(Mc)}function A(R,U){const Z=(k,{subscribe:x=!0,forceRefetch:z,subscriptionOptions:K,[As]:J,...ie}={})=>(ce,ve)=>{const ge=e({queryArgs:k,endpointDefinition:U,endpointName:R});let N;const E={...ie,type:"query",subscribe:x,forceRefetch:z,subscriptionOptions:K,endpointName:R,originalArgs:k,queryCacheKey:ge,[As]:J};if(Yd(U))N=t(E);else{const{direction:le,initialPageParam:we}=ie;N=a({...E,direction:le,initialPageParam:we})}const L=c.endpoints[R].select(k),te=ce(N),ue=L(ve()),{requestId:fe,abort:D}=te,Q=ue.requestId!==fe,W=f.get(ce)?.[ge],B=()=>L(ve()),ae=Object.assign(J?te.then(B):Q&&!W?Promise.resolve(ue):Promise.all([W,te]).then(B),{arg:k,requestId:fe,subscriptionOptions:K,queryCacheKey:ge,abort:D,async unwrap(){const le=await ae;if(le.isError)throw le.error;return le.data},refetch:()=>ce(Z(k,{subscribe:!1,forceRefetch:!0})),unsubscribe(){x&&ce(g({queryCacheKey:ge,requestId:fe}))},updateSubscriptionOptions(le){ae.subscriptionOptions=le,ce(p({endpointName:R,requestId:fe,queryCacheKey:ge,options:le}))}});if(!W&&!Q&&!J){const le=tM(f,ce,{});le[ge]=ae,ae.then(()=>{delete le[ge],Ga(le)||f.delete(ce)})}return ae};return Z}function O(R,U){return A(R,U)}function q(R,U){return A(R,U)}function M(R){return(U,{track:Z=!0,fixedCacheKey:k}={})=>(x,z)=>{const K=s({type:"mutation",endpointName:R,originalArgs:U,track:Z,fixedCacheKey:k}),J=x(K),{requestId:ie,abort:ce,unwrap:ve}=J,ge=dM(J.unwrap().then(te=>({data:te})),te=>({error:te})),N=()=>{x(m({requestId:ie,fixedCacheKey:k}))},E=Object.assign(ge,{arg:J.arg,requestId:ie,abort:ce,unwrap:ve,reset:N}),L=h.get(x)||{};return h.set(x,L),L[ie]=E,E.then(()=>{delete L[ie],Ga(L)||h.delete(x)}),k&&(L[k]=E,E.then(()=>{L[k]===E&&(delete L[k],Ga(L)||h.delete(x))})),E}}}function hM(e){return e}var _c=(e={})=>({...e,[Ju]:!0});function gM({reducerPath:e,baseQuery:t,context:{endpointDefinitions:a},serializeQueryArgs:s,api:c,assertTagType:o,selectors:f}){const h=(z,K,J,ie)=>(ce,ve)=>{const ge=a[z],N=s({queryArgs:K,endpointDefinition:ge,endpointName:z});if(ce(c.internalActions.queryResultPatched({queryCacheKey:N,patches:J})),!ie)return;const E=c.endpoints[z].select(K)(ve()),L=Gd(ge.providesTags,E.data,void 0,K,{},o);ce(c.internalActions.updateProvidedBy({queryCacheKey:N,providedTags:L}))};function g(z,K,J=0){const ie=[K,...z];return J&&ie.length>J?ie.slice(0,-1):ie}function m(z,K,J=0){const ie=[...z,K];return J&&ie.length>J?ie.slice(1):ie}const p=(z,K,J,ie=!0)=>(ce,ve)=>{const N=c.endpoints[z].select(K)(ve()),E={patches:[],inversePatches:[],undo:()=>ce(c.util.patchQueryData(z,K,E.inversePatches,ie))};if(N.status==="uninitialized")return E;let L;if("data"in N)if(vn(N.data)){const[te,ue,fe]=gy(N.data,J);E.patches.push(...ue),E.inversePatches.push(...fe),L=te}else L=J(N.data),E.patches.push({op:"replace",path:[],value:L}),E.inversePatches.push({op:"replace",path:[],value:N.data});return E.patches.length===0||ce(c.util.patchQueryData(z,K,E.patches,ie)),E},v=(z,K,J)=>ie=>ie(c.endpoints[z].initiate(K,{subscribe:!1,forceRefetch:!0,[As]:()=>({data:J})})),S=(z,K)=>z.query&&z[K]?z[K]:hM,w=async(z,{signal:K,abort:J,rejectWithValue:ie,fulfillWithValue:ce,dispatch:ve,getState:ge,extra:N})=>{const E=a[z.endpointName];try{let L=S(E,"transformResponse");const te={signal:K,abort:J,dispatch:ve,getState:ge,extra:N,endpoint:z.endpointName,type:z.type,forced:z.type==="query"?C(z,ge()):void 0,queryCacheKey:z.type==="query"?z.queryCacheKey:void 0},ue=z.type==="query"?z[As]:void 0;let fe;const D=async(W,B,ae,le)=>{if(B==null&&W.pages.length)return Promise.resolve({data:W});const we={queryArg:z.originalArgs,pageParam:B},We=await Q(we),ke=le?g:m;return{data:{pages:ke(W.pages,We.data,ae),pageParams:ke(W.pageParams,B,ae)}}};async function Q(W){let B;const{extraOptions:ae}=E;if(ue?B=ue():E.query?B=await t(E.query(W),te,ae):B=await E.queryFn(W,te,ae,we=>t(we,te,ae)),typeof process<"u",B.error)throw new Ka(B.error,B.meta);const le=await L(B.data,B.meta,W);return{...B,data:le}}if(z.type==="query"&&"infiniteQueryOptions"in E){const{infiniteQueryOptions:W}=E,{maxPages:B=1/0}=W;let ae;const le={pages:[],pageParams:[]},we=f.selectQueryEntry(ge(),z.queryCacheKey)?.data,ke=C(z,ge())&&!z.direction||!we?le:we;if("direction"in z&&z.direction&&ke.pages.length){const Xe=z.direction==="backward",Kt=(Xe?Qv:Zd)(W,ke);ae=await D(ke,Kt,B,Xe)}else{const{initialPageParam:Xe=W.initialPageParam}=z,ft=we?.pageParams??[],Kt=ft[0]??Xe,ca=ft.length;ae=await D(ke,Kt,B),ue&&(ae={data:ae.data.pages[0]});for(let Ft=1;Ft<ca;Ft++){const Sr=Zd(W,ae.data);ae=await D(ae.data,Sr,B)}}fe=ae}else fe=await Q(z.originalArgs);return ce(fe.data,_c({fulfilledTimeStamp:Date.now(),baseQueryMeta:fe.meta}))}catch(L){let te=L;if(te instanceof Ka){let ue=S(E,"transformErrorResponse");try{return ie(await ue(te.value,te.meta,z.originalArgs),_c({baseQueryMeta:te.meta}))}catch(fe){te=fe}}throw console.error(te),te}};function C(z,K){const J=f.selectQueryEntry(K,z.queryCacheKey),ie=f.selectConfig(K).refetchOnMountOrArgChange,ce=J?.fulfilledTimeStamp,ve=z.forceRefetch??(z.subscribe&&ie);return ve?ve===!0||(Number(new Date)-Number(ce))/1e3>=ve:!1}const A=()=>Ce(`${e}/executeQuery`,w,{getPendingMeta({arg:K}){const J=a[K.endpointName];return _c({startedTimeStamp:Date.now(),...$d(J)?{direction:K.direction}:{}})},condition(K,{getState:J}){const ie=J(),ce=f.selectQueryEntry(ie,K.queryCacheKey),ve=ce?.fulfilledTimeStamp,ge=K.originalArgs,N=ce?.originalArgs,E=a[K.endpointName],L=K.direction;return Xd(K)?!0:ce?.status==="pending"?!1:C(K,ie)||Yd(E)&&E?.forceRefetch?.({currentArg:ge,previousArg:N,endpointState:ce,state:ie})?!0:!(ve&&!L)},dispatchConditionRejection:!0}),O=A(),q=A(),M=Ce(`${e}/executeMutation`,w,{getPendingMeta(){return _c({startedTimeStamp:Date.now()})}}),R=z=>"force"in z,U=z=>"ifOlderThan"in z,Z=(z,K,J)=>(ie,ce)=>{const ve=R(J)&&J.force,ge=U(J)&&J.ifOlderThan,N=(L=!0)=>{const te={forceRefetch:L,isPrefetch:!0};return c.endpoints[z].initiate(K,te)},E=c.endpoints[z].select(K)(ce());if(ve)ie(N());else if(ge){const L=E?.fulfilledTimeStamp;if(!L){ie(N());return}(Number(new Date)-Number(new Date(L)))/1e3>=ge&&ie(N())}else ie(N(!1))};function k(z){return K=>K?.meta?.arg?.endpointName===z}function x(z,K){return{matchPending:is($l(z),k(K)),matchFulfilled:is(fr(z),k(K)),matchRejected:is(ka(z),k(K))}}return{queryThunk:O,mutationThunk:M,infiniteQueryThunk:q,prefetch:Z,updateQueryData:p,upsertQueryData:v,patchQueryData:h,buildMatchThunkActions:x}}function Zd(e,{pages:t,pageParams:a}){const s=t.length-1;return e.getNextPageParam(t[s],t,a[s],a)}function Qv(e,{pages:t,pageParams:a}){return e.getPreviousPageParam?.(t[0],t,a[0],a)}function Vv(e,t,a,s){return Gd(a[e.meta.arg.endpointName][t],fr(e)?e.payload:void 0,Wu(e)?e.payload:void 0,e.meta.arg.originalArgs,"baseQueryMeta"in e.meta?e.meta.baseQueryMeta:void 0,s)}function Uc(e,t,a){const s=e[t];s&&a(s)}function Rs(e){return("arg"in e?e.arg.fixedCacheKey:e.fixedCacheKey)??e.requestId}function jv(e,t,a){const s=e[Rs(t)];s&&a(s)}var Os={};function mM({reducerPath:e,queryThunk:t,mutationThunk:a,serializeQueryArgs:s,context:{endpointDefinitions:c,apiUid:o,extractRehydrationInfo:f,hasRehydrationInfo:h},assertTagType:g,config:m}){const p=I(`${e}/resetApiState`);function v(k,x,z,K){k[x.queryCacheKey]??={status:"uninitialized",endpointName:x.endpointName},Uc(k,x.queryCacheKey,J=>{J.status="pending",J.requestId=z&&J.requestId?J.requestId:K.requestId,x.originalArgs!==void 0&&(J.originalArgs=x.originalArgs),J.startedTimeStamp=K.startedTimeStamp;const ie=c[K.arg.endpointName];$d(ie)&&"direction"in x&&(J.direction=x.direction)})}function S(k,x,z,K){Uc(k,x.arg.queryCacheKey,J=>{if(J.requestId!==x.requestId&&!K)return;const{merge:ie}=c[x.arg.endpointName];if(J.status="fulfilled",ie)if(J.data!==void 0){const{fulfilledTimeStamp:ce,arg:ve,baseQueryMeta:ge,requestId:N}=x;let E=rs(J.data,L=>ie(L,z,{arg:ve.originalArgs,baseQueryMeta:ge,fulfilledTimeStamp:ce,requestId:N}));J.data=E}else J.data=z;else J.data=c[x.arg.endpointName].structuralSharing??!0?_v(On(J.data)?yO(J.data):J.data,z):z;delete J.error,J.fulfilledTimeStamp=x.fulfilledTimeStamp})}const w=za({name:`${e}/queries`,initialState:Os,reducers:{removeQueryResult:{reducer(k,{payload:{queryCacheKey:x}}){delete k[x]},prepare:as()},cacheEntriesUpserted:{reducer(k,x){for(const z of x.payload){const{queryDescription:K,value:J}=z;v(k,K,!0,{arg:K,requestId:x.meta.requestId,startedTimeStamp:x.meta.timestamp}),S(k,{arg:K,requestId:x.meta.requestId,fulfilledTimeStamp:x.meta.timestamp,baseQueryMeta:{}},J,!0)}},prepare:k=>({payload:k.map(K=>{const{endpointName:J,arg:ie,value:ce}=K,ve=c[J];return{queryDescription:{type:"query",endpointName:J,originalArgs:K.arg,queryCacheKey:s({queryArgs:ie,endpointDefinition:ve,endpointName:J})},value:ce}}),meta:{[Ju]:!0,requestId:Kl(),timestamp:Date.now()}})},queryResultPatched:{reducer(k,{payload:{queryCacheKey:x,patches:z}}){Uc(k,x,K=>{K.data=my(K.data,z.concat())})},prepare:as()}},extraReducers(k){k.addCase(t.pending,(x,{meta:z,meta:{arg:K}})=>{const J=Xd(K);v(x,K,J,z)}).addCase(t.fulfilled,(x,{meta:z,payload:K})=>{const J=Xd(z.arg);S(x,z,K,J)}).addCase(t.rejected,(x,{meta:{condition:z,arg:K,requestId:J},error:ie,payload:ce})=>{Uc(x,K.queryCacheKey,ve=>{if(!z){if(ve.requestId!==J)return;ve.status="rejected",ve.error=ce??ie}})}).addMatcher(h,(x,z)=>{const{queries:K}=f(z);for(const[J,ie]of Object.entries(K))(ie?.status==="fulfilled"||ie?.status==="rejected")&&(x[J]=ie)})}}),C=za({name:`${e}/mutations`,initialState:Os,reducers:{removeMutationResult:{reducer(k,{payload:x}){const z=Rs(x);z in k&&delete k[z]},prepare:as()}},extraReducers(k){k.addCase(a.pending,(x,{meta:z,meta:{requestId:K,arg:J,startedTimeStamp:ie}})=>{J.track&&(x[Rs(z)]={requestId:K,status:"pending",endpointName:J.endpointName,startedTimeStamp:ie})}).addCase(a.fulfilled,(x,{payload:z,meta:K})=>{K.arg.track&&jv(x,K,J=>{J.requestId===K.requestId&&(J.status="fulfilled",J.data=z,J.fulfilledTimeStamp=K.fulfilledTimeStamp)})}).addCase(a.rejected,(x,{payload:z,error:K,meta:J})=>{J.arg.track&&jv(x,J,ie=>{ie.requestId===J.requestId&&(ie.status="rejected",ie.error=z??K)})}).addMatcher(h,(x,z)=>{const{mutations:K}=f(z);for(const[J,ie]of Object.entries(K))(ie?.status==="fulfilled"||ie?.status==="rejected")&&J!==ie?.requestId&&(x[J]=ie)})}}),A=za({name:`${e}/invalidation`,initialState:Os,reducers:{updateProvidedBy:{reducer(k,x){const{queryCacheKey:z,providedTags:K}=x.payload;for(const J of Object.values(k))for(const ie of Object.values(J)){const ce=ie.indexOf(z);ce!==-1&&ie.splice(ce,1)}for(const{type:J,id:ie}of K){const ce=(k[J]??={})[ie||"__internal_without_id"]??=[];ce.includes(z)||ce.push(z)}},prepare:as()}},extraReducers(k){k.addCase(w.actions.removeQueryResult,(x,{payload:{queryCacheKey:z}})=>{for(const K of Object.values(x))for(const J of Object.values(K)){const ie=J.indexOf(z);ie!==-1&&J.splice(ie,1)}}).addMatcher(h,(x,z)=>{const{provided:K}=f(z);for(const[J,ie]of Object.entries(K))for(const[ce,ve]of Object.entries(ie)){const ge=(x[J]??={})[ce||"__internal_without_id"]??=[];for(const N of ve)ge.includes(N)||ge.push(N)}}).addMatcher(kn(fr(t),Wu(t)),(x,z)=>{const K=Vv(z,"providesTags",c,g),{queryCacheKey:J}=z.meta.arg;A.caseReducers.updateProvidedBy(x,A.actions.updateProvidedBy({queryCacheKey:J,providedTags:K}))})}}),O=za({name:`${e}/subscriptions`,initialState:Os,reducers:{updateSubscriptionOptions(k,x){},unsubscribeQueryResult(k,x){},internal_getRTKQSubscriptions(){}}}),q=za({name:`${e}/internalSubscriptions`,initialState:Os,reducers:{subscriptionsUpdated:{reducer(k,x){return my(k,x.payload)},prepare:as()}}}),M=za({name:`${e}/config`,initialState:{online:Jx(),focused:Zx(),middlewareRegistered:!1,...m},reducers:{middlewareRegistered(k,{payload:x}){k.middlewareRegistered=k.middlewareRegistered==="conflict"||o!==x?"conflict":!0}},extraReducers:k=>{k.addCase(Hd,x=>{x.online=!0}).addCase(Nv,x=>{x.online=!1}).addCase(Bd,x=>{x.focused=!0}).addCase(zv,x=>{x.focused=!1}).addMatcher(h,x=>({...x}))}}),R=Ul({queries:w.reducer,mutations:C.reducer,provided:A.reducer,subscriptions:q.reducer,config:M.reducer}),U=(k,x)=>R(p.match(x)?void 0:k,x),Z={...M.actions,...w.actions,...O.actions,...q.actions,...C.actions,...A.actions,resetApiState:p};return{reducer:U,actions:Z}}var Ic=Symbol.for("RTKQ/skipToken"),Lv={status:"uninitialized"},Bv=rs(Lv,()=>{}),Hv=rs(Lv,()=>{});function yM({serializeQueryArgs:e,reducerPath:t,createSelector:a}){const s=R=>Bv,c=R=>Hv;return{buildQuerySelector:S,buildInfiniteQuerySelector:w,buildMutationSelector:C,selectInvalidatedBy:A,selectCachedArgsForQuery:O,selectApiState:f,selectQueries:h,selectMutations:m,selectQueryEntry:g,selectConfig:p};function o(R){return{...R,...xv(R.status)}}function f(R){return R[t]}function h(R){return f(R)?.queries}function g(R,U){return h(R)?.[U]}function m(R){return f(R)?.mutations}function p(R){return f(R)?.config}function v(R,U,Z){return k=>{if(k===Ic)return a(s,Z);const x=e({queryArgs:k,endpointDefinition:U,endpointName:R});return a(K=>g(K,x)??Bv,Z)}}function S(R,U){return v(R,U,o)}function w(R,U){const{infiniteQueryOptions:Z}=U;function k(x){const z={...x,...xv(x.status)},{isLoading:K,isError:J,direction:ie}=z,ce=ie==="forward",ve=ie==="backward";return{...z,hasNextPage:q(Z,z.data),hasPreviousPage:M(Z,z.data),isFetchingNextPage:K&&ce,isFetchingPreviousPage:K&&ve,isFetchNextPageError:J&&ce,isFetchPreviousPageError:J&&ve}}return v(R,U,k)}function C(){return R=>{let U;return typeof R=="object"?U=Rs(R)??Ic:U=R,a(U===Ic?c:x=>f(x)?.mutations?.[U]??Hv,o)}}function A(R,U){const Z=R[t],k=new Set;for(const x of U.filter(Mc).map(Kd)){const z=Z.provided[x.type];if(!z)continue;let K=(x.id!==void 0?z[x.id]:Uv(Object.values(z)))??[];for(const J of K)k.add(J)}return Uv(Array.from(k.values()).map(x=>{const z=Z.queries[x];return z?[{queryCacheKey:x,endpointName:z.endpointName,originalArgs:z.originalArgs}]:[]}))}function O(R,U){return Object.values(h(R)).filter(Z=>Z?.endpointName===U&&Z.status!=="uninitialized").map(Z=>Z.originalArgs)}function q(R,U){return U?Zd(R,U)!=null:!1}function M(R,U){return!U||!R.getPreviousPageParam?!1:Qv(R,U)!=null}}var Yv=WeakMap?new WeakMap:void 0,$v=({endpointName:e,queryArgs:t})=>{let a="";const s=Yv?.get(t);if(typeof s=="string")a=s;else{const c=JSON.stringify(t,(o,f)=>(f=typeof f=="bigint"?{$bigint:f.toString()}:f,f=dr(f)?Object.keys(f).sort().reduce((h,g)=>(h[g]=f[g],h),{}):f,f));dr(t)&&Yv?.set(t,c),a=c}return`${e}(${a})`};function pM(...e){return function(a){const s=Zu(m=>a.extractRehydrationInfo?.(m,{reducerPath:a.reducerPath??"api"})),c={reducerPath:"api",keepUnusedDataFor:60,refetchOnMountOrArgChange:!1,refetchOnFocus:!1,refetchOnReconnect:!1,invalidationBehavior:"delayed",...a,extractRehydrationInfo:s,serializeQueryArgs(m){let p=$v;if("serializeQueryArgs"in m.endpointDefinition){const v=m.endpointDefinition.serializeQueryArgs;p=S=>{const w=v(S);return typeof w=="string"?w:$v({...S,queryArgs:w})}}else a.serializeQueryArgs&&(p=a.serializeQueryArgs);return p(m)},tagTypes:[...a.tagTypes||[]]},o={endpointDefinitions:{},batch(m){m()},apiUid:Kl(),extractRehydrationInfo:s,hasRehydrationInfo:Zu(m=>s(m)!=null)},f={injectEndpoints:g,enhanceEndpoints({addTagTypes:m,endpoints:p}){if(m)for(const v of m)c.tagTypes.includes(v)||c.tagTypes.push(v);if(p)for(const[v,S]of Object.entries(p))typeof S=="function"?S(o.endpointDefinitions[v]):Object.assign(o.endpointDefinitions[v]||{},S);return f}},h=e.map(m=>m.init(f,c,o));function g(m){const p=m.endpoints({query:v=>({...v,type:"query"}),mutation:v=>({...v,type:"mutation"}),infiniteQuery:v=>({...v,type:"infinitequery"})});for(const[v,S]of Object.entries(p)){if(m.overrideExisting!==!0&&v in o.endpointDefinitions){if(m.overrideExisting==="throw")throw new Error(qn(39));continue}o.endpointDefinitions[v]=S;for(const w of h)w.injectEndpoint(v,S)}return f}return f.injectEndpoints({endpoints:a.endpoints})}}function Ln(e,...t){return Object.assign(e,...t)}var vM=({api:e,queryThunk:t,internalState:a})=>{const s=`${e.reducerPath}/subscriptions`;let c=null,o=null;const{updateSubscriptionOptions:f,unsubscribeQueryResult:h}=e.internalActions,g=(w,C)=>{if(f.match(C)){const{queryCacheKey:O,requestId:q,options:M}=C.payload;return w?.[O]?.[q]&&(w[O][q]=M),!0}if(h.match(C)){const{queryCacheKey:O,requestId:q}=C.payload;return w[O]&&delete w[O][q],!0}if(e.internalActions.removeQueryResult.match(C))return delete w[C.payload.queryCacheKey],!0;if(t.pending.match(C)){const{meta:{arg:O,requestId:q}}=C,M=w[O.queryCacheKey]??={};return M[`${q}_running`]={},O.subscribe&&(M[q]=O.subscriptionOptions??M[q]??{}),!0}let A=!1;if(t.fulfilled.match(C)||t.rejected.match(C)){const O=w[C.meta.arg.queryCacheKey]||{},q=`${C.meta.requestId}_running`;A||=!!O[q],delete O[q]}if(t.rejected.match(C)){const{meta:{condition:O,arg:q,requestId:M}}=C;if(O&&q.subscribe){const R=w[q.queryCacheKey]??={};R[M]=q.subscriptionOptions??R[M]??{},A=!0}}return A},m=()=>a.currentSubscriptions,S={getSubscriptions:m,getSubscriptionCount:w=>{const A=m()[w]??{};return Ga(A)},isRequestSubscribed:(w,C)=>!!m()?.[w]?.[C]};return(w,C)=>{if(c||(c=JSON.parse(JSON.stringify(a.currentSubscriptions))),e.util.resetApiState.match(w))return c=a.currentSubscriptions={},o=null,[!0,!1];if(e.internalActions.internal_getRTKQSubscriptions.match(w))return[!1,S];const A=g(a.currentSubscriptions,w);let O=!0;if(A){o||(o=setTimeout(()=>{const R=JSON.parse(JSON.stringify(a.currentSubscriptions)),[,U]=gy(c,()=>R);C.next(e.internalActions.subscriptionsUpdated(U)),c=R,o=null},500));const q=typeof w.type=="string"&&!!w.type.startsWith(s),M=t.rejected.match(w)&&w.meta.condition&&!!w.meta.arg.subscribe;O=!q&&!M}return[O,!1]}};function SM(e){for(const t in e)return!1;return!0}var bM=2147483647/1e3-1,wM=({reducerPath:e,api:t,queryThunk:a,context:s,internalState:c,selectors:{selectQueryEntry:o,selectConfig:f}})=>{const{removeQueryResult:h,unsubscribeQueryResult:g,cacheEntriesUpserted:m}=t.internalActions,p=kn(g.match,a.fulfilled,a.rejected,m.match);function v(O){const q=c.currentSubscriptions[O];return!!q&&!SM(q)}const S={},w=(O,q,M)=>{const R=q.getState(),U=f(R);if(p(O)){let Z;if(m.match(O))Z=O.payload.map(k=>k.queryDescription.queryCacheKey);else{const{queryCacheKey:k}=g.match(O)?O.payload:O.meta.arg;Z=[k]}C(Z,q,U)}if(t.util.resetApiState.match(O))for(const[Z,k]of Object.entries(S))k&&clearTimeout(k),delete S[Z];if(s.hasRehydrationInfo(O)){const{queries:Z}=s.extractRehydrationInfo(O);C(Object.keys(Z),q,U)}};function C(O,q,M){const R=q.getState();for(const U of O){const Z=o(R,U);A(U,Z?.endpointName,q,M)}}function A(O,q,M,R){const Z=s.endpointDefinitions[q]?.keepUnusedDataFor??R.keepUnusedDataFor;if(Z===1/0)return;const k=Math.max(0,Math.min(Z,bM));if(!v(O)){const x=S[O];x&&clearTimeout(x),S[O]=setTimeout(()=>{v(O)||M.dispatch(h({queryCacheKey:O})),delete S[O]},k*1e3)}}return w},Gv=new Error("Promise never resolved before cacheEntryRemoved."),CM=({api:e,reducerPath:t,context:a,queryThunk:s,mutationThunk:c,internalState:o,selectors:{selectQueryEntry:f,selectApiState:h}})=>{const g=Gl(s),m=Gl(c),p=fr(s,c),v={};function S(q,M,R){const U=v[q];U?.valueResolved&&(U.valueResolved({data:M,meta:R}),delete U.valueResolved)}function w(q){const M=v[q];M&&(delete v[q],M.cacheEntryRemoved())}const C=(q,M,R)=>{const U=A(q);function Z(k,x,z,K){const J=f(R,x),ie=f(M.getState(),x);!J&&ie&&O(k,K,x,M,z)}if(s.pending.match(q))Z(q.meta.arg.endpointName,U,q.meta.requestId,q.meta.arg.originalArgs);else if(e.internalActions.cacheEntriesUpserted.match(q))for(const{queryDescription:k,value:x}of q.payload){const{endpointName:z,originalArgs:K,queryCacheKey:J}=k;Z(z,J,q.meta.requestId,K),S(J,x,{})}else if(c.pending.match(q))M.getState()[t].mutations[U]&&O(q.meta.arg.endpointName,q.meta.arg.originalArgs,U,M,q.meta.requestId);else if(p(q))S(U,q.payload,q.meta.baseQueryMeta);else if(e.internalActions.removeQueryResult.match(q)||e.internalActions.removeMutationResult.match(q))w(U);else if(e.util.resetApiState.match(q))for(const k of Object.keys(v))w(k)};function A(q){return g(q)?q.meta.arg.queryCacheKey:m(q)?q.meta.arg.fixedCacheKey??q.meta.requestId:e.internalActions.removeQueryResult.match(q)?q.payload.queryCacheKey:e.internalActions.removeMutationResult.match(q)?Rs(q.payload):""}function O(q,M,R,U,Z){const k=a.endpointDefinitions[q],x=k?.onCacheEntryAdded;if(!x)return;const z={},K=new Promise(N=>{z.cacheEntryRemoved=N}),J=Promise.race([new Promise(N=>{z.valueResolved=N}),K.then(()=>{throw Gv})]);J.catch(()=>{}),v[R]=z;const ie=e.endpoints[q].select(k.type==="query"?M:R),ce=U.dispatch((N,E,L)=>L),ve={...U,getCacheEntry:()=>ie(U.getState()),requestId:Z,extra:ce,updateCachedData:k.type==="query"?N=>U.dispatch(e.util.updateQueryData(q,M,N)):void 0,cacheDataLoaded:J,cacheEntryRemoved:K},ge=x(M,ve);Promise.resolve(ge).catch(N=>{if(N!==Gv)throw N})}return C},AM=({api:e,context:{apiUid:t},reducerPath:a})=>(s,c)=>{e.util.resetApiState.match(s)&&c.dispatch(e.internalActions.middlewareRegistered(t))},RM=({reducerPath:e,context:t,context:{endpointDefinitions:a},mutationThunk:s,queryThunk:c,api:o,assertTagType:f,refetchQuery:h,internalState:g})=>{const{removeQueryResult:m}=o.internalActions,p=kn(fr(s),Wu(s)),v=kn(fr(s,c),ka(s,c));let S=[];const w=(O,q)=>{p(O)?A(Vv(O,"invalidatesTags",a,f),q):v(O)?A([],q):o.util.invalidateTags.match(O)&&A(Gd(O.payload,void 0,void 0,void 0,void 0,f),q)};function C(O){const{queries:q,mutations:M}=O;for(const R of[q,M])for(const U in R)if(R[U]?.status==="pending")return!0;return!1}function A(O,q){const M=q.getState(),R=M[e];if(S.push(...O),R.config.invalidationBehavior==="delayed"&&C(R))return;const U=S;if(S=[],U.length===0)return;const Z=o.util.selectInvalidatedBy(M,U);t.batch(()=>{const k=Array.from(Z.values());for(const{queryCacheKey:x}of k){const z=R.queries[x],K=g.currentSubscriptions[x]??{};z&&(Ga(K)===0?q.dispatch(m({queryCacheKey:x})):z.status!=="uninitialized"&&q.dispatch(h(z)))}})}return w},OM=({reducerPath:e,queryThunk:t,api:a,refetchQuery:s,internalState:c})=>{const o={},f=(S,w)=>{(a.internalActions.updateSubscriptionOptions.match(S)||a.internalActions.unsubscribeQueryResult.match(S))&&g(S.payload,w),(t.pending.match(S)||t.rejected.match(S)&&S.meta.condition)&&g(S.meta.arg,w),(t.fulfilled.match(S)||t.rejected.match(S)&&!S.meta.condition)&&h(S.meta.arg,w),a.util.resetApiState.match(S)&&p()};function h({queryCacheKey:S},w){const C=w.getState()[e],A=C.queries[S],O=c.currentSubscriptions[S];if(!A||A.status==="uninitialized")return;const{lowestPollingInterval:q,skipPollingIfUnfocused:M}=v(O);if(!Number.isFinite(q))return;const R=o[S];R?.timeout&&(clearTimeout(R.timeout),R.timeout=void 0);const U=Date.now()+q;o[S]={nextPollTimestamp:U,pollingInterval:q,timeout:setTimeout(()=>{(C.config.focused||!M)&&w.dispatch(s(A)),h({queryCacheKey:S},w)},q)}}function g({queryCacheKey:S},w){const A=w.getState()[e].queries[S],O=c.currentSubscriptions[S];if(!A||A.status==="uninitialized")return;const{lowestPollingInterval:q}=v(O);if(!Number.isFinite(q)){m(S);return}const M=o[S],R=Date.now()+q;(!M||R<M.nextPollTimestamp)&&h({queryCacheKey:S},w)}function m(S){const w=o[S];w?.timeout&&clearTimeout(w.timeout),delete o[S]}function p(){for(const S of Object.keys(o))m(S)}function v(S={}){let w=!1,C=Number.POSITIVE_INFINITY;for(let A in S)S[A].pollingInterval&&(C=Math.min(S[A].pollingInterval,C),w=S[A].skipPollingIfUnfocused||w);return{lowestPollingInterval:C,skipPollingIfUnfocused:w}}return f},qM=({api:e,context:t,queryThunk:a,mutationThunk:s})=>{const c=$l(a,s),o=ka(a,s),f=fr(a,s),h={};return(m,p)=>{if(c(m)){const{requestId:v,arg:{endpointName:S,originalArgs:w}}=m.meta,C=t.endpointDefinitions[S],A=C?.onQueryStarted;if(A){const O={},q=new Promise((Z,k)=>{O.resolve=Z,O.reject=k});q.catch(()=>{}),h[v]=O;const M=e.endpoints[S].select(C.type==="query"?w:v),R=p.dispatch((Z,k,x)=>x),U={...p,getCacheEntry:()=>M(p.getState()),requestId:v,extra:R,updateCachedData:C.type==="query"?Z=>p.dispatch(e.util.updateQueryData(S,w,Z)):void 0,queryFulfilled:q};A(w,U)}}else if(f(m)){const{requestId:v,baseQueryMeta:S}=m.meta;h[v]?.resolve({data:m.payload,meta:S}),delete h[v]}else if(o(m)){const{requestId:v,rejectedWithValue:S,baseQueryMeta:w}=m.meta;h[v]?.reject({error:m.payload??m.error,isUnhandledError:!S,meta:w}),delete h[v]}}},EM=({reducerPath:e,context:t,api:a,refetchQuery:s,internalState:c})=>{const{removeQueryResult:o}=a.internalActions,f=(g,m)=>{Bd.match(g)&&h(m,"refetchOnFocus"),Hd.match(g)&&h(m,"refetchOnReconnect")};function h(g,m){const p=g.getState()[e],v=p.queries,S=c.currentSubscriptions;t.batch(()=>{for(const w of Object.keys(S)){const C=v[w],A=S[w];if(!A||!C)continue;(Object.values(A).some(q=>q[m]===!0)||Object.values(A).every(q=>q[m]===void 0)&&p.config[m])&&(Ga(A)===0?g.dispatch(o({queryCacheKey:w})):C.status!=="uninitialized"&&g.dispatch(s(C)))}})}return f};function TM(e){const{reducerPath:t,queryThunk:a,api:s,context:c}=e,{apiUid:o}=c,f={invalidateTags:I(`${t}/invalidateTags`)},h=v=>v.type.startsWith(`${t}/`),g=[AM,wM,RM,OM,CM,qM];return{middleware:v=>{let S=!1;const C={...e,internalState:{currentSubscriptions:{}},refetchQuery:p,isThisApiSliceAction:h},A=g.map(M=>M(C)),O=vM(C),q=EM(C);return M=>R=>{if(!ry(R))return M(R);S||(S=!0,v.dispatch(s.internalActions.middlewareRegistered(o)));const U={...v,next:M},Z=v.getState(),[k,x]=O(R,U,Z);let z;if(k?z=M(R):z=x,v.getState()[t]&&(q(R,U,Z),h(R)||c.hasRehydrationInfo(R)))for(const K of A)K(R,U,Z);return z}},actions:f};function p(v){return e.api.endpoints[v.endpointName].initiate(v.originalArgs,{subscribe:!1,forceRefetch:!0})}}var Kv=Symbol(),DM=({createSelector:e=Nt}={})=>({name:Kv,init(t,{baseQuery:a,tagTypes:s,reducerPath:c,serializeQueryArgs:o,keepUnusedDataFor:f,refetchOnMountOrArgChange:h,refetchOnFocus:g,refetchOnReconnect:m,invalidationBehavior:p},v){qO();const S=Q=>Q;Object.assign(t,{reducerPath:c,endpoints:{},internalActions:{onOnline:Hd,onOffline:Nv,onFocus:Bd,onFocusLost:zv},util:{}});const w=yM({serializeQueryArgs:o,reducerPath:c,createSelector:e}),{selectInvalidatedBy:C,selectCachedArgsForQuery:A,buildQuerySelector:O,buildInfiniteQuerySelector:q,buildMutationSelector:M}=w;Ln(t.util,{selectInvalidatedBy:C,selectCachedArgsForQuery:A});const{queryThunk:R,infiniteQueryThunk:U,mutationThunk:Z,patchQueryData:k,updateQueryData:x,upsertQueryData:z,prefetch:K,buildMatchThunkActions:J}=gM({baseQuery:a,reducerPath:c,context:v,api:t,serializeQueryArgs:o,assertTagType:S,selectors:w}),{reducer:ie,actions:ce}=mM({context:v,queryThunk:R,mutationThunk:Z,serializeQueryArgs:o,reducerPath:c,assertTagType:S,config:{refetchOnFocus:g,refetchOnReconnect:m,refetchOnMountOrArgChange:h,keepUnusedDataFor:f,reducerPath:c,invalidationBehavior:p}});Ln(t.util,{patchQueryData:k,updateQueryData:x,upsertQueryData:z,prefetch:K,resetApiState:ce.resetApiState,upsertQueryEntries:ce.cacheEntriesUpserted}),Ln(t.internalActions,ce);const{middleware:ve,actions:ge}=TM({reducerPath:c,context:v,queryThunk:R,mutationThunk:Z,infiniteQueryThunk:U,api:t,assertTagType:S,selectors:w});Ln(t.util,ge),Ln(t,{reducer:ie,middleware:ve});const{buildInitiateQuery:N,buildInitiateInfiniteQuery:E,buildInitiateMutation:L,getRunningMutationThunk:te,getRunningMutationsThunk:ue,getRunningQueriesThunk:fe,getRunningQueryThunk:D}=fM({queryThunk:R,mutationThunk:Z,infiniteQueryThunk:U,api:t,serializeQueryArgs:o,context:v});return Ln(t.util,{getRunningMutationThunk:te,getRunningMutationsThunk:ue,getRunningQueryThunk:D,getRunningQueriesThunk:fe}),{name:Kv,injectEndpoint(Q,W){const B=t,ae=B.endpoints[Q]??={};Yd(W)&&Ln(ae,{name:Q,select:O(Q,W),initiate:N(Q,W)},J(R,Q)),oM(W)&&Ln(ae,{name:Q,select:M(),initiate:L(Q)},J(Z,Q)),$d(W)&&Ln(ae,{name:Q,select:q(Q,W),initiate:E(Q,W)},J(R,Q))}}}}),xM=pM(DM());const Xv=e=>e.query,MM=e=>e.query?.enableQuerySyntax;Nt(e=>Xv(e)?.q,e=>e.search.requestId,e=>e.generatedAnswer.cannotAnswer,e=>e.configuration.analytics.analyticsMode,e=>e.search.searchAction?.actionCause,(e,t,a,s,c)=>({q:e,requestId:t,cannotAnswer:a,analyticsMode:s,actionCause:c})),Nt(e=>e.generatedAnswer?.answerApiQueryParams,e=>e??Ic);const Zv=e=>nt({prefix:"analytics/generatedAnswer/streamEnd",__legacy__getBuilder:(t,a)=>{const s=dc(a),c=e?!a.generatedAnswer?.answer||!a.generatedAnswer?.answer.length:void 0;return s?t.makeGeneratedAnswerStreamEnd({generativeQuestionAnsweringId:s,answerGenerated:e,answerTextIsEmpty:c}):null},analyticsType:"Rga.AnswerReceived",analyticsPayloadBuilder:t=>({answerId:dc(t)??"",answerGenerated:e??!1})}),Jv=()=>nt({prefix:"analytics/generatedAnswer/responseLinked",__legacy__getBuilder:()=>null,analyticsType:"Rga.ResponseLinked",analyticsPayloadBuilder:e=>({answerId:dc(e)??"",responseId:e.search?.searchResponseId||e.search?.response.searchUid||""})}),_M=Nt(e=>e.advancedSearchQueries,e=>{if(!e)return{};const{aq:t,cq:a,dq:s,lq:c}=e;return{...t&&{aq:t},...a&&{cq:a},...s&&{dq:s},...c&&{lq:c}}}),UM=e=>e.context,IM=e=>e.pipeline,FM=e=>e.searchHub,Jd=Nt(e=>e,e=>{if(!e)return"";for(const t in e)if(e[t].isActive)return e[t].id;return""});Nt(e=>e,e=>{const t=Jd(e);return t&&e?e[t].expression:""});const kM=e=>e.configuration.search.locale,zM=e=>e.configuration.search.timezone,NM=e=>{if(!(!e.dictionaryFieldContext||!Object.keys(e.dictionaryFieldContext.contextValues).length))return e.dictionaryFieldContext.contextValues},QM=e=>e.excerptLength?.length,VM=(e,t)=>e.facetOptions.facets[t]?.enabled??!0,jM=e=>{const{freezeFacetOrder:t}=e.facetOptions??{};return t!==void 0?{freezeFacetOrder:t}:void 0},LM=e=>{if(e.folding)return{filterField:e.folding.fields.collection,childField:e.folding.fields.parent,parentField:e.folding.fields.child,filterFieldRange:e.folding.filterFieldRange}},BM=e=>e.sortCriteria,HM=async e=>({accessToken:e.configuration.accessToken,organizationId:e.configuration.organizationId,url:$r(e.configuration.organizationId,e.configuration.environment),streamId:e.search.extendedResults?.generativeQuestionAnsweringId}),YM=(e,t)=>{const a=Xv(e)?.q,{aq:s,cq:c,dq:o,lq:f}=KM(e),h=UM(e),g=vc(e.configuration.analytics,t,{actionCause:Yx(e)}),m=FM(e),p=IM(e),v=IT(e)??[],S=$M(e),w=Jd(e.tabSet)||"default",C=kM(e),A=zM(e),O=t.referrer||"",q=jM(e),M=BM(e),R=GM(e),U=QM(e),Z=LM(e),k=NM(e);return{q:a,...s&&{aq:s},...c&&{cq:c},...o&&{dq:o},...f&&{lq:f},...e.query&&{enableQuerySyntax:MM(e)},...h?.contextValues&&{context:h.contextValues},pipelineRuleParameters:{mlGenerativeQuestionAnswering:{responseFormat:e.generatedAnswer.responseFormat,citationsFieldToInclude:v}},...m?.length&&{searchHub:m},...p?.length&&{pipeline:p},...S.length&&{facets:S},...e.fields&&{fieldsToInclude:e.fields.fieldsToInclude},...e.didYouMean&&{queryCorrection:{enabled:e.didYouMean.enableDidYouMean&&e.didYouMean.queryCorrectionMode==="next",options:{automaticallyCorrect:e.didYouMean.automaticallyCorrectQuery?"whenNoResults":"never"}},enableDidYouMean:e.didYouMean.enableDidYouMean&&e.didYouMean.queryCorrectionMode==="legacy"},...e.pagination&&{numberOfResults:Av(e),firstResult:e.pagination.firstResult},tab:w,locale:C,timezone:A,...e.debug!==void 0&&{debug:e.debug},referrer:O,...R,...Z??{},...U&&{excerptLength:U},...k&&{dictionaryFieldContext:k},sortCriteria:M,...q&&{facetOptions:q},...g,...e.insightCaseContext?.caseContext&&{caseContext:e.insightCaseContext?.caseContext}}},$M=e=>vv(e)?.map(t=>iv(t,av())).sort((t,a)=>t.facetId>a.facetId?1:a.facetId>t.facetId?-1:0),GM=e=>({actionsHistory:e.configuration.analytics.enabled?sn.getInstance().getHistory():[]}),KM=e=>{const t=_M(e),a=Ov(e);return{...t,...a&&{cq:a}}},XM=["text/plain","text/markdown"],Xa=new re({required:!0}),Pv=new re,Za=new Ee({required:!0}),ZM={id:Xa,title:Xa,uri:Xa,permanentid:Xa,clickUri:Pv},Wv=new re({required:!0,constrainTo:XM}),JM=I("generatedAnswer/setIsVisible",e=>Y(e,Za)),eS=I("generatedAnswer/setAnswerId",e=>Y(e,oe)),PM=I("generatedAnswer/setAnswerGenerationMode",e=>Y(e,new re({constrainTo:["automatic","manual"],required:!1,default:"automatic"}))),WM=I("generatedAnswer/setIsEnabled",e=>Y(e,Za)),Pd=I("generatedAnswer/updateMessage",e=>Y(e,{textDelta:Xa})),Wd=I("generatedAnswer/updateCitations",e=>Y(e,{citations:new be({required:!0,each:new se({values:ZM})})})),tS=I("generatedAnswer/updateError",e=>Y(e,{message:Pv,code:new ye({min:0})})),ef=I("generatedAnswer/resetAnswer"),e_=I("generatedAnswer/like"),t_=I("generatedAnswer/dislike"),n_=I("generatedAnswer/feedbackModal/open"),r_=I("generatedAnswer/expand"),a_=I("generatedAnswer/collapse"),i_=I("generatedAnswer/setId",e=>Y(e,{id:new re({required:!0})})),s_=I("generatedAnswer/feedbackModal/close"),u_=I("generatedAnswer/sendFeedback"),Fc=I("generatedAnswer/setIsLoading",e=>Y(e,Za)),tf=I("generatedAnswer/setIsStreaming",e=>Y(e,Za)),nf=I("generatedAnswer/setAnswerContentFormat",e=>Y(e,Wv)),c_=I("generatedAnswer/updateResponseFormat",e=>Y(e,{contentFormat:new be({each:Wv,default:["text/plain"]})})),o_=I("knowledge/updateAnswerConfigurationId",e=>Y(e,Xa)),l_=I("generatedAnswer/registerFieldsToIncludeInCitations",e=>Y(e,ey)),nS=I("generatedAnswer/setIsAnswerGenerated",e=>Y(e,Za)),rf=I("generatedAnswer/setCannotAnswer",e=>Y(e,Za)),rS=I("generatedAnswer/setAnswerApiQueryParams",e=>Y(e,new se({})));Ce("generatedAnswer/streamAnswer",async(e,t)=>{const a=t.getState(),{dispatch:s,extra:c,getState:o}=t,{search:f}=o(),{queryExecuted:h}=f,{setAbortControllerRef:g}=e,m=await HM(a),p=(w,C)=>{switch(w){case"genqa.headerMessageType":{const A=JSON.parse(C);s(nf(A.contentFormat));break}case"genqa.messageType":s(Pd(JSON.parse(C)));break;case"genqa.citationsType":s(Wd(JSON.parse(C)));break;case"genqa.endOfStreamType":{const A=JSON.parse(C).answerGenerated,O=h.length!==0&&!A;s(rf(O)),s(tf(!1)),s(nS(A)),s(Zv(A)),s(Jv());break}default:a.debug&&c.logger.warn(`Unknown payloadType: "${w}"`)}};s(Fc(!0));const v=w=>w.streamId===t.getState().search.extendedResults.generativeQuestionAnsweringId,S=c.streamingClient?.streamGeneratedAnswer(m,{write:w=>{v(m)&&(s(Fc(!1)),w.payload&&w.payloadType&&p(w.payloadType,w.payload))},abort:w=>{v(m)&&s(tS(w))},close:()=>{v(m)&&s(tf(!1))},resetAnswer:()=>{v(m)&&s(ef())}});S?g(S):s(Fc(!1))}),Ce("generatedAnswer/generateAnswer",async(e,{getState:t,dispatch:a,extra:{navigatorContext:s,logger:c}})=>{a(ef());const o=t();if(o.generatedAnswer.answerConfigurationId){const f=YM(o,s);a(rS(f)),await a(v_(f))}else c.warn("[WARNING] Missing answerConfigurationId in engine configuration. The generateAnswer action requires an answer configuration ID to use CRGA with the Answer API.")});const aS=xM({reducerPath:"answer",baseQuery:cM(async(e,t,a)=>{const s=t.getState(),{accessToken:c,environment:o,organizationId:f}=s.configuration,h=s.generatedAnswer.answerConfigurationId,g={...e,headers:{...e?.headers||{},Authorization:`Bearer ${c}`}};try{const m=$r(f,o);return{data:aM({baseUrl:`${m}/rest/organizations/${f}/answer/v1/configs/${h}`})(g,t,a)}}catch(m){return{error:m}}},{maxRetries:3}),endpoints:()=>({})}),d_=(e,t)=>{const{contentFormat:a}=t;e.contentFormat=a,e.isStreaming=!0,e.isLoading=!1},f_=(e,t)=>{e.answer===void 0?e.answer=t.textDelta:typeof t.textDelta=="string"&&(e.answer=e.answer.concat(t.textDelta))},h_=(e,t)=>{e.citations=t.citations},g_=(e,t)=>{e.generated=t.answerGenerated,e.isStreaming=!1},m_=(e,t)=>{const a=t.errorMessage||"Unknown error occurred";e.error={message:a,code:t.code},e.isStreaming=!1,e.isLoading=!1,console.error(`Generated answer error: ${a} (code: ${t.code})`)},y_=(e,t,a)=>{const s=JSON.parse(e.data);s.finishReason==="ERROR"&&s.errorMessage&&m_(t,s);const c=s.payload.length?JSON.parse(s.payload):{};switch(s.payloadType){case"genqa.headerMessageType":c.contentFormat&&(d_(t,c),a(nf(c.contentFormat)));break;case"genqa.messageType":c.textDelta&&(f_(t,c),a(Pd({textDelta:c.textDelta})));break;case"genqa.citationsType":c.citations&&(h_(t,c),a(Wd({citations:c.citations})));break;case"genqa.endOfStreamType":g_(t,c),a(Zv(c.answerGenerated??!1)),a(Jv());break}},p_=(e,t,a,s)=>{if(!e||!t||!a)throw new Error("Missing required parameters for answer endpoint");const c=`/rest/organizations/${t}`,o=s?`insight/v1/configs/${s}/answer`:"answer/v1/configs";return`${e}${c}/${o}/${a}/generate`},iS=aS.injectEndpoints({overrideExisting:!0,endpoints:e=>({getAnswer:e.query({queryFn:()=>({data:{contentFormat:void 0,answer:void 0,citations:void 0,error:void 0,generated:!1,isStreaming:!0,isLoading:!0}}),serializeQueryArgs:({endpointName:t,queryArgs:a})=>{const{analytics:s,...c}=a;return`${t}(${JSON.stringify(c)})`},async onCacheEntryAdded(t,{getState:a,cacheDataLoaded:s,updateCachedData:c,dispatch:o}){await s;const{configuration:f,generatedAnswer:h,insightConfiguration:g}=a(),{organizationId:m,environment:p,accessToken:v}=f,S=$r(m,p),w=p_(S,m,h.answerConfigurationId,g?.insightId);await Fm(w,{method:"POST",body:JSON.stringify(t),headers:{Authorization:`Bearer ${v}`,Accept:"application/json","Content-Type":"application/json","Accept-Encoding":"*"},fetch,onopen:async C=>{const A=C.headers.get("x-answer-id");A&&c(O=>{O.answerId=A,o(eS(A))})},onmessage:C=>{c(A=>{y_(C,A,o)})},onerror:C=>{throw C},onclose:()=>{c(C=>{o(rf(!C.generated))})}})}})})}),v_=e=>iS.endpoints.getAnswer.initiate(e),S_=qe(Wl,e=>e);function b_(e){const t=e.payload?.analyticsAction;return sS(e)&&!Ae(t)}function sS(e){return"type"in e}const w_=e=>t=>a=>{let s;b_(a)&&(s=a.payload.analyticsAction,delete a.payload.analyticsAction);const c=t(a);return sS(a)&&(a.type==="search/executeSearch/fullfilled"&&s===void 0&&console.error("No analytics action associated with search:",a),a.type==="recommendation/get/fullfilled"&&s===void 0&&console.error("No analytics action associated with recommendation:",a),a.type==="productRecommendations/get/fullfilled"&&s===void 0&&console.error("No analytics action associated with product recommendation:",a)),s!==void 0&&e.dispatch(s),c},C_=I("tab/register",e=>{const t=new se({values:{id:oe,expression:Dt}});return Y(e,t)}),af=I("tab/updateActiveTab",e=>Y(e,oe));var A_={year:0,month:1,day:2,hour:3,minute:4,second:5},uS={},R_=function(t,a){a===void 0&&(a={});var s=a.timeZoneName||"short",c=t+"|"+s,o=uS[c];return o||(o=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZoneName:s}),uS[c]=o),o};const O_=(function(e,t,a){var s,c=function(p,v,S){S===void 0&&(S={});var w=new Date(p),C=R_(v,S);return C.formatToParts(w)},o=function(p,v){for(var S=c(p,v),w=[],C=0;C<S.length;C+=1){var A=S[C],O=A.type,q=A.value,M=A_[O];M>=0&&(w[M]=parseInt(q,10))}var R=w[3],U=R===24?0:R,Z=w[0]+"-"+w[1]+"-"+w[2]+" "+U+":"+w[4]+":"+w[5]+":000",k=a.utc(Z).valueOf(),x=+p,z=x%1e3;return x-=z,(k-x)/6e4},f=function(p,v,S){var w=p-v*60*1e3,C=o(w,S);if(v===C)return[w,v];w-=(C-v)*60*1e3;var A=o(w,S);return C===A?[w,C]:[p-Math.min(C,A)*60*1e3,Math.max(C,A)]},h=t.prototype;h.tz=function(m,p){m===void 0&&(m=s);var v=this.utcOffset(),S=this.toDate(),w=S.toLocaleString("en-US",{timeZone:m}),C=Math.round((S-new Date(w))/1e3/60),A=-Math.round(S.getTimezoneOffset()/15)*15-C,O=!Number(A),q;if(O)q=this.utcOffset(0,p);else if(q=a(w,{locale:this.$L}).$set(wc,this.$ms).utcOffset(A,!0),p){var M=q.utcOffset();q=q.add(v-M,Vn)}return q.$x.$timezone=m,q},h.offsetName=function(m){var p=this.$x.$timezone||a.tz.guess(),v=c(this.valueOf(),p,{timeZoneName:m}).find(function(S){return S.type.toLowerCase()==="timezonename"});return v&&v.value};var g=h.startOf;h.startOf=function(m,p){if(!this.$x||!this.$x.$timezone)return g.call(this,m,p);var v=a(this.format("YYYY-MM-DD HH:mm:ss:SSS"),{locale:this.$L}),S=g.call(v,m,p);return S.tz(this.$x.$timezone,!0)},a.tz=function(m,p,v){var S=v&&p,w=v||p||s,C=o(+a(),w);if(typeof m!="string")return a(m).tz(w);var A=a.utc(m,S).valueOf(),O=f(A,C,w),q=O[0],M=O[1],R=a(q).utcOffset(M);return R.$x.$timezone=w,R},a.tz.guess=function(){return Intl.DateTimeFormat().resolvedOptions().timeZone},a.tz.setDefault=function(m){s=m}});var q_=/[+-]\d\d(?::?\d\d)?/g,E_=/([+-]|\d\d)/g;function T_(e){e===void 0&&(e="");var t=e.match(q_);if(!t)return null;var a=(""+t[0]).match(E_)||["-",0,0],s=a[0],c=a[1],o=a[2],f=+c*60+ +o;return f===0?0:s==="+"?f:-f}const D_=(function(e,t,a){var s=t.prototype;a.utc=function(v){var S={date:v,utc:!0,args:arguments};return new t(S)},s.utc=function(v){var S=a(this.toDate(),{locale:this.$L,utc:!0});return v?S.add(this.utcOffset(),Vn):S},s.local=function(){return a(this.toDate(),{locale:this.$L,utc:!1})};var c=s.parse;s.parse=function(v){v.utc&&(this.$u=!0),this.$utils().u(v.$offset)||(this.$offset=v.$offset),c.call(this,v)};var o=s.init;s.init=function(){if(this.$u){var v=this.$d;this.$y=v.getUTCFullYear(),this.$M=v.getUTCMonth(),this.$D=v.getUTCDate(),this.$W=v.getUTCDay(),this.$H=v.getUTCHours(),this.$m=v.getUTCMinutes(),this.$s=v.getUTCSeconds(),this.$ms=v.getUTCMilliseconds()}else o.call(this)};var f=s.utcOffset;s.utcOffset=function(v,S){var w=this.$utils(),C=w.u;if(C(v))return this.$u?0:C(this.$offset)?f.call(this):this.$offset;if(typeof v=="string"&&(v=T_(v),v===null))return this;var A=Math.abs(v)<=16?v*60:v,O=this;if(S)return O.$offset=A,O.$u=v===0,O;if(v!==0){var q=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();O=this.local().add(A+q,Vn),O.$offset=A,O.$x.$localOffset=q}else O=this.utc();return O};var h=s.format,g="YYYY-MM-DDTHH:mm:ss[Z]";s.format=function(v){var S=v||(this.$u?g:"");return h.call(this,S)},s.valueOf=function(){var v=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-v*bc},s.isUTC=function(){return!!this.$u},s.toISOString=function(){return this.toDate().toISOString()},s.toString=function(){return this.toDate().toUTCString()};var m=s.toDate;s.toDate=function(v){return v==="s"&&this.$offset?a(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():m.call(this)};var p=s.diff;s.diff=function(v,S,w){if(v&&this.$u===v.$u)return p.call(this,v,S,w);var C=this.local(),A=a(v).local();return p.call(C,A,S,w)}});$e.extend(D_),$e.extend(O_);const cS=()=>({organizationId:"",accessToken:"",search:{locale:"en-US",timezone:$e.tz.guess(),authenticationProviders:[]},analytics:{enabled:!0,originContext:"Search",originLevel2:"default",originLevel3:"default",anonymous:!1,deviceId:"",userDisplayName:"",documentLocation:"",analyticsMode:"next",source:{}},knowledge:{answerConfigurationId:""},environment:"prod"}),x_=/(^|; )Coveo-Pendragon=([^;]*)/;function M_(){return typeof window>"u"?!1:x_.exec(document.cookie)?.pop()||null}const __=qe(cS(),e=>e.addCase(gc,(t,a)=>{U_(t,a.payload)}).addCase(ds,(t,a)=>{I_(t,a.payload)}).addCase(qd,(t,a)=>{F_(t,a.payload)}).addCase(Ap,t=>{t.analytics.enabled=!1}).addCase(Rp,t=>{t.analytics.enabled=!0}).addCase(fD,(t,a)=>{t.analytics.originLevel2=a.payload.originLevel2}).addCase(hD,(t,a)=>{t.analytics.originLevel3=a.payload.originLevel3}).addCase(af,(t,a)=>{t.analytics.originLevel2=a.payload}).addCase(qp,(t,a)=>{t.analytics.originLevel2=a.payload}).addCase(It,(t,a)=>{Ae(a.payload.tab)||(t.analytics.originLevel2=a.payload.tab)}));function U_(e,t){Ae(t.accessToken)||(e.accessToken=t.accessToken),e.environment=t.environment??"prod",Ae(t.organizationId)||(e.organizationId=t.organizationId)}function I_(e,t){Ae(t.proxyBaseUrl)||(e.search.apiBaseUrl=t.proxyBaseUrl),Ae(t.locale)||(e.search.locale=t.locale),Ae(t.timezone)||(e.search.timezone=t.timezone),Ae(t.authenticationProviders)||(e.search.authenticationProviders=t.authenticationProviders)}function F_(e,t){Ae(t.enabled)||(e.analytics.enabled=t.enabled),Ae(t.originContext)||(e.analytics.originContext=t.originContext),Ae(t.originLevel2)||(e.analytics.originLevel2=t.originLevel2),Ae(t.originLevel3)||(e.analytics.originLevel3=t.originLevel3),Ae(t.proxyBaseUrl)||(e.analytics.apiBaseUrl=t.proxyBaseUrl),Ae(t.trackingId)||(e.analytics.trackingId=t.trackingId),Ae(t.analyticsMode)||(e.analytics.analyticsMode=t.analyticsMode),Ae(t.source)||(e.analytics.source=t.source);try{const a=M_();a&&(e.analytics.analyticsMode="next",e.analytics.trackingId=a)}catch{}Ae(t.runtimeEnvironment)||(e.analytics.runtimeEnvironment=t.runtimeEnvironment),Ae(t.anonymous)||(e.analytics.anonymous=t.anonymous),Ae(t.deviceId)||(e.analytics.deviceId=t.deviceId),Ae(t.userDisplayName)||(e.analytics.userDisplayName=t.userDisplayName),Ae(t.documentLocation)||(e.analytics.documentLocation=t.documentLocation)}const Ja=__;function k_(e){return e.instantlyCallable}const z_=()=>e=>t=>e(k_(t)?t():t),N_=e=>()=>t=>a=>{const s=a;if(!s.error)return t(a);const c=s.error;if(s.payload?.ignored||e.error({error:c,action:a},`Action dispatch error ${s.type}`),s.error.name!=="SchemaValidationError")return t(a)},Q_=e=>t=>a=>s=>(e.debug({action:s,nextState:t.getState()},`Action dispatched: ${s.type}`),a(s)),oS=(e,t)=>{const{referrer:a,userAgent:s,location:c,clientId:o}=e.getMeta("");return{...t?t():{},referrer:a,userAgent:s,location:c,clientId:o}};function V_(e,t){const a={...e};let s;const c=o=>(f,h)=>{const g=o(f,h);return s?s(g,h):g};return{get combinedReducer(){const o=lR(Object.entries(t).filter(([f])=>!(f in a)).map(([f,h])=>[f,(()=>h)]));return c(Ul({...o,...a}))},containsAll(o){return Object.keys(o).every(h=>h in a)},add(o){Object.keys(o).filter(f=>!(f in a)).forEach(f=>{a[f]=o[f]})},addCrossReducer(o){s=o}}}function lS(e){if(!e||!L_(e))return null;try{const a=e.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),s=atob(a),c=decodeURIComponent(s.split("").map(o=>`%${`00${o.charCodeAt(0).toString(16)}`.slice(-2)}`).join(""));return JSON.parse(c)}catch{return null}}function j_(e,t=60){if(!e)return!1;const a=lS(e);if(!a||typeof a.exp!="number")return!1;const s=Math.floor(Date.now()/1e3);return a.exp<=s+t}function L_(e){return e?/^[A-Za-z0-9_-]{2,}(?:\.[A-Za-z0-9_-]{2,}){2}$/.test(e):!1}function B_(e,t){let a=0,s=null;const c=fR(()=>{a=0},500),o=async(g,m=!1)=>{const p=!s;p&&t&&(s=(async()=>(m&&Y_(t),await t()))().finally(()=>{s=null}));const v=await s;return p&&v&&g.dispatch(gc({accessToken:v})),v},f=async g=>{const m=g.getState(),p=$_(m);if(!(!p||!j_(p))){e.debug("Access token is expired or about to expire, attempting renewal.");try{await o(g)?e.debug("Access token was renewed."):e.warn("Access token renewal returned an empty token. Please check the #renewAccessToken function.")}catch(v){e.warn(v,"Access token renewal failed. A retry will occur if necessary.")}}},h=async(g,m,p)=>{if(a>=5)return e.warn("Attempted to renew the token but was not successful. Please check the #renewAccessToken function."),dS(g,m.error),m;a++,c(),await o(g,!0),g.dispatch(p)};return g=>m=>async p=>{const v=typeof p=="function",S=typeof t=="function";if(!v)return m(p);S&&await f(g);const w=await m(p);return H_(w)?S?await h(g,w,p):(e.warn("Unable to renew the expired token because a renew function was not provided. Please specify the #renewAccessToken option when initializing the engine."),dS(g,w.error),w):w}}function H_(e){return typeof e=="object"&&e!==null&&"error"in e&&e.error?.name===new Km().name}function dS(e,t){e.dispatch(Vd({status:401,statusCode:401,message:t.message,type:t.name}))}async function Y_(e){try{return await e()}catch{return""}}function $_(e){return e.configuration.accessToken}const G_=Symbol.for("coveo-headless-internal-state");function K_({reducer:e,preloadedState:t,middlewares:a=[],thunkExtraArguments:s,name:c}){return YO({reducer:e,preloadedState:t,devTools:{stateSanitizer:o=>o.history?{...o,history:"<<OMIT>>"}:o,name:c,shouldHotReload:!1},middleware:o=>o({thunk:{extraArgument:s}}).prepend(...a).concat(Q_(s.logger))})}function X_(e,t){const{analytics:a}=e,{analyticsClientMiddleware:s,...c}=a??{},o={...c,...a?.proxyBaseUrl&&{apiBaseUrl:a.proxyBaseUrl,nexApiBaseUrl:a.proxyBaseUrl}};return o.analyticsMode!=="next"&&oR()?(t.info("Analytics disabled since doNotTrack is active."),{...o,enabled:!1}):o}function Z_(e,t){const a={...e.reducers,configuration:Ja,version:S_},s=J_({...e,reducers:a},t,Ja),{accessToken:c,environment:o,organizationId:f}=e.configuration;s.dispatch(gc({accessToken:c,environment:o,organizationId:f}));const h=X_(e.configuration,s.logger);return h&&s.dispatch(qd(h)),s}function J_(e,t,a){const{reducers:s,navigatorContextProvider:c}=e,o=V_({...s,configurationReducer:a},e.preloadedState??{});e.crossReducer&&o.addCrossReducer(e.crossReducer);const f=t.logger,h={...t,get relay(){return ed(m.state,c)},get navigatorContext(){return oS(this.relay,c)}},g=P_(e,h,o),m={addReducers(p){o.containsAll(p)||(o.add(p),g.replaceReducer(o.combinedReducer))},dispatch:g.dispatch,subscribe:g.subscribe,enableAnalytics(){g.dispatch(Rp())},disableAnalytics(){g.dispatch(Ap())},get state(){return g.getState()},get relay(){return ed(this.state,c)},get navigatorContext(){return oS(this.relay,c)},logger:f,store:g};return m}function P_(e,t,a){const{preloadedState:s,configuration:c}=e,o=c.name||"coveo-headless",f=W_(e,t.logger);return K_({preloadedState:s,reducer:a.combinedReducer,middlewares:f,thunkExtraArguments:t,name:o})}function W_(e,t){const{renewAccessToken:a}=e.configuration,s=B_(t,a);return[z_,s,N_(t),w_].concat(iS.middleware,e.middlewares||[])}var qs={exports:{}},sf,fS;function eU(){if(fS)return sf;fS=1;function e(a){try{return JSON.stringify(a)}catch{return'"[Circular]"'}}sf=t;function t(a,s,c){var o=c&&c.stringify||e,f=1;if(typeof a=="object"&&a!==null){var h=s.length+f;if(h===1)return a;var g=new Array(h);g[0]=o(a);for(var m=1;m<h;m++)g[m]=o(s[m]);return g.join(" ")}if(typeof a!="string")return a;var p=s.length;if(p===0)return a;for(var v="",S=1-f,w=-1,C=a&&a.length||0,A=0;A<C;){if(a.charCodeAt(A)===37&&A+1<C){switch(w=w>-1?w:0,a.charCodeAt(A+1)){case 100:case 102:if(S>=p||s[S]==null)break;w<A&&(v+=a.slice(w,A)),v+=Number(s[S]),w=A+2,A++;break;case 105:if(S>=p||s[S]==null)break;w<A&&(v+=a.slice(w,A)),v+=Math.floor(Number(s[S])),w=A+2,A++;break;case 79:case 111:case 106:if(S>=p||s[S]===void 0)break;w<A&&(v+=a.slice(w,A));var O=typeof s[S];if(O==="string"){v+="'"+s[S]+"'",w=A+2,A++;break}if(O==="function"){v+=s[S].name||"<anonymous>",w=A+2,A++;break}v+=o(s[S]),w=A+2,A++;break;case 115:if(S>=p)break;w<A&&(v+=a.slice(w,A)),v+=String(s[S]),w=A+2,A++;break;case 37:w<A&&(v+=a.slice(w,A)),v+="%",w=A+2,A++,S--;break}++S}++A}return w===-1?a:(w<C&&(v+=a.slice(w)),v)}return sf}var hS;function tU(){if(hS)return qs.exports;hS=1;const e=eU();qs.exports=p;const t=ge().console||{},a={mapHttpRequest:x,mapHttpResponse:x,wrapRequestSerializer:z,wrapResponseSerializer:z,wrapErrorSerializer:z,req:x,res:x,err:Z,errWithCause:Z};function s(N,E){return N==="silent"?1/0:E.levels.values[N]}const c=Symbol("pino.logFuncs"),o=Symbol("pino.hierarchy"),f={error:"log",fatal:"error",warn:"error",info:"log",debug:"log",trace:"log"};function h(N,E){const L={logger:E,parent:N[o]};E[o]=L}function g(N,E,L){const te={};E.forEach(ue=>{te[ue]=L[ue]?L[ue]:t[ue]||t[f[ue]||"log"]||K}),N[c]=te}function m(N,E){return Array.isArray(N)?N.filter(function(te){return te!=="!stdSerializers.err"}):N===!0?Object.keys(E):!1}function p(N){N=N||{},N.browser=N.browser||{};const E=N.browser.transmit;if(E&&typeof E.send!="function")throw Error("pino: transmit option must have a send function");const L=N.browser.write||t;N.browser.write&&(N.browser.asObject=!0);const te=N.serializers||{},ue=m(N.browser.serialize,te);let fe=N.browser.serialize;Array.isArray(N.browser.serialize)&&N.browser.serialize.indexOf("!stdSerializers.err")>-1&&(fe=!1);const D=Object.keys(N.customLevels||{}),Q=["error","fatal","warn","info","debug","trace"].concat(D);typeof L=="function"&&Q.forEach(function(Xe){L[Xe]=L}),(N.enabled===!1||N.browser.disabled)&&(N.level="silent");const W=N.level||"info",B=Object.create(L);B.log||(B.log=K),g(B,Q,L),h({},B),Object.defineProperty(B,"levelVal",{get:le}),Object.defineProperty(B,"level",{get:we,set:We});const ae={transmit:E,serialize:ue,asObject:N.browser.asObject,asObjectBindingsOnly:N.browser.asObjectBindingsOnly,formatters:N.browser.formatters,levels:Q,timestamp:k(N),messageKey:N.messageKey||"msg",onChild:N.onChild||K};B.levels=v(N),B.level=W,B.isLevelEnabled=function(Xe){return this.levels.values[Xe]?this.levels.values[Xe]>=this.levels.values[this.level]:!1},B.setMaxListeners=B.getMaxListeners=B.emit=B.addListener=B.on=B.prependListener=B.once=B.prependOnceListener=B.removeListener=B.removeAllListeners=B.listeners=B.listenerCount=B.eventNames=B.write=B.flush=K,B.serializers=te,B._serialize=ue,B._stdErrSerialize=fe,B.child=function(...Xe){return ke.call(this,ae,...Xe)},E&&(B._logEvent=U());function le(){return s(this.level,this)}function we(){return this._level}function We(Xe){if(Xe!=="silent"&&!this.levels.values[Xe])throw Error("unknown level "+Xe);this._level=Xe,C(this,ae,B,"error"),C(this,ae,B,"fatal"),C(this,ae,B,"warn"),C(this,ae,B,"info"),C(this,ae,B,"debug"),C(this,ae,B,"trace"),D.forEach(ft=>{C(this,ae,B,ft)})}function ke(Xe,ft,Kt){if(!ft)throw new Error("missing bindings for child Pino");Kt=Kt||{},ue&&ft.serializers&&(Kt.serializers=ft.serializers);const ca=Kt.serializers;if(ue&&ca){var Ft=Object.assign({},te,ca),Sr=N.browser.serialize===!0?Object.keys(Ft):ue;delete ft.serializers,M([ft],Sr,Ft,this._stdErrSerialize)}function ui(la){this._childLevel=(la._childLevel|0)+1,this.bindings=ft,Ft&&(this.serializers=Ft,this._serialize=Sr),E&&(this._logEvent=U([].concat(la._logEvent.bindings,ft)))}ui.prototype=this;const oa=new ui(this);return h(this,oa),oa.child=function(...la){return ke.call(this,Xe,...la)},oa.level=Kt.level||this.level,Xe.onChild(oa),oa}return B}function v(N){const E=N.customLevels||{},L=Object.assign({},p.levels.values,E),te=Object.assign({},p.levels.labels,S(E));return{values:L,labels:te}}function S(N){const E={};return Object.keys(N).forEach(function(L){E[N[L]]=L}),E}p.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},p.stdSerializers=a,p.stdTimeFunctions=Object.assign({},{nullTime:J,epochTime:ie,unixTime:ce,isoTime:ve});function w(N){const E=[];N.bindings&&E.push(N.bindings);let L=N[o];for(;L.parent;)L=L.parent,L.logger.bindings&&E.push(L.logger.bindings);return E.reverse()}function C(N,E,L,te){if(Object.defineProperty(N,te,{value:s(N.level,L)>s(te,L)?K:L[c][te],writable:!0,enumerable:!0,configurable:!0}),N[te]===K){if(!E.transmit)return;const fe=E.transmit.level||N.level,D=s(fe,L);if(s(te,L)<D)return}N[te]=O(N,E,L,te);const ue=w(N);ue.length!==0&&(N[te]=A(ue,N[te]))}function A(N,E){return function(){return E.apply(this,[...N,...arguments])}}function O(N,E,L,te){return(function(ue){return function(){const D=E.timestamp(),Q=new Array(arguments.length),W=Object.getPrototypeOf&&Object.getPrototypeOf(this)===t?t:this;for(var B=0;B<Q.length;B++)Q[B]=arguments[B];var ae=!1;if(E.serialize&&(M(Q,this._serialize,this.serializers,this._stdErrSerialize),ae=!0),E.asObject||E.formatters?ue.call(W,...q(this,te,Q,D,E)):ue.apply(W,Q),E.transmit){const le=E.transmit.level||N._level,we=s(le,L),We=s(te,L);if(We<we)return;R(this,{ts:D,methodLevel:te,methodValue:We,transmitValue:L.levels.values[E.transmit.level||N._level],send:E.transmit.send,val:s(N._level,L)},Q,ae)}}})(N[c][te])}function q(N,E,L,te,ue){const{level:fe,log:D=le=>le}=ue.formatters||{},Q=L.slice();let W=Q[0];const B={};let ae=(N._childLevel|0)+1;if(ae<1&&(ae=1),te&&(B.time=te),fe){const le=fe(E,N.levels.values[E]);Object.assign(B,le)}else B.level=N.levels.values[E];if(ue.asObjectBindingsOnly){if(W!==null&&typeof W=="object")for(;ae--&&typeof Q[0]=="object";)Object.assign(B,Q.shift());return[D(B),...Q]}else{if(W!==null&&typeof W=="object"){for(;ae--&&typeof Q[0]=="object";)Object.assign(B,Q.shift());W=Q.length?e(Q.shift(),Q):void 0}else typeof W=="string"&&(W=e(Q.shift(),Q));return W!==void 0&&(B[ue.messageKey]=W),[D(B)]}}function M(N,E,L,te){for(const ue in N)if(te&&N[ue]instanceof Error)N[ue]=p.stdSerializers.err(N[ue]);else if(typeof N[ue]=="object"&&!Array.isArray(N[ue])&&E)for(const fe in N[ue])E.indexOf(fe)>-1&&fe in L&&(N[ue][fe]=L[fe](N[ue][fe]))}function R(N,E,L,te=!1){const ue=E.send,fe=E.ts,D=E.methodLevel,Q=E.methodValue,W=E.val,B=N._logEvent.bindings;te||M(L,N._serialize||Object.keys(N.serializers),N.serializers,N._stdErrSerialize===void 0?!0:N._stdErrSerialize),N._logEvent.ts=fe,N._logEvent.messages=L.filter(function(ae){return B.indexOf(ae)===-1}),N._logEvent.level.label=D,N._logEvent.level.value=Q,ue(D,N._logEvent,W),N._logEvent=U(B)}function U(N){return{ts:0,messages:[],bindings:N||[],level:{label:"",value:0}}}function Z(N){const E={type:N.constructor.name,msg:N.message,stack:N.stack};for(const L in N)E[L]===void 0&&(E[L]=N[L]);return E}function k(N){return typeof N.timestamp=="function"?N.timestamp:N.timestamp===!1?J:ie}function x(){return{}}function z(N){return N}function K(){}function J(){return!1}function ie(){return Date.now()}function ce(){return Math.round(Date.now()/1e3)}function ve(){return new Date(Date.now()).toISOString()}function ge(){function N(E){return typeof E<"u"&&E}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return N(self)||N(window)||N(this)||{}}}return qs.exports.default=p,qs.exports.pino=p,qs.exports}var nU=tU();function rU(e){return nU.pino({name:"@coveo/headless",level:e?.level||"warn",formatters:{log:e?.logFormatter}})}function aU(e,t){const a=iU(e),s=Kr,c=sU(e);return{analyticsClientMiddleware:a,validatePayload:s,preprocessRequest:c,logger:t}}function iU(e){const{analytics:t}=e,a=(s,c)=>c;return t?.analyticsClientMiddleware||a}function sU(e){return e.preprocessRequest||Zm}const uf=(e,t,a,s,c,o)=>{const f=e[t];Ae(f)||Ae(c)||c!==f&&c!==s&&(o.warn(`Mismatch on access token (JWT Token) ${t} and engine configuration.`),o.warn(`To remove this warning, make sure that access token value [${f}] matches engine configuration value [${a}]`))},cf=(e,t)=>!(Ae(e)||t===e),Es=e=>{const t=lS(e);return t||!1},gS=(e,t)=>(cf(e.searchHub,t.searchHub)&&(t.searchHub=e.searchHub),t),mS=(e,t,a,s)=>(uf(e,"searchHub",t.searchHub,oc(),a,s),gS(e,t)),yS=(e,t)=>(cf(e.pipeline,t.pipeline)&&(t.pipeline=e.pipeline),t),pS=(e,t,a,s)=>(uf(e,"pipeline",t.pipeline,Ad(),a,s),yS(e,t)),vS=(e,t)=>(cf(e.userDisplayName,t.configuration.analytics.userDisplayName)&&(t.configuration.analytics.userDisplayName=e.userDisplayName),t),uU=(e,t,a,s)=>(uf(e,"userDisplayName",t.configuration.analytics.userDisplayName,cS().analytics.userDisplayName,a,s),vS(e,t)),cU=e=>qe({},t=>{t.addCase(Dv,(a,s)=>{const c=Es(a.configuration.accessToken);return c?mS(c,a,s.payload,e):a}).addCase(xp,(a,s)=>{const c=Es(a.configuration.accessToken);return c?pS(c,a,s.payload,e):a}).addCase(gc,(a,s)=>{if(a.configuration.accessToken!==s.payload.accessToken)return a;const{accessToken:c}=s.payload;if(!c)return a;const o=Es(c);return o?[yS,gS,vS].reduce((f,h)=>h(o,f),a):a}).addCase(ds,(a,s)=>{const c=Es(a.configuration.accessToken);if(!c)return a;const o=mS(c,a,s.payload.searchHub,e);return pS(c,o,s.payload?.pipeline,e)}).addCase(qd,(a,s)=>{const c=Es(a.configuration.accessToken);return c?uU(c,a,s.payload.userDisplayName,e):a})}),oU={organizationId:oe,accessToken:oe,name:new re({required:!1,emptyAllowed:!1}),analytics:new se({options:{required:!1},values:{enabled:new Ee({required:!1}),originContext:new re({required:!1}),originLevel2:new re({required:!1}),originLevel3:new re({required:!1}),analyticsMode:new re({constrainTo:["legacy","next"],required:!1,default:"next"}),proxyBaseUrl:new re({required:!1,url:!0}),trackingId:new re({required:!1,emptyAllowed:!1,regex:/^[a-zA-Z0-9_\-.]{1,100}$/})}}),environment:new re({required:!1,default:"prod",constrainTo:["prod","hipaa","stg","dev"]})},lU=new Et({...oU,search:new se({options:{required:!1},values:{pipeline:new re({required:!1,emptyAllowed:!0}),searchHub:mt,locale:mt,timezone:mt,authenticationProviders:new be({required:!1,each:oe}),proxyBaseUrl:new re({required:!1,url:!0})}})}),dU={debug:yD,pipeline:pD,searchHub:Kx,search:Cs};function fU(e){const{search:t,organizationId:a,environment:s}=e,c=t?.proxyBaseUrl?t.proxyBaseUrl:Fn(a,s);return{...t,apiBaseUrl:c}}function hU(e){const t=rU(e.loggerOptions),{configuration:a}=e;gU(a,t);const s=mU(a,t),c=yU(t),o={...aU(a,t),apiClient:s,streamingClient:c},f={...e,reducers:dU,crossReducer:cU(t)},h=Z_(f,o),g=fU(a);return g&&h.dispatch(ds(g)),{...h,get state(){return h.state},executeFirstSearch(m=iD()){if(Qd(h.state))return;const p=Fe({legacy:m,next:cD()});h.dispatch(p)},executeFirstSearchAfterStandaloneSearchBoxRedirect(m){const{cause:p,metadata:v}=m;if(Qd(h.state))return;const S=v&&p==="omniboxFromLink",w=Fe({legacy:S?uD(v):sD(),next:S?lD():oD()});h.dispatch(w)}}}function gU(e,t){try{lU.validate(e)}catch(a){throw t.error(a,"Search engine configuration error"),a}}function mU(e,t){const{search:a}=e;return new eO({logger:t,preprocessRequest:e.preprocessRequest||Zm,postprocessSearchResponseMiddleware:a?.preprocessSearchResponseMiddleware||aO,postprocessFacetSearchResponseMiddleware:a?.preprocessFacetSearchResponseMiddleware||iO,postprocessQuerySuggestResponseMiddleware:a?.preprocessQuerySuggestResponseMiddleware||sO})}function yU(e){return new ER({logger:e})}const kc={value:oe,numberOfResults:new ye({min:0}),state:oe},De=oe,pU=new ye({min:dT,default:fp,required:!1}),vU={desiredCount:new ye({min:oT,max:lT,default:dp,required:!1}),numberOfValues:pU},SU=I("automaticFacet/setOptions",e=>Y(e,vU)),bU=I("automaticFacet/deselectAll",e=>Y(e,De)),wU=oe,SS=I("automaticFacet/toggleSelectValue",e=>Y(e,{field:wU,selection:new se({values:kc})})),CU={state:new dt({required:!0}),numberOfResults:new ye({required:!0,min:0}),value:new re({required:!0,emptyAllowed:!0}),path:new be({required:!0,each:oe}),moreValuesAvailable:new Ee({required:!1})};function bS(e){e.children.forEach(t=>{bS(t)}),Kr({state:e.state,numberOfResults:e.numberOfResults,value:e.value,path:e.path,moreValuesAvailable:e.moreValuesAvailable},CU)}const Pa={facetId:De,field:oe,tabs:new se({options:{required:!1},values:{included:new be({each:new re}),excluded:new be({each:new re})}}),activeTab:new re({required:!1}),delimitingCharacter:new re({required:!1,emptyAllowed:!0}),filterFacetCount:new Ee({required:!1}),injectionDepth:new ye({required:!1,min:0}),numberOfValues:new ye({required:!1,min:1}),sortCriteria:new dt({required:!1}),basePath:new be({required:!1,each:oe}),filterByBasePath:new Ee({required:!1})},wS=I("categoryFacet/register",e=>Y(e,Pa)),CS=I("categoryFacet/toggleSelectValue",e=>{try{return Kr(e.facetId,oe),bS(e.selection),{payload:e,error:null}}catch(t){return{payload:e,error:Ua(t)}}}),AS=I("categoryFacet/deselectAll",e=>Y(e,Pa.facetId)),AU=I("categoryFacet/updateNumberOfValues",e=>Y(e,{facetId:Pa.facetId,numberOfValues:Pa.numberOfValues})),RU=I("categoryFacet/updateSortCriterion",e=>Y(e,{facetId:Pa.facetId,criterion:new dt})),OU=I("categoryFacet/updateBasePath",e=>Y(e,{facetId:Pa.facetId,basePath:new be({each:oe})})),Gt=I("facetOptions/update",(e={freezeFacetOrder:!0})=>Y(e,{freezeFacetOrder:new Ee({required:!1})})),RS=I("facetOptions/facet/enable",e=>Y(e,De)),Wa=I("facetOptions/facet/disable",e=>Y(e,De)),of={facetId:De,captions:new se({options:{required:!1}}),numberOfValues:new ye({required:!1,min:1}),query:new re({required:!1,emptyAllowed:!0})},qU={path:new be({required:!0,each:oe}),displayValue:Dt,rawValue:Dt,count:new ye({required:!0,min:0})},OS=I("categoryFacet/selectSearchResult",e=>Y(e,{facetId:De,value:new se({values:qU})})),EU=I("categoryFacetSearch/register",e=>Y(e,of));function lf(e,t){const{facetId:a,criterion:s}=t,c=e[a]?.request;c&&(c.sortCriteria=s)}function zc(e){e&&(e.currentValues=e.currentValues.map(t=>({...t,previousState:t.state!=="idle"?t.state:void 0,state:"idle"})),e.preventAutoSelect=!0)}function qS(e,t){e&&(e.numberOfValues=t)}function df(e,t){const a=e[t];a&&(a.request.numberOfValues=a.initialNumberOfValues,a.request.currentValues=[],a.request.preventAutoSelect=!0)}function ES(e,t,a){e.currentValues=TU(t,a),e.numberOfValues=t.length?1:a,e.preventAutoSelect=!0}function TU(e,t){if(!e.length)return[];const a=TS(e[0],t);let s=a;for(const c of e.splice(1)){const o=TS(c,t);s.children.push(o),s=o}return s.state="selected",s.retrieveChildren=!0,[a]}function TS(e,t){return{value:e,retrieveCount:t,children:[],state:"idle",retrieveChildren:!1}}qe(md(),e=>{e.addCase(wS,(t,a)=>{const s=a.payload,{facetId:c}=s;if(c in t)return;const o=MU(s),f=o.numberOfValues;t[c]={request:o,initialNumberOfValues:f}}).addCase(ot.fulfilled,(t,a)=>a.payload?.categoryFacetSet??t).addCase(It,(t,a)=>{const s=a.payload.cf||{};Object.keys(t).forEach(c=>{const o=t[c].request,f=s[c]||[];(f.length||o.currentValues.length)&&ES(o,f,t[c].initialNumberOfValues)})}).addCase(RU,(t,a)=>{const{facetId:s,criterion:c}=a.payload,o=t[s]?.request;o&&(o.sortCriteria=c)}).addCase(OU,(t,a)=>{const{facetId:s,basePath:c}=a.payload,o=t[s]?.request;o&&(o.basePath=[...c])}).addCase(CS,(t,a)=>{const{facetId:s,selection:c,retrieveCount:o}=a.payload,f=t[s]?.request;if(!f)return;const{path:h}=c,g=h.slice(0,h.length-1),m=xU(f,g,o);if(m.length){const v=m[0];v.retrieveChildren=!0,v.state="selected",v.previousState="idle",v.children=[];return}const p=DS(c.value,o);p.state="selected",p.previousState="idle",m.push(p),f.numberOfValues=1}).addCase(AS,(t,a)=>{const s=a.payload;df(t,s)}).addCase(hr,t=>{Object.keys(t).forEach(a=>df(t,a))}).addCase(Ed,(t,a)=>Object.keys(t).forEach(s=>{t[s].request.preventAutoSelect=!a.payload.allow})).addCase(AU,(t,a)=>{const{facetId:s,numberOfValues:c}=a.payload,o=t[s]?.request;if(o){if(!o.currentValues.length)return qS(o,c);_U(t,a.payload)}}).addCase(OS,(t,a)=>{const{facetId:s,value:c}=a.payload,o=t[s];if(!o)return;const f=[...c.path,c.rawValue];ES(o.request,f,o.initialNumberOfValues)}).addCase(ws.fulfilled,(t,a)=>{xS(t,a.payload.response.facets)}).addCase(Fe.fulfilled,(t,a)=>{xS(t,a.payload.response.facets)}).addCase(Wa,(t,a)=>{df(t,a.payload)})});const DU={delimitingCharacter:";",filterFacetCount:!0,injectionDepth:1e3,numberOfValues:5,sortCriteria:"occurrences",basePath:[],filterByBasePath:!0,resultsMustMatch:"atLeastOneValue"};function xU(e,t,a){let s=e.currentValues;for(const c of t){let o=s[0];(!o||c!==o.value)&&(o=DS(c,a),s.length=0,s.push(o)),o.retrieveChildren=!1,o.previousState=void 0,o.state="idle",s=o.children}return s}function MU(e){return{...DU,currentValues:[],preventAutoSelect:!1,type:"hierarchical",...e}}function DS(e,t){return{value:e,state:"idle",children:[],retrieveChildren:!0,retrieveCount:t}}function xS(e,t){t.forEach(a=>{if(!UU(e,a))return;const s=a.facetId,c=e[s]?.request;if(!c)return;const o=IU(c,a);c.currentValues=o?[]:c.currentValues,c.preventAutoSelect=!1})}function _U(e,t){const{facetId:a,numberOfValues:s}=t;let c=e[a]?.request.currentValues[0];if(c){for(;c.children.length&&c?.state!=="selected";)c=c.children[0];c.retrieveCount=s}}function UU(e,t){return t.facetId in e}function IU(e,t){const a=us(e.currentValues),s=us(t.values);return a.length!==s.length}const Ts=new re({regex:/^[a-zA-Z0-9-_]+$/}),Ds=new re({required:!0}),FU=new be({each:new re}),kU=new re,zU=new Ee,xs=new Ee,Ms=new ye({min:0}),ei=new ye({min:1}),MS=new Ee({required:!0}),NU=new se,QU=new re,VU={captions:NU,numberOfValues:ei,query:QU},ff=new se({values:VU}),_S=new se({options:{required:!1},values:{type:new re({constrainTo:["simple"],emptyAllowed:!1,required:!0}),values:new be({required:!0,max:25,each:new re({emptyAllowed:!1,required:!0})})}}),jU=new Ee,US=new be({min:1,max:25,required:!1,each:new re({emptyAllowed:!1,required:!0})}),LU={facetId:De,field:new re({required:!0,emptyAllowed:!0}),tabs:new se({options:{required:!1},values:{included:new be({each:new re}),excluded:new be({each:new re})}}),activeTab:new re({required:!1}),filterFacetCount:new Ee({required:!1}),injectionDepth:new ye({required:!1,min:0}),numberOfValues:new ye({required:!1,min:1}),sortCriteria:new dt({required:!1}),resultsMustMatch:new dt({required:!1}),allowedValues:_S,customSort:US},hf=I("facet/register",e=>Y(e,LU)),gf=I("facet/toggleSelectValue",e=>Y(e,{facetId:De,selection:new se({values:kc})})),mf=I("facet/toggleExcludeValue",e=>Y(e,{facetId:De,selection:new se({values:kc})})),Bn=I("facet/deselectAll",e=>Y(e,De)),IS=I("facet/updateSortCriterion",e=>Y(e,{facetId:De,criterion:new dt({required:!0})})),yf=I("facet/updateNumberOfValues",e=>Y(e,{facetId:De,numberOfValues:new ye({required:!0,min:1})})),pf=I("facet/updateIsFieldExpanded",e=>Y(e,{facetId:De,isFieldExpanded:new Ee({required:!0})})),BU=I("facet/updateFreezeCurrentValues",e=>Y(e,{facetId:De,freezeCurrentValues:new Ee({required:!0})})),HU=e=>nt("analytics/facet/showMore",(t,a)=>{Y(e,De);const s=cs(e,Qn(a));return t.makeFacetShowMore(s)}),YU=e=>nt("analytics/facet/showLess",(t,a)=>{Y(e,De);const s=cs(e,Qn(a));return t.makeFacetShowLess(s)}),$U=e=>nt("analytics/facet/sortChange",(t,a)=>{Y(e,{facetId:De,criterion:new dt({required:!0})});const{facetId:s,criterion:c}=e,o=Qn(a),h={...cs(s,o),criteria:c};return t.makeFacetUpdateSort(h)}),GU=e=>nt("analytics/facet/reset",(t,a)=>{Y(e,De);const s=Qn(a),c=cs(e,s);return t.makeFacetClearAll(c)}),FS=e=>nt("analytics/facet/select",(t,a)=>{Y(e,{facetId:De,facetValue:oe});const s=Qn(a),c=lc(e,s);return t.makeFacetSelect(c)}),kS=e=>nt("analytics/facet/exclude",(t,a)=>{Y(e,{facetId:De,facetValue:oe});const s=Qn(a),c=lc(e,s);return t.makeFacetExclude(c)}),KU=e=>nt("analytics/facet/deselect",(t,a)=>{Y(e,{facetId:De,facetValue:oe});const s=Qn(a),c=lc(e,s);return t.makeFacetDeselect(c)}),XU=e=>nt("analytics/facet/unexclude",(t,a)=>{Y(e,{facetId:De,facetValue:oe});const s=Qn(a),c=lc(e,s);return t.makeFacetUnexclude(c)}),ZU=()=>({actionCause:Mt.facetClearAll}),zS=()=>({actionCause:Mt.facetSelect}),NS=()=>({actionCause:Mt.facetExclude}),JU=()=>({actionCause:Mt.facetDeselect}),PU=()=>({actionCause:Mt.facetUnexclude}),QS={facetId:De,value:new se({values:{displayValue:Dt,rawValue:Dt,count:new ye({required:!0,min:0})}})},VS=I("facetSearch/register",e=>Y(e,of)),_s=I("facetSearch/update",e=>Y(e,of)),Nc=I("facetSearch/toggleSelectValue",e=>Y(e,QS)),Qc=I("facetSearch/toggleExcludeValue",e=>Y(e,QS)),jS=qe(vd(),e=>{e.addCase(hf,(t,a)=>{const{facetId:s}=a.payload;s in t||(t[s]=CT(WU(a.payload)))}).addCase(ot.fulfilled,(t,a)=>{if(a.payload&&Object.keys(a.payload.facetSet).length!==0)return a.payload.facetSet}).addCase(It,(t,a)=>{const s=a.payload.f||{},c=a.payload.fExcluded||{};Object.keys(t).forEach(f=>{const{request:h}=t[f],g=s[f]||[],m=c[f]||[],p=g.length+m.length,v=h.currentValues.filter(S=>!g.includes(S.value)&&!m.includes(S.value));h.currentValues=[...g.map(HS),...m.map(YS),...v.map(tI)],h.preventAutoSelect=p>0,h.numberOfValues=Math.max(p,h.numberOfValues)})}).addCase(gf,(t,a)=>{const{facetId:s,selection:c}=a.payload,o=t[s]?.request;if(!o)return;o.preventAutoSelect=!0;const f=o.currentValues.find(g=>g.value===c.value);if(!f){Vc(o,c);return}const h=f.state==="selected";f.previousState=f.state,f.state=h?"idle":"selected",o.freezeCurrentValues=!0}).addCase(mf,(t,a)=>{const{facetId:s,selection:c}=a.payload,o=t[s]?.request;if(!o)return;o.preventAutoSelect=!0;const f=o.currentValues.find(g=>g.value===c.value);if(!f){Vc(o,c);return}const h=f.state==="excluded";f.previousState=f.state,f.state=h?"idle":"excluded",o.freezeCurrentValues=!0}).addCase(BU,(t,a)=>{const{facetId:s,freezeCurrentValues:c}=a.payload,o=t[s]?.request;o&&(o.freezeCurrentValues=c)}).addCase(Bn,(t,a)=>{zc(t[a.payload]?.request)}).addCase(hr,t=>{Object.values(t).filter(a=>a.hasBreadcrumbs).forEach(({request:a})=>zc(a))}).addCase(Mp,t=>{Object.values(t).filter(a=>!a.hasBreadcrumbs).forEach(({request:a})=>zc(a))}).addCase(Ed,(t,a)=>Object.values(t).forEach(s=>{s.request.preventAutoSelect=!a.payload.allow})).addCase(IS,(t,a)=>{lf(t,a.payload)}).addCase(yf,(t,a)=>{const{facetId:s,numberOfValues:c}=a.payload;qS(t[s]?.request,c)}).addCase(pf,(t,a)=>{const{facetId:s,isFieldExpanded:c}=a.payload,o=t[s]?.request;o&&(o.isFieldExpanded=c)}).addCase(Fe.fulfilled,(t,a)=>{a.payload.response.facets.forEach(c=>LS(t[c.facetId]?.request,c))}).addCase(ws.fulfilled,(t,a)=>{a.payload.response.facets.forEach(c=>LS(t[c.facetId]?.request,c))}).addCase(Nc,(t,a)=>{const{facetId:s,value:c}=a.payload,o=t[s]?.request;if(!o)return;const{rawValue:f}=c,{currentValues:h}=o,g=h.find(p=>p.value===f);if(g){g.state="selected";return}const m=HS(f);Vc(o,m),o.freezeCurrentValues=!0,o.preventAutoSelect=!0}).addCase(Qc,(t,a)=>{const{facetId:s,value:c}=a.payload,o=t[s]?.request;if(!o)return;const{rawValue:f}=c,{currentValues:h}=o,g=h.find(p=>p.value===f);if(g){g.state="excluded";return}const m=YS(f);Vc(o,m),o.freezeCurrentValues=!0,o.preventAutoSelect=!0}).addCase(Wa,(t,a)=>{if(!(a.payload in t))return;const{request:s}=t[a.payload];zc(s)})});function Vc(e,t){const{currentValues:a}=e,s=a.findIndex(o=>o.state==="idle"),c=s===-1?a.length:s;e.currentValues.splice(c,0,t),s>-1&&e.currentValues.pop(),e.numberOfValues=e.currentValues.length}function LS(e,t){e&&(e.currentValues=t.values.map(eI),e.freezeCurrentValues=!1,e.preventAutoSelect=!1)}const BS={filterFacetCount:!0,injectionDepth:1e3,numberOfValues:8,sortCriteria:"automatic",resultsMustMatch:"atLeastOneValue"};function WU(e){return{...BS,type:"specific",currentValues:[],freezeCurrentValues:!1,isFieldExpanded:!1,preventAutoSelect:!1,...e}}function eI(e){const{value:t,state:a}=e;return{value:t,state:a}}function HS(e){return{value:e,state:"selected"}}function YS(e){return{value:e,state:"excluded"}}function tI(e){return{...e,state:"idle"}}function nI(e){const t=$S(e.start,e),a=$S(e.end,e),s=e.endInclusive??!1,c=e.state??"idle";return{start:t,end:a,endInclusive:s,state:c}}function $S(e,t){const{dateFormat:a}=t;return ux(e)?(Pp(e),sx(e)):typeof e=="string"&&ys(e)?(Pp(e),e):(ax(e,a),Kp(qc(e,a)))}const GS=I("rangeFacet/updateSortCriterion",e=>Y(e,{facetId:De,criterion:new dt({required:!0})})),Us={state:oe,start:new ye({required:!0}),end:new ye({required:!0}),endInclusive:new Ee({required:!0}),numberOfResults:new ye({required:!0,min:0})},Is={start:oe,end:oe,endInclusive:new Ee({required:!0}),state:oe,numberOfResults:new ye({required:!0,min:0})},KS=e=>({facetId:De,selection:typeof e.start=="string"?new se({values:Is}):new se({values:Us})}),rI={start:oe,end:oe,endInclusive:new Ee({required:!0}),state:oe},aI={facetId:De,field:oe,tabs:new se({options:{required:!1},values:{included:new be({each:new re}),excluded:new be({each:new re})}}),activeTab:new re({required:!1}),currentValues:new be({required:!1,each:new se({values:rI})}),generateAutomaticRanges:new Ee({required:!0}),filterFacetCount:new Ee({required:!1}),injectionDepth:new ye({required:!1,min:0}),numberOfValues:new ye({required:!1,min:1}),sortCriteria:new dt({required:!1}),rangeAlgorithm:new dt({required:!1})};function XS(e){return ys(e)?Id(e):e}function ZS(e){e.currentValues&&e.currentValues.forEach(t=>{const{start:a,end:s}=nI(t);if(qc(XS(a)).isAfter(qc(XS(s))))throw new Error(`The start value is greater than the end value for the date range ${t.start} to ${t.end}`)})}const JS=I("dateFacet/register",e=>{try{return Kr(e,aI),ZS(e),{payload:e,error:null}}catch(t){return{payload:e,error:Ua(t)}}}),vf=I("dateFacet/toggleSelectValue",e=>Y(e,{facetId:De,selection:new se({values:Is})})),Sf=I("dateFacet/toggleExcludeValue",e=>Y(e,{facetId:De,selection:new se({values:Is})})),PS=I("dateFacet/updateFacetValues",e=>{try{return Kr(e,{facetId:De,values:new be({each:new se({values:Is})})}),ZS({currentValues:e.values}),{payload:e,error:null}}catch(t){return{payload:e,error:Ua(t)}}}),iI=GS,sI=Bn,WS={filterFacetCount:!0,injectionDepth:1e3,numberOfValues:8,sortCriteria:"ascending",rangeAlgorithm:"even",resultsMustMatch:"atLeastOneValue"};function eb(e,t){const{request:a}=t,{facetId:s}=a;if(s in e)return;const c=sb(a);a.numberOfValues=c,e[s]=t}function tb(e,t,a){const s=e[t]?.request;s&&(s.currentValues=a,s.numberOfValues=sb(s))}function nb(e,t,a){const s=e[t]?.request;if(!s)return;const c=jc(s.currentValues,a);if(!c)return;const o=c.state==="selected";c.previousState=c.state,c.state=o?"idle":"selected",s.preventAutoSelect=!0}function rb(e,t,a){const s=e[t]?.request;if(!s)return;const c=jc(s.currentValues,a);if(!c)return;const o=c.state==="excluded";c.previousState=c.state,c.state=o?"idle":"excluded",s.preventAutoSelect=!0}function ti(e,t){const a=e[t]?.request;a&&a.currentValues.forEach(s=>{s.state!=="idle"&&(s.previousState=s.state),s.state="idle"})}function ab(e,t){Object.entries(e).forEach(([a,{request:s}])=>{const c=t[a]||[];s.currentValues.forEach(h=>(!!jc(c,h)&&(h.state="selected"),h));const o=c.filter(h=>!jc(s.currentValues,h)),f=s.currentValues;f.push(...o),s.numberOfValues=Math.max(s.numberOfValues,f.length)})}function ib(e,t,a){t.forEach(s=>{const c=s.facetId,o=e[c]?.request;if(!o)return;const f=a(s.values);o.currentValues=f,o.preventAutoSelect=!1})}function jc(e,t){const{start:a,end:s}=t;return e.find(c=>c.start===a&&c.end===s)}function sb(e){const{generateAutomaticRanges:t,currentValues:a,numberOfValues:s}=e;return t?Math.max(s,a.length):a.length}qe(yd(),e=>{e.addCase(JS,(t,a)=>{const{payload:s}=a,c=uI(s);eb(t,bT(c))}).addCase(ot.fulfilled,(t,a)=>a.payload?.dateFacetSet??t).addCase(It,(t,a)=>{const s=a.payload.df||{};ab(t,s)}).addCase(vf,(t,a)=>{const{facetId:s,selection:c}=a.payload;nb(t,s,c)}).addCase(Sf,(t,a)=>{const{facetId:s,selection:c}=a.payload;rb(t,s,c)}).addCase(PS,(t,a)=>{const{facetId:s,values:c}=a.payload;tb(t,s,c)}).addCase(sI,(t,a)=>{ti(t,a.payload)}).addCase(hr,t=>{Object.keys(t).forEach(a=>{ti(t,a)})}).addCase(iI,(t,a)=>{lf(t,a.payload)}).addCase(Fe.fulfilled,(t,a)=>{const s=a.payload.response.facets;ib(t,s,cI)}).addCase(Wa,(t,a)=>{ti(t,a.payload)})});function uI(e){return{...WS,currentValues:[],preventAutoSelect:!1,type:"dateRange",...e}}function cI(e){return e.map(t=>{const{numberOfResults:a,...s}=t;return s})}const oI={state:oe,start:new ye({required:!0}),end:new ye({required:!0}),endInclusive:new Ee({required:!0})},lI={facetId:De,field:oe,tabs:new se({options:{required:!1},values:{included:new be({each:new re}),excluded:new be({each:new re})}}),activeTab:new re({required:!1}),currentValues:new be({required:!1,each:new se({values:oI})}),generateAutomaticRanges:new Ee({required:!0}),filterFacetCount:new Ee({required:!1}),injectionDepth:new ye({required:!1,min:0}),numberOfValues:new ye({required:!1,min:1}),sortCriteria:new dt({required:!1}),rangeAlgorithm:new dt({required:!1})};function ub(e){e.currentValues&&e.currentValues.forEach(({start:t,end:a})=>{if(t>a)throw new Error(`The start value is greater than the end value for the numeric range ${t} to ${a}`)})}const cb=I("numericFacet/register",e=>{try{return Y(e,lI),ub(e),{payload:e,error:null}}catch(t){return{payload:e,error:Ua(t)}}}),bf=I("numericFacet/toggleSelectValue",e=>Y(e,{facetId:De,selection:new se({values:Us})})),wf=I("numericFacet/toggleExcludeValue",e=>Y(e,{facetId:De,selection:new se({values:Us})})),ob=I("numericFacet/updateFacetValues",e=>{try{return Kr(e,{facetId:De,values:new be({each:new se({values:Us})})}),ub({currentValues:e.values}),{payload:e,error:null}}catch(t){return{payload:e,error:Ua(t)}}}),dI=GS,fI=Bn;qe(pd(),e=>{e.addCase(cb,(t,a)=>{const{payload:s}=a,c=hI(s);eb(t,wT(c))}).addCase(ot.fulfilled,(t,a)=>a.payload?.numericFacetSet??t).addCase(It,(t,a)=>{const s=a.payload.nf||{};ab(t,s)}).addCase(bf,(t,a)=>{const{facetId:s,selection:c}=a.payload;nb(t,s,c)}).addCase(wf,(t,a)=>{const{facetId:s,selection:c}=a.payload;rb(t,s,c)}).addCase(ob,(t,a)=>{const{facetId:s,values:c}=a.payload;tb(t,s,c)}).addCase(fI,(t,a)=>{ti(t,a.payload)}).addCase(hr,t=>{Object.keys(t).forEach(a=>{ti(t,a)})}).addCase(dI,(t,a)=>{lf(t,a.payload)}).addCase(Fe.fulfilled,(t,a)=>{const s=a.payload.response.facets;ib(t,s,gI)}).addCase(Wa,(t,a)=>{ti(t,a.payload)})});function hI(e){return{...WS,currentValues:[],preventAutoSelect:!1,type:"numericalRange",...e}}function gI(e){return e.map(t=>{const{numberOfResults:a,...s}=t;return s})}const Lc=oe,Cf=new se({options:{required:!0},values:{caption:Dt,expression:Dt,state:new re({constrainTo:["idle","selected","excluded"]})}}),mI=new be({required:!0,each:Cf}),yI=I("staticFilter/register",e=>Y(e,{id:Lc,values:mI})),pI=I("staticFilter/toggleSelect",e=>Y(e,{id:Lc,value:Cf})),vI=I("staticFilter/toggleExclude",e=>Y(e,{id:Lc,value:Cf})),SI=I("staticFilter/deselectAllFilterValues",e=>Y(e,Lc));function Fs(e){let t;const a=new Map,s=()=>a.size===0,c=o=>{try{const f=JSON.stringify(o),h=t!==f;return t=f,h}catch(f){return console.warn('Could not detect if state has changed, check the controller "get state method"',f),!0}};return{subscribe(o){o();const f=Symbol();let h;return s()&&(t=JSON.stringify(this.state),h=e.subscribe(()=>{c(this.state)&&a.forEach(g=>g())})),a.set(f,o),()=>{a.delete(f),s()&&h?.()}},get state(){return{}}}}const bI=new be({each:oe,required:!0}),lb=(e,t)=>(Y(e,oe),Rl(t)?Y(t,oe):Y(t,bI),{payload:{contextKey:e,contextValue:t}}),wI=I("context/set",e=>{for(const[t,a]of Object.entries(e))lb(t,a);return{payload:e}}),CI=I("context/add",e=>lb(e.contextKey,e.contextValue)),AI=I("context/remove",e=>Y(e,oe));qe(cv(),e=>{e.addCase(wI,(t,a)=>{t.contextValues=a.payload}).addCase(CI,(t,a)=>{t.contextValues[a.payload.contextKey]=a.payload.contextValue}).addCase(AI,(t,a)=>{delete t.contextValues[a.payload]}).addCase(ot.fulfilled,(t,a)=>{a.payload&&(t.contextValues=a.payload.context.contextValues)})}),new Et({values:new se({options:{required:!1}})});const RI=qe(dv(),e=>{e.addCase(Gt,(t,a)=>({...t,...a.payload})).addCase(Fe.fulfilled,t=>{t.freezeFacetOrder=!1}).addCase(Fe.rejected,t=>{t.freezeFacetOrder=!1}).addCase(ot.fulfilled,(t,a)=>a.payload?.facetOptions??t).addCase(wS,(t,a)=>{const{facetId:s,tabs:c}=a.payload;Bc(c,t,s)}).addCase(hf,(t,a)=>{const{facetId:s,tabs:c}=a.payload;Bc(c,t,s)}).addCase(JS,(t,a)=>{const{facetId:s,tabs:c}=a.payload;Bc(c,t,s)}).addCase(cb,(t,a)=>{const{facetId:s,tabs:c}=a.payload;Bc(c,t,s)}).addCase(RS,(t,a)=>{t.facets[a.payload].enabled=!0}).addCase(Wa,(t,a)=>{t.facets[a.payload].enabled=!1}).addCase(It,(t,a)=>{[...Object.keys(a.payload.f??{}),...Object.keys(a.payload.fExcluded??{}),...Object.keys(a.payload.cf??{}),...Object.keys(a.payload.nf??{}),...Object.keys(a.payload.df??{})].forEach(s=>{s in t||(t.facets[s]=lv()),t.facets[s].enabled=!0})})});function Bc(e,t,a){const s={...lv(),tabs:e??{}};t.facets[a]=s}qe(gv(),e=>{e.addCase(C_,(t,a)=>{const s=a.payload,{id:c}=s;c in t||(t[c]={...s,isActive:!1})}).addCase(af,(t,a)=>{const s=a.payload;db(t,s)}).addCase(qp,(t,a)=>{const s=a.payload;db(t,s)}).addCase(ot.fulfilled,(t,a)=>a.payload?.tabSet??t).addCase(It,(t,a)=>{const s=a.payload.tab;Ae(s)||Object.keys(t).forEach(c=>{t[c].isActive=c===s})})});function db(e,t){t in e&&Object.keys(e).forEach(s=>{e[s].isActive=s===t})}const OI=I("dictionaryFieldContext/set",e=>{const t=new se({options:{required:!0}}),a=Y(e,t).error;if(a)return{payload:e,error:a};const s=Object.values(e),c=new be({each:Dt}),o=Y(s,c).error;return o?{payload:e,error:o}:{payload:e}}),qI=I("dictionaryFieldContext/add",e=>{const t=new se({options:{required:!0},values:{field:Dt,key:Dt}});return Y(e,t)}),EI=I("dictionaryFieldContext/remove",e=>Y(e,Dt));qe(ov(),e=>{e.addCase(OI,(t,a)=>{t.contextValues=a.payload}).addCase(qI,(t,a)=>{const{field:s,key:c}=a.payload;t.contextValues[s]=c}).addCase(EI,(t,a)=>{delete t.contextValues[a.payload]}).addCase(ot.fulfilled,(t,a)=>{a.payload&&(t.contextValues=a.payload.dictionaryFieldContext.contextValues)})});const Af=()=>({correctedQuery:"",wordCorrections:[],originalQuery:""}),TI=()=>({correctedQuery:"",corrections:[],originalQuery:""});function DI(){return{enableDidYouMean:!1,wasCorrectedTo:"",wasAutomaticallyCorrected:!1,queryCorrection:Af(),originalQuery:"",automaticallyCorrectQuery:!0,queryCorrectionMode:"legacy"}}const xI=(e,t)=>{const a={...TI(),...t,correctedQuery:t?.correctedQuery||t?.corrections[0]?.correctedQuery||""};e.queryCorrection=a,e.wasCorrectedTo=a.correctedQuery};qe(DI(),e=>{e.addCase(hx,t=>{t.enableDidYouMean=!0}).addCase(gx,t=>{t.enableDidYouMean=!1}).addCase(yx,t=>{t.automaticallyCorrectQuery=!0}).addCase(mx,t=>{t.automaticallyCorrectQuery=!1}).addCase(Fe.pending,t=>{t.queryCorrection=Af(),t.wasAutomaticallyCorrected=!1,t.wasCorrectedTo=""}).addCase(Fe.fulfilled,(t,a)=>{const{queryCorrection:s,queryCorrections:c}=a.payload.response;if(t.queryCorrectionMode==="legacy"){const o=c?.[0]?c[0]:Af();t.queryCorrection=o}t.queryCorrectionMode==="next"&&xI(t,s),t.wasAutomaticallyCorrected=a.payload.automaticallyCorrected,t.originalQuery=a.payload.originalQuery}).addCase(Tc,(t,a)=>{t.wasCorrectedTo=a.payload}).addCase(px,(t,a)=>{t.queryCorrectionMode=a.payload})}),qe(gd(),e=>{e.addCase(Fe.fulfilled,(t,a)=>{t.set={},a.payload.response.generateAutomaticFacets?.facets?.forEach(c=>{t.set[c.field]={response:c}})}).addCase(SU,(t,a)=>{a.payload.desiredCount&&(t.desiredCount=a.payload.desiredCount),a.payload.numberOfValues&&(t.numberOfValues=a.payload.numberOfValues)}).addCase(SS,(t,a)=>{const{field:s,selection:c}=a.payload,o=t.set[s]?.response;if(!o)return;const f=o.values.find(g=>g.value===c.value);if(!f)return;const h=f.state==="selected";f.state=h?"idle":"selected"}).addCase(bU,(t,a)=>{const s=a.payload,c=t.set[s]?.response;if(c)for(const o of c.values)o.state="idle"}).addCase(It,(t,a)=>{const s=a.payload.af??{},c=Object.keys(t.set);for(const o in s)if(!t.set[o]){const f=MI(o),h=s[o].map(g=>fb(g));f.values.push(...h),t.set[o]={response:f}}for(const o of c)if(!(o in s)){const f=t.set[o]?.response;for(const h of f.values)h.state="idle"}for(const o in s){const f=t.set[o]?.response;if(f){const h=f.values,g=new Set(s[o]);for(const m of h)g.has(m.value)?(m.state="selected",g.delete(m.value)):m.state="idle";for(const m of g)f.values.push(fb(m))}}}).addCase(ot.fulfilled,(t,a)=>{if(a.payload&&Object.keys(a.payload.automaticFacetSet.set).length!==0)return a.payload.automaticFacetSet}).addCase(hr,t=>{Object.values(t.set).forEach(({response:a})=>{a.values.forEach(s=>{s.state="idle"})})})});function MI(e){return{field:e,values:[],moreValuesAvailable:!1,label:"",indexScore:0}}function fb(e){return{value:e,state:"selected",numberOfResults:0}}const Rf=e=>e.state==="selected",Of=e=>e.state==="excluded",_I=(e,t)=>{const a={facetId:e,facetValue:t.value};return Rf(t)?KU(a):FS(a)},UI=e=>Rf(e)?JU():zS(),II=(e,t)=>{const a={facetId:e,facetValue:t.value};return Of(t)?XU(a):kS(a)},FI=e=>Of(e)?PU():NS();var ni;(function(e){e.Relevance="relevance",e.Fields="fields"})(ni||(ni={}));var qf;(function(e){e.Ascending="asc",e.Descending="desc"})(qf||(qf={})),new se({options:{required:!1},values:{by:new Ki({enum:ni,required:!0}),fields:new be({each:new se({values:{field:new re({required:!0}),direction:new Ki({enum:qf}),displayName:new re}})})}});const ta=e=>e.error!==void 0;function kI(e,t="prod"){return`${$r(e,t)}/rest/organizations/${e}/commerce/v2`}const zI=e=>NI(e.cartItems,e.cart);function NI(e,t){const a=e.reduce((s,c)=>{const{productId:o,quantity:f}=t[c];return o in s||(s[o]={productId:o,quantity:0}),s[o].quantity+=f,s},{});return[...Object.values(a)]}const Ef=(e,t)=>{const{view:a,location:s,...c}=e.commerceContext;return{accessToken:e.configuration.accessToken,url:e.configuration.commerce.apiBaseUrl??kI(e.configuration.organizationId,e.configuration.environment),organizationId:e.configuration.organizationId,trackingId:e.configuration.analytics.trackingId,...c,...e.configuration.analytics.enabled?{clientId:t.clientId}:{},context:{user:{...s,...t.userAgent?{userAgent:t.userAgent}:{}},view:{...a,...t.referrer?{referrer:t.referrer}:{}},capture:t.capture??(e.configuration.analytics.enabled&&t.clientId!==""),cart:zI(e.cart),source:tc(e.configuration.analytics)}}},QI=(e,t,a)=>({...Ef(e,t),...VI(e,a)}),VI=(e,t)=>{const a=t?e.commercePagination?.recommendations[t]:e.commercePagination?.principal;return a&&{page:a.page,...a.perPage&&{perPage:a.perPage}}},na=(e,t)=>({...QI(e,t),facets:[...jI(e)],...e.commerceSort&&{sort:LI(e.commerceSort.appliedSort)}});function jI(e){return!e.facetOrder||!e.commerceFacetSet?[]:e.facetOrder.filter(t=>e.commerceFacetSet?.[t]).map(t=>e.manualNumericFacetSet?.[t]?.manualRange?{facetId:t,field:t,numberOfValues:1,isFieldExpanded:!1,preventAutoSelect:!0,type:"numericalRange",values:[e.manualNumericFacetSet[t].manualRange],initialNumberOfValues:1}:e.commerceFacetSet[t].request).filter(t=>t&&t.values.length>0)}function LI(e){return e.by===ni.Relevance?{sortCriteria:ni.Relevance}:{sortCriteria:ni.Fields,fields:e.fields.map(({name:t,direction:a})=>({field:t,direction:a}))}}const BI=(e,t,a,s)=>{const c=t.categoryFacetSearchSet[e].options.query,o=`*${c}*`,f=t.commerceFacetSet[Tf(e)]?.request,h=f&&HI(f)?f&&YI(f):[],g=h.length?[h]:[],m=a?c:t.commerceQuery?.query,p=t.categoryFacetSearchSet[e].options.numberOfValues,{url:v,accessToken:S,organizationId:w,trackingId:C,language:A,country:O,currency:q,clientId:M,context:R,...U}=na(t,s);return{url:v,accessToken:S,organizationId:w,facetId:Tf(e),facetQuery:a?"*":o,numberOfValues:p,ignorePaths:g,trackingId:C,language:A,country:O,currency:q,clientId:M,context:R,query:m,...!a&&{...U}}};function HI(e){return e.type==="hierarchical"}const YI=e=>{const t=[];let a=e.values[0];for(;a;)t.push(a.value),a=a.children[0];return t},$I=(e,t,a,s)=>{const c=t.facetSearchSet[e].options.query,o=t.facetSearchSet[e].options.numberOfValues,f=`*${c}*`,h=a?c:t.commerceQuery?.query,{url:g,accessToken:m,organizationId:p,trackingId:v,language:S,country:w,currency:C,clientId:A,context:O,...q}=na(t,s);return{url:g,accessToken:m,organizationId:p,facetId:Tf(e),facetQuery:a?"*":f,numberOfValues:o,trackingId:v,language:S,country:w,currency:C,clientId:A,context:O,query:h,...!a&&{...q}}},hb=e=>async({facetId:t,facetSearchType:a},{getState:s,extra:{validatePayload:c,navigatorContext:o,apiClient:f}})=>{const h=s();c(t,oe);const g=GI(h,t)||KI(h,t)?$I(t,h,e,o):BI(t,h,e,o),m=await f.facetSearch(g,a);return{facetId:t,response:m}},ri=Ce("commerce/facetSearch/executeSearch",hb(!1)),ai=Ce("commerce/facetSearch/facetFieldSuggest",hb(!0)),GI=(e,t)=>"facetSearchSet"in e&&e.facetSearchSet[t]!==void 0&&e.commerceFacetSet[t]!==void 0,KI=(e,t)=>"fieldSuggestionsOrder"in e?e.fieldSuggestionsOrder.some(a=>a.facetId===t&&a.type==="regular"):!1,Hc="field_suggestion:";function Tf(e){return e.startsWith(Hc)?e.slice(Hc.length):e}function ks(e){return e.startsWith(Hc)?e:`${Hc}${e}`}const gb=e=>e.commercePagination?.principal.perPage||0,mb=e=>e.commercePagination?.principal.totalEntries||0,yb=e=>e.productListing?.results.length||e.productListing?.products.length||0,XI=Nt(e=>({total:mb(e),current:yb(e)}),({current:e,total:t})=>e<t),Df=Ce("commerce/productListing/fetch",async(e,{getState:t,rejectWithValue:a,extra:{apiClient:s,navigatorContext:c}})=>{const o=t(),f=na(o,c),h=await s.getProductListing({...f,enableResults:!!e?.enableResults});return ta(h)?a(h.error):{response:h.success}});Ce("commerce/productListing/fetchMoreProducts",async(e,{getState:t,rejectWithValue:a,extra:{apiClient:s,navigatorContext:c}})=>{const o=t();if(!XI(o))return null;const h=gb(o),m=yb(o)/h,p=await s.getProductListing({...na(o,c),enableResults:!!e?.enableResults,page:m});return ta(p)?a(p.error):{response:p.success}});const ZI={child:new se({options:{required:!0},values:{permanentid:new re({required:!0})}})};I("commerce/productListing/promoteChildToParent",e=>Y(e,ZI));const JI=(e,t,a)=>({...Ef(t,a),query:t.querySet[e]}),PI=I("commerce/querySuggest/clear",e=>Y(e,{id:oe})),zs=Ce("commerce/querySuggest/fetch",async(e,{getState:t,rejectWithValue:a,extra:{apiClient:s,validatePayload:c,navigatorContext:o}})=>{c(e,{id:oe});const f=t(),h=JI(e.id,f,o),g=await s.querySuggest(h);return ta(g)?a(g.error):{id:e.id,query:h.query,...g.success}}),WI=I("commerce/querySuggest/register",e=>Y(e,{id:oe,count:new ye({min:0})})),eF=I("commerce/querySuggest/selectSuggestion",e=>Y(e,{id:oe,expression:Dt}));I("commerce/facets/core/updateNumberOfValues",e=>Y(e,{facetId:oe,numberOfValues:new ye({required:!0,min:1})})),I("commerce/facets/core/updateIsFieldExpanded",e=>Y(e,{facetId:oe,isFieldExpanded:new Ee({required:!0})})),I("commerce/facets/core/clearAll");const tF=I("commerce/facets/core/deleteAll");I("commerce/facets/core/deselectAllValues",e=>Y(e,{facetId:oe})),I("commerce/facets/core/updateFreezeCurrentValues",e=>Y(e,{facetId:oe,freezeCurrentValues:new Ee({required:!0})}));const nF=I("commerce/facets/core/updateAutoSelectionForAll",e=>Y(e,{allow:new Ee({required:!0})})),Yc={slotId:uO},rF={...Yc,pageSize:new ye({required:!0,min:0})};I("commerce/pagination/setPageSize",e=>Y(e,rF));const aF={...Yc,page:new ye({required:!0,min:0})},iF=I("commerce/pagination/selectPage",e=>Y(e,aF));I("commerce/pagination/nextPage",e=>Y(e,Yc)),I("commerce/pagination/previousPage",e=>Y(e,Yc)),I("commerce/pagination/registerRecommendationsSlot",e=>Y(e,{slotId:oe}));const pb=I("commerce/query/update",e=>Y(e,{query:new re})),sF=I("commerce/triggers/query/updateIgnore",e=>Y(e,{q:new re({emptyAllowed:!0,required:!0})})),uF=I("commerce/triggers/query/applyModification",e=>Y(e,new se({values:{originalQuery:mt,modification:mt}}))),vb=e=>e.commerceSearch?.products.length||0,cF=Nt(e=>({total:mb(e),current:vb(e)}),({current:e,total:t})=>e<t),xf=e=>e.commerceQuery?.query??"",oF=(e,t)=>Ae(t.queryCorrection?.correctedQuery)?xf(e):t.queryCorrection.correctedQuery;class Sb{config;constructor(t){this.config=t}async process(t){return this.processQueryErrorOrContinue(t)??await this.processQueryCorrectionsOrContinue(t)??await this.processQueryTriggersOrContinue(t)??this.processSuccessResponse(t)}async fetchFromAPI(t){const a=Date.now(),s=await this.extra.apiClient.search(t),c=Date.now()-a,o=this.getState().commerceQuery.query||"";return{response:s,duration:c,queryExecuted:o,requestExecuted:t}}processSuccessResponse(t){return{...t,response:this.getSuccessResponse(t),originalQuery:this.getCurrentQuery()}}processQueryErrorOrContinue(t){return ta(t.response)?this.rejectWithValue(t.response.error):null}async processQueryCorrectionsOrContinue(t){const a=this.getState(),s=this.getSuccessResponse(t);if(!s||!a.didYouMean)return null;const{queryCorrection:c}=s;if(!(!Ae(c)&&!Ae(c.correctedQuery)))return null;const{correctedQuery:f,originalQuery:h}=s.queryCorrection;return this.onUpdateQueryForCorrection(f??""),{...t,response:{...s},queryExecuted:oF(a,s),originalQuery:h??""}}async processQueryTriggersOrContinue(t){const a=this.getSuccessResponse(t);if(!a)return null;const s=a.triggers.find(h=>h.type==="query")?.content||"";if(!s)return null;if(this.getState().triggers?.queryModification.queryToIgnore===s)return this.dispatch(sF({q:""})),null;const o=this.getCurrentQuery(),f=await this.automaticallyRetryQueryWithTriggerModification(s);return ta(f.response)?this.rejectWithValue(f.response.error):{...f,response:{...f.response.success},originalQuery:o}}async automaticallyRetryQueryWithTriggerModification(t){return this.dispatch(uF({newQuery:t,originalQuery:this.getCurrentQuery()})),this.onUpdateQueryForCorrection(t),await this.fetchFromAPI({...na(this.getState(),this.navigatorContext),query:t})}get dispatch(){return this.config.dispatch}get rejectWithValue(){return this.config.rejectWithValue}getState(){return this.config.getState()}get navigatorContext(){return this.config.extra.navigatorContext}getCurrentQuery(){const t=this.getState();return t.commerceQuery.query!==void 0?t.commerceQuery.query:""}getSuccessResponse(t){return ta(t.response)?null:t.response.success}get extra(){return this.config.extra}onUpdateQueryForCorrection(t){this.dispatch(pb({query:t}))}}const $c=Ce("commerce/search/executeSearch",async(e,t)=>{const{getState:a}=t,s=a(),{navigatorContext:c}=t.extra,o=na(s,c),f=xf(s),h=new Sb(t),g=await h.fetchFromAPI({...o,query:f});return h.process(g)});Ce("commerce/search/fetchMoreProducts",async(e,t)=>{const{getState:a}=t,s=a(),{navigatorContext:c}=t.extra;if(!cF(s))return null;const f=gb(s),g=vb(s)/f,m=xf(s),p=na(s,c),v=new Sb(t),S=await v.fetchFromAPI({...p,query:m,page:g});return v.process(S)}),Ce("commerce/search/prepareForSearchWithQuery",(e,t)=>{const{dispatch:a}=t;Y(e,{query:new re,clearFilters:new Ee}),e.clearFilters&&a(tF()),a(nF({allow:!0})),a(pb({query:e.query})),a(iF({page:0}))}),Ce("commerce/search/fetchInstantProducts",async(e,{getState:t,rejectWithValue:a,extra:s})=>{const c=t(),{apiClient:o,navigatorContext:f}=s,{q:h}=e,g=await o.productSuggestions({...Ef(c,f),query:h});return ta(g)?a(g.error):{response:{...g.success,products:g.success.products}}});const lF={child:new se({options:{required:!0},values:{permanentid:new re({required:!0})}})};I("commerce/search/promoteChildToParent",e=>Y(e,lF));function Mf(e,t,a){const{facetId:s}=t;if(e[s])return;const c=!1,o={...aa,...t},f=a();e[s]={options:o,isLoading:c,response:f,initialNumberOfValues:o.numberOfValues,requestId:""}}function bb(e,t){const{facetId:a,...s}=t,c=e[a];c&&(c.options={...c.options,...s})}function ii(e,t,a){const s=e[t];s&&(s.requestId=a,s.isLoading=!0)}function si(e,t){const a=e[t];a&&(a.isLoading=!1)}function wb(e,t,a){const{facetId:s,response:c}=t,o=e[s];o&&o.requestId===a&&(o.isLoading=!1,o.response=c)}function Cb(e,t,a){const{facetId:s,response:c}=t,o=e[s];o&&o.requestId===a&&(o.isLoading=!1,"success"in c&&(o.response=c.success))}function Ab(e,t,a,s){const{facetId:c,response:o}=t,f=ks(c);let h=e[f];if(!h)Mf(e,{facetId:f},s),h=e[f];else if(h.requestId!==a)return;h.isLoading=!1,"success"in o&&(h.response=o.success)}function dF(e,t,a,s){if(t.fieldSuggestionsFacets)for(const c of t.fieldSuggestionsFacets)c.facetId in e||c.type!=="regular"||(e[c.facetId]={options:{...aa,query:t.query??""},isLoading:!1,response:s(),initialNumberOfValues:aa.numberOfValues,requestId:a})}function fF(e,t,a,s){if(t.fieldSuggestionsFacets)for(const c of t.fieldSuggestionsFacets){const o=ks(c.facetId);o in e||c.type!=="hierarchical"||(e[o]={options:{...aa,query:t.query??""},isLoading:!1,response:s(),initialNumberOfValues:aa.numberOfValues,requestId:a})}}function _f(e,t,a){const{facetId:s}=t,c=e[s];c&&(c.requestId="",c.isLoading=!1,c.response=a(),c.options.numberOfValues=c.initialNumberOfValues,c.options.query=aa.query)}function ra(e,t){Object.keys(e).forEach(a=>_f(e,{facetId:a},t))}const aa={captions:{},numberOfValues:10,query:""},hF=async(e,t,a,s)=>{const c=t.categoryFacetSearchSet[e].options,o=t.categoryFacetSet[e].request,{captions:f,query:h,numberOfValues:g}=c,{field:m,delimitingCharacter:p,basePath:v,filterFacetCount:S}=o,w=gF(o),C=w.length?[w]:[],A=`*${h}*`;return{url:t.configuration.search.apiBaseUrl??Fn(t.configuration.organizationId,t.configuration.environment),accessToken:t.configuration.accessToken,organizationId:t.configuration.organizationId,...t.configuration.search.authenticationProviders.length&&{authentication:t.configuration.search.authenticationProviders.join(",")},basePath:v,captions:f,numberOfValues:g,query:A,field:m,delimitingCharacter:p,ignorePaths:C,filterFacetCount:S,type:"hierarchical",...s?{}:{searchContext:(await yr(t,a)).request}}},gF=e=>{const t=[];let a=e.currentValues[0];for(;a;)t.push(a.value),a=a.children[0];return t},mF=async(e,t,a,s)=>{const{captions:c,query:o,numberOfValues:f}=t.facetSearchSet[e].options,{field:h,currentValues:g,filterFacetCount:m}=t.facetSet[e].request,p=g.filter(S=>S.state!=="idle").map(S=>S.value),v=`*${o}*`;return{url:t.configuration.search.apiBaseUrl??Fn(t.configuration.organizationId,t.configuration.environment),accessToken:t.configuration.accessToken,organizationId:t.configuration.organizationId,...t.configuration.search.authenticationProviders&&{authentication:t.configuration.search.authenticationProviders.join(",")},captions:c,numberOfValues:f,query:v,field:h,ignoreValues:p,filterFacetCount:m,type:"specific",...s?{}:{searchContext:(await yr(t,a)).request}}},Rb=e=>async(t,{getState:a,extra:{apiClient:s,validatePayload:c,navigatorContext:o}})=>{const f=a();let h;c(t,oe),yF(f,t)?h=await mF(t,f,o,e):h=await hF(t,f,o,e);const g=await s.facetSearch(h);return{facetId:t,response:g}},ia=Ce("facetSearch/executeSearch",Rb(!1));Ce("facetSearch/executeSearch",Rb(!0));const Uf=I("facetSearch/clearResults",e=>Y(e,{facetId:De})),yF=(e,t)=>e.facetSearchSet!==void 0&&e.facetSet!==void 0&&e.facetSet[t]!==void 0;function pF(){return{}}qe(pF(),e=>{e.addCase(EU,(t,a)=>{const s=a.payload;Mf(t,s,sa)}).addCase(_s,(t,a)=>{bb(t,a.payload)}).addCase(ri.pending,(t,a)=>{const{facetId:s}=a.meta.arg;ii(t,s,a.meta.requestId)}).addCase(ai.pending,(t,a)=>{const{facetId:s}=a.meta.arg;ii(t,s,a.meta.requestId)}).addCase(ia.pending,(t,a)=>{const s=a.meta.arg;ii(t,s,a.meta.requestId)}).addCase(ri.rejected,(t,a)=>{const{facetId:s}=a.meta.arg;si(t,s)}).addCase(ai.rejected,(t,a)=>{const{facetId:s}=a.meta.arg;si(t,ks(s))}).addCase(ia.rejected,(t,a)=>{const s=a.meta.arg;si(t,s)}).addCase(ri.fulfilled,(t,a)=>{Cb(t,a.payload,a.meta.requestId)}).addCase(ai.fulfilled,(t,a)=>{Ab(t,a.payload,a.meta.requestId,sa)}).addCase(zs.fulfilled,(t,a)=>{fF(t,a.payload,a.meta.requestId,sa)}).addCase(ia.fulfilled,(t,a)=>{wb(t,a.payload,a.meta.requestId)}).addCase(Uf,(t,{payload:{facetId:a}})=>{_f(t,{facetId:a},sa)}).addCase(Df.fulfilled,t=>ra(t,sa)).addCase($c.fulfilled,t=>ra(t,sa)).addCase(Fe.fulfilled,t=>{ra(t,sa)})});function sa(){return{moreValuesAvailable:!1,values:[]}}function vF(e,t){const{field:a,state:s}=e;if(!SF(e))return a;const c=`${a}_`,o=bF(c,s);return CF(a,t),`${c}${o}`}function SF(e){const{field:t,state:a}=e;return Ob(a).some(c=>c&&t in c)}function bF(e,t){const s=Ob(t).map(c=>Object.keys(c||{})).reduce((c,o)=>c.concat(o),[]);return wF(s,e)+1}function Ob(e){const{facetSet:t,numericFacetSet:a,dateFacetSet:s,categoryFacetSet:c}=e;return[t,a,s,c]}function wF(e,t){return e.map(o=>{const f=o.split(t)[1],h=parseInt(f,10);return Number.isNaN(h)?0:h}).sort().pop()??0}function CF(e,t){const a=`A facet with field "${e}" already exists.
  To avoid unexpected behaviour, configure the #id option on the facet controller.`;t.warn(a)}function AF(e,t){const{state:a,logger:s}=e,{field:c,facetId:o}=t;return o||vF({field:c,state:a},s)}const RF=["alphanumeric","occurrences"];new Et({field:Ds,tabs:new se({options:{required:!1},values:{included:new be({each:new re}),excluded:new be({each:new re})}}),basePath:FU,delimitingCharacter:kU,facetId:Ts,facetSearch:ff,filterByBasePath:zU,filterFacetCount:xs,injectionDepth:Ms,numberOfValues:ei,sortCriteria:new re({constrainTo:RF})});function OF(e,t){const a=e.dispatch,{options:s,getFacetSearch:c,executeFacetSearchActionCreator:o}=t,{facetId:f}=s;return{updateText(h){a(_s({facetId:f,query:h,numberOfValues:c().initialNumberOfValues}))},showMoreResults(){const{initialNumberOfValues:h,options:g}=c();a(_s({facetId:f,numberOfValues:g.numberOfValues+h})),a(o(f))},search(){a(o(f))},clear(){a(Uf({facetId:f}))},updateCaptions(h){a(_s({facetId:f,captions:h}))},get state(){const{response:h,isLoading:g,options:m}=c(),{query:p}=m,v=h.values;return{...h,values:v,isLoading:g,query:p}}}}const qF=Intl.supportedValuesOf("currency"),EF=new re({required:!0,emptyAllowed:!1,constrainTo:qF}),qb={url:oe},Eb={latitude:new ye({min:-90,max:90,required:!0}),longitude:new ye({min:-180,max:180,required:!0})},TF={language:oe,country:oe,currency:EF,view:new se({options:{required:!0},values:qb}),location:new se({options:{required:!1},values:Eb})},DF=I("commerce/context/set",e=>Y(e,TF)),Tb=I("commerce/context/setView",e=>Y(e,qb));I("commerce/context/setLocation",e=>Y(e,Eb));function xF(){return{}}const Db=qe(xF(),e=>{e.addCase(VS,(t,a)=>{const s=a.payload;Mf(t,s,pr)}).addCase(_s,(t,a)=>{bb(t,a.payload)}).addCase(ri.pending,(t,a)=>{const{facetId:s}=a.meta.arg;ii(t,s,a.meta.requestId)}).addCase(ai.pending,(t,a)=>{const{facetId:s}=a.meta.arg;ii(t,ks(s),a.meta.requestId)}).addCase(ia.pending,(t,a)=>{const s=a.meta.arg;ii(t,s,a.meta.requestId)}).addCase(ri.rejected,(t,a)=>{const{facetId:s}=a.meta.arg;si(t,s)}).addCase(ai.rejected,(t,a)=>{const{facetId:s}=a.meta.arg;si(t,ks(s))}).addCase(ia.rejected,(t,a)=>{const s=a.meta.arg;si(t,s)}).addCase(ri.fulfilled,(t,a)=>{Cb(t,a.payload,a.meta.requestId)}).addCase(ai.fulfilled,(t,a)=>{Ab(t,a.payload,a.meta.requestId,pr)}).addCase(zs.fulfilled,(t,a)=>{dF(t,a.payload,a.meta.requestId,pr)}).addCase(ia.fulfilled,(t,a)=>{wb(t,a.payload,a.meta.requestId)}).addCase(Uf,(t,{payload:a})=>{_f(t,a,pr)}).addCase(Fe.fulfilled,t=>{ra(t,pr)}).addCase(Df.fulfilled,t=>ra(t,pr)).addCase($c.fulfilled,t=>ra(t,pr)).addCase(Tb,t=>ra(t,pr))});function pr(){return{moreValuesAvailable:!1,values:[]}}const xb={facetId:De,selection:new se({values:kc})},MF=Ce("facet/executeToggleSelect",({facetId:e,selection:t},a)=>{const{dispatch:s,extra:{validatePayload:c}}=a;c({facetId:e,selection:t},xb),s(gf({facetId:e,selection:t})),s(Gt())}),_F=Ce("facet/executeToggleExclude",({facetId:e,selection:t},a)=>{const{dispatch:s,extra:{validatePayload:c}}=a;c({facetId:e,selection:t},xb),s(mf({facetId:e,selection:t})),s(Gt())}),If=["allValues","atLeastOneValue"],Mb=["score","alphanumeric","alphanumericDescending","occurrences","automatic","alphanumericNatural","alphanumericNaturalDescending"],UF=new Et({facetId:Ts,tabs:new se({options:{required:!1},values:{included:new be({each:new re}),excluded:new be({each:new re})}}),field:Ds,filterFacetCount:xs,injectionDepth:Ms,numberOfValues:ei,sortCriteria:new re({constrainTo:Mb}),resultsMustMatch:new re({constrainTo:If}),facetSearch:ff});function IF(e,t,a=UF){FF(e);const{dispatch:s}=e,c=Fs(e),o=AF(e,t.options),f=t.options.tabs??{},h=Jd(e.state.tabSet),g={...BS,...sR("facetSearch",t.options),field:t.options.field,facetId:o,tabs:f,activeTab:h},m={facetSearch:{...aa,...t.options.facetSearch},...g};Lu(e,a,m,"buildFacet");const p=()=>gT(e.state,o),v=()=>mT(e.state,o),S=()=>yT(e.state),w=()=>VM(e.state,o),C=()=>{const{currentValues:O}=p();return O.filter(q=>q.state!=="idle").length},A=()=>{const{currentValues:O}=p(),q=m.numberOfValues,M=!!O.find(R=>R.state==="idle");return q<O.length&&M};return s(hf(g)),{...c,toggleSelect:O=>s(MF({facetId:m.facetId,selection:O})),toggleExclude:O=>s(_F({facetId:m.facetId,selection:O})),toggleSingleSelect:function(O){O.state==="idle"&&s(Bn(o)),this.toggleSelect(O)},toggleSingleExclude:function(O){O.state==="idle"&&s(Bn(o)),this.toggleExclude(O)},isValueSelected:Rf,isValueExcluded:Of,deselectAll(){s(Bn(o)),s(Gt())},sortBy(O){s(IS({facetId:o,criterion:O})),s(Gt())},isSortedBy(O){return this.state.sortCriterion===O},showMoreValues(){const O=p().numberOfValues,q=m.numberOfValues,M=q-O%q,R=O+M;s(yf({facetId:o,numberOfValues:R})),s(pf({facetId:o,isFieldExpanded:!0})),s(Gt())},showLessValues(){const O=m.numberOfValues,q=Math.max(O,C());s(yf({facetId:o,numberOfValues:q})),s(pf({facetId:o,isFieldExpanded:!1})),s(Gt())},enable(){s(RS(o))},disable(){s(Wa(o))},get state(){const O=p(),q=v(),M=S(),R=w();let U;typeof O.sortCriteria=="object"?U=O.sortCriteria.order==="descending"?"alphanumericDescending":"alphanumeric":U=O.sortCriteria;const Z=q?q.values:[],k=Z.some(K=>K.state!=="idle"),x=q?q.moreValuesAvailable:!1,z=O.resultsMustMatch;return{label:q?.label,facetId:o,tabs:f,values:Z,sortCriterion:U,resultsMustMatch:z,isLoading:M,hasActiveValues:k,canShowMoreValues:x,canShowLessValues:A(),enabled:R}}}}function FF(e){return e.addReducers({facetSet:jS,facetOptions:RI,configuration:Ja,facetSearchSet:Db}),!0}function kF(e,t){const{dispatch:a}=e,{options:s,select:c,exclude:o,executeFacetSearchActionCreator:f}=t,{facetId:h}=s,g=()=>"state"in e?e.state.facetSearchSet[h]:e[G_].facetSearchSet[h];a(VS(s));const m=OF(e,{options:s,getFacetSearch:g,executeFacetSearchActionCreator:f});return{...m,select(p){a(Nc({facetId:h,value:p})),c(p)},exclude(p){a(Qc({facetId:h,value:p})),o(p)},singleSelect(p){a(Bn(h)),a(Nc({facetId:h,value:p})),c(p)},singleExclude(p){a(Bn(h)),a(Qc({facetId:h,value:p})),o(p)},get state(){const{values:p}=m.state;return{...m.state,values:p.map(({count:v,displayValue:S,rawValue:w})=>({count:v,displayValue:S,rawValue:w}))}}}}const zF=new Et({facetId:Ts,field:Ds,tabs:new se({options:{required:!1},values:{included:new be({each:new re}),excluded:new be({each:new re})}}),filterFacetCount:xs,injectionDepth:Ms,numberOfValues:ei,sortCriteria:new re({constrainTo:Mb}),resultsMustMatch:new re({constrainTo:If}),facetSearch:ff,allowedValues:_S,hasBreadcrumbs:jU,customSort:US});function NF(e,t){QF(e);const{dispatch:a}=e,s=IF(e,{...t,options:{...t.options,...t.options.allowedValues&&{allowedValues:{type:"simple",values:t.options.allowedValues}}}},zF),c=()=>s.state.facetId,f=(()=>{const{facetSearch:m}=t.options;return kF(e,{options:{facetId:c(),...m},select:p=>{a(Gt()),a(Fe({legacy:FS({facetId:c(),facetValue:p.rawValue}),next:zS()}))},exclude:p=>{a(Gt()),a(Fe({legacy:kS({facetId:c(),facetValue:p.rawValue}),next:NS()}))},executeFacetSearchActionCreator:ia})})(),{state:h,...g}=f;return{...s,facetSearch:g,toggleSelect(m){s.toggleSelect(m),a(Fe({legacy:_I(c(),m),next:UI(m)}))},toggleExclude(m){s.toggleExclude(m),a(Fe({legacy:II(c(),m),next:FI(m)}))},deselectAll(){s.deselectAll(),a(Fe({legacy:GU(c()),next:ZU()}))},sortBy(m){s.sortBy(m),a(Fe({legacy:$U({facetId:c(),criterion:m})}))},isSortedBy(m){return this.state.sortCriterion===m},showMoreValues(){s.showMoreValues(),a(ws({legacy:HU(c())}))},showLessValues(){s.showLessValues(),a(ws({legacy:YU(c())}))},get state(){return{...s.state,facetSearch:f.state}}}}function QF(e){return e.addReducers({facetSet:jS,configuration:Ja,facetSearchSet:Db,search:Cs}),!0}const _b=I("rangeFacet/executeToggleSelect",e=>Y(e,KS(e.selection))),Ub=I("rangeFacet/executeToggleExclude",e=>Y(e,KS(e.selection))),Ib={facetId:De,selection:new se({values:Is})};Ce("dateFacet/executeToggleSelect",(e,{dispatch:t,extra:{validatePayload:a}})=>{a(e,Ib),t(vf(e)),t(_b(e)),t(Gt())}),Ce("dateFacet/executeToggleExclude",(e,{dispatch:t,extra:{validatePayload:a}})=>{a(e,Ib),t(Sf(e)),t(Ub(e)),t(Gt())});const Fb=["idle","selected","excluded"],kb=["ascending","descending"],zb=["even","equiprobable"],VF={start:new re,end:new re,endInclusive:new Ee,state:new re({constrainTo:Fb})};new Et({facetId:Ts,field:Ds,tabs:new se({options:{required:!1},values:{included:new be({each:new re}),excluded:new be({each:new re})}}),generateAutomaticRanges:MS,filterFacetCount:xs,injectionDepth:Ms,numberOfValues:ei,currentValues:new be({each:new se({values:VF})}),sortCriteria:new re({constrainTo:kb}),rangeAlgorithm:new re({constrainTo:zb})});const Nb={facetId:De,selection:new se({values:Us})};Ce("numericFacet/executeToggleSelect",(e,{dispatch:t,extra:{validatePayload:a}})=>{a(e,Nb),t(bf(e)),t(_b(e)),t(Gt())}),Ce("numericFacet/executeToggleExclude",(e,{dispatch:t,extra:{validatePayload:a}})=>{a(e,Nb),t(wf(e)),t(Ub(e)),t(Gt())});const jF={start:new ye,end:new ye,endInclusive:new Ee,state:new re({constrainTo:Fb})};new Et({facetId:Ts,tabs:new se({options:{required:!1},values:{included:new be({each:new re}),excluded:new be({each:new re})}}),field:Ds,generateAutomaticRanges:MS,filterFacetCount:xs,injectionDepth:Ms,numberOfValues:ei,currentValues:new be({each:new se({values:jF})}),sortCriteria:new re({constrainTo:kb}),resultsMustMatch:new re({constrainTo:If}),rangeAlgorithm:new re({constrainTo:zb})});const LF={collectionField:new re({emptyAllowed:!1,required:!1}),parentField:new re({emptyAllowed:!1,required:!1}),childField:new re({emptyAllowed:!1,required:!1}),numberOfFoldedResults:new ye({min:0,required:!1})},Qb=I("folding/register",e=>Y(e,LF)),Ff=Ce("folding/loadCollection",async(e,{getState:t,rejectWithValue:a,extra:{apiClient:s,navigatorContext:c}})=>{const o=t(),f=o.configuration.analytics.analyticsMode==="legacy"?await Sc(o):Dd(o,c),h=await s.search({...f,q:BF(o),enableQuerySyntax:!0,cq:`@${o.folding.fields.collection}="${e}"`,filterField:o.folding.fields.collection,childField:o.folding.fields.parent,parentField:o.folding.fields.child,filterFieldRange:100},{origin:"foldingCollection"});return pn(h)?a(h.error):{collectionId:e,results:h.success.results,searchUid:h.success.searchUid,rootResult:o.folding.collections[e].result}});function BF(e){return e.query.q===""?"":e.query.enableQuerySyntax?`${e.query.q} OR @uri`:`( <@- ${e.query.q} -@> ) OR @uri`}const Vb=()=>({enabled:!1,fields:{collection:"foldingcollection",parent:"foldingparent",child:"foldingchild"},filterFieldRange:2,collections:{}});function HF(e,t){return e.raw[t.collection]}function kf(e,t){return e.raw[t.parent]}function Ns(e,t){const a=e.raw[t.child];return rR(a)?a[0]:a}function YF(e,t){return(e||t)!==void 0&&e===t}function jb(e,t,a,s=[]){const c=Ns(e,a);return c?s.indexOf(c)!==-1?[]:t.filter(o=>{const f=Ns(o,a)===Ns(e,a);return kf(o,a)===c&&!f}).map(o=>{const f={...o,searchUid:e.searchUid};return{result:f,children:jb(f,t,a,[...s,c])}}):[]}function $F(e,t){return e.find(a=>{const s=kf(a,t)===void 0,c=YF(kf(a,t),Ns(a,t));return s||c})}function Lb(e){return e.parentResult?Lb(e.parentResult):e}function GF(e,t,a,s){const c=$T(e),f={...s??$F(c,t)??Lb(e),searchUid:a};return{result:f,children:jb(f,c,t),moreResultsAvailable:e.totalNumberOfChildResults>1,isLoadingMoreResults:!1}}function Gc(e,t,a,s){const c={};return e.forEach(o=>{const f=HF(o,t);f&&(!Ns(o,t)&&!o.parentResult||(c[f]=GF(o,t,a,s)))}),c}function Bb(e,t){if(!e.collections[t])throw new Error(`Missing collection ${t} from ${Object.keys(e.collections)}: Folding most probably in an invalid state...`);return e.collections[t]}qe(Vb(),e=>e.addCase(Fe.fulfilled,(t,{payload:a})=>{t.collections=t.enabled?Gc(a.response.results,t.fields,a.response.searchUid):{}}).addCase(bs.fulfilled,(t,{payload:a})=>{t.collections=t.enabled?Gc(a.response.results,t.fields,a.response.searchUid):{}}).addCase($a.fulfilled,(t,{payload:a})=>{t.collections=t.enabled?{...t.collections,...Gc(a.response.results,t.fields,a.response.searchUid)}:{}}).addCase(Qb,(t,{payload:a})=>t.enabled?t:{enabled:!0,collections:{},fields:{collection:a.collectionField??t.fields.collection,parent:a.parentField??t.fields.parent,child:a.childField??t.fields.child},filterFieldRange:a.numberOfFoldedResults??t.filterFieldRange}).addCase(Ff.pending,(t,{meta:a})=>{const s=a.arg;Bb(t,s).isLoadingMoreResults=!0}).addCase(Ff.rejected,(t,{meta:a})=>{const s=a.arg;Bb(t,s).isLoadingMoreResults=!1}).addCase(Ff.fulfilled,(t,{payload:{collectionId:a,results:s,rootResult:c,searchUid:o}})=>{const f=Gc(s,t.fields,o,c);if(!f||!f[a])throw new Error(`Unable to create collection ${a} from received results: ${JSON.stringify(s)}. Folding most probably in an invalid state... `);t.collections[a]=f[a],t.collections[a].moreResultsAvailable=!1}));const Qs={id:oe},Hb=I("querySuggest/register",e=>Y(e,{...Qs,count:new ye({min:0})})),KF=I("querySuggest/unregister",e=>Y(e,Qs)),zf=I("querySuggest/selectSuggestion",e=>Y(e,{...Qs,expression:Dt})),Kc=I("querySuggest/clear",e=>Y(e,Qs)),Xc=Ce("querySuggest/fetch",async(e,{getState:t,rejectWithValue:a,extra:{apiClient:s,validatePayload:c,navigatorContext:o}})=>{c(e,Qs);const f=e.id,h=await XF(f,t(),o),g=await s.querySuggest(h);return pn(g)?a(g.error):{id:f,q:h.q,...g.success}}),XF=async(e,t,a)=>({accessToken:t.configuration.accessToken,organizationId:t.configuration.organizationId,url:t.configuration.search.apiBaseUrl??Fn(t.configuration.organizationId,t.configuration.environment),count:t.querySuggest[e].count,q:t.querySet[e],locale:t.configuration.search.locale,timezone:t.configuration.search.timezone,actionsHistory:t.configuration.analytics.enabled?sn.getInstance().getHistory():[],...t.context&&{context:t.context.contextValues},...t.pipeline&&{pipeline:t.pipeline},...t.searchHub&&{searchHub:t.searchHub},tab:t.configuration.analytics.originLevel2,...t.configuration.analytics.enabled&&{...t.configuration.analytics.enabled&&t.configuration.analytics.analyticsMode==="legacy"?await xd(t.configuration.analytics):vc(t.configuration.analytics,a)},...t.configuration.search.authenticationProviders.length&&{authentication:t.configuration.search.authenticationProviders.join(",")}}),ZF=qe(Na(),e=>e.addCase(pc,(t,a)=>({...t,...a.payload})).addCase(Tc,(t,a)=>{t.q=a.payload}).addCase(zf,(t,a)=>{t.q=a.payload.expression}).addCase(ot.fulfilled,(t,a)=>a.payload?.query??t).addCase(It,(t,a)=>{t.q=a.payload.q??t.q,t.enableQuerySyntax=a.payload.enableQuerySyntax??t.enableQuerySyntax})),Nf=I("fields/registerFieldsToInclude",e=>Y(e,ey)),Yb=I("fields/fetchall/enable"),$b=I("fields/fetchall/disable"),Gb=Ce("fields/fetchDescription",async(e,{extra:t,getState:a,rejectWithValue:s})=>{const c=a(),{accessToken:o,environment:f,organizationId:h}=c.configuration,{apiBaseUrl:g}=c.configuration.search,m=await t.apiClient.fieldDescriptions({accessToken:o,organizationId:h,url:g??Fn(h,f)});return pn(m)?s(m.error):m.success.fields}),Kb=["author","language","urihash","objecttype","collection","source","permanentid"];[...Kb];const Xb=qe({fieldsToInclude:Kb,fetchAllFields:!1,fieldsDescription:[]},e=>e.addCase(Nf,(t,a)=>{t.fieldsToInclude=[...new Set(t.fieldsToInclude.concat(a.payload))]}).addCase(Yb,t=>{t.fetchAllFields=!0}).addCase($b,t=>{t.fetchAllFields=!1}).addCase(Gb.fulfilled,(t,{payload:a})=>{t.fieldsDescription=a}).addCase(Qb,(t,{payload:a})=>{const s=Vb().fields;t.fieldsToInclude.push(a.collectionField??s.collection,a.parentField??s.parent,a.childField??s.child)}));function JF(e){PF(e);const t=Fs(e),a=()=>e.state;return{...t,get state(){const s=a();return{hasError:s.search.error!==null,isLoading:s.search.isLoading,hasResults:!!s.search.results.length,firstSearchExecuted:Qd(s)}}}}function PF(e){return e.addReducers({search:Cs}),!0}const WF=new Et({fieldsToInclude:new be({required:!1,each:new re({required:!0,emptyAllowed:!1})})});function ek(e,t){tk(e);const a=Fs(e),s=JF(e),{dispatch:c}=e,o=()=>e.state,f=Lu(e,WF,t?.options,"buildCoreResultList");f.fieldsToInclude&&c(Nf(f.fieldsToInclude));const h=()=>e.state.search.results.length<e.state.search.response.totalCountFiltered;let g=0,m=0;const p=5,v=200;let S=!1;return{...a,get state(){const C=o();return{...s.state,results:C.search.results,moreResultsAvailable:h(),searchResponseId:C.search.searchResponseId}},fetchMoreResults:async()=>{if(e.state.search.isLoading)return;if(!h()){e.logger.info("No more results are available for the result list to fetch.");return}if(Date.now()-g<v){if(m++,m>=p){g=Date.now(),!S&&e.logger.error(`The result list method "fetchMoreResults" execution prevented because it has been triggered consecutively ${p} times, with little delay. Please verify the conditions under which the function is called.`),S=!0;return}}else m=0;S=!1,t?.fetchMoreResultsActionCreator&&(await c(t?.fetchMoreResultsActionCreator()),g=Date.now())}}}function tk(e){return e.addReducers({search:Cs,configuration:Ja,fields:Xb}),!0}function Zb(){return{id:"",isVisible:!0,isEnabled:!0,isLoading:!1,isStreaming:!1,citations:[],liked:!1,disliked:!1,responseFormat:{contentFormat:["text/plain"]},feedbackModalOpen:!1,feedbackSubmitted:!1,fieldsToIncludeInCitations:[],isAnswerGenerated:!1,expanded:!1,cannotAnswer:!1,answerApiQueryParams:void 0,answerId:void 0,answerGenerationMode:"automatic"}}function nk(e){const t=new Set;return e.filter(a=>{const s=!t.has(a.uri);return s&&t.add(a.uri),s})}qe(Zb(),e=>e.addCase(JM,(t,{payload:a})=>{t.isVisible=a}).addCase(WM,(t,{payload:a})=>{t.isEnabled=a}).addCase(i_,(t,{payload:a})=>{t.id=a.id}).addCase(Pd,(t,{payload:a})=>{t.isLoading=!1,t.isStreaming=!0,t.answer||(t.answer=""),t.answer+=a.textDelta,delete t.error}).addCase(Wd,(t,{payload:a})=>{t.isLoading=!1,t.isStreaming=!0,t.citations=nk([...t.citations,...a.citations]),delete t.error}).addCase(tS,(t,{payload:a})=>{t.isLoading=!1,t.isStreaming=!1,t.error={...a,isRetryable:a.code===zm},t.citations=[],delete t.answer}).addCase(e_,t=>{t.liked=!0,t.disliked=!1}).addCase(t_,t=>{t.liked=!1,t.disliked=!0}).addCase(n_,t=>{t.feedbackModalOpen=!0}).addCase(s_,t=>{t.feedbackModalOpen=!1}).addCase(u_,t=>{t.feedbackSubmitted=!0}).addCase(ef,t=>({...Zb(),...t.answerConfigurationId?{answerConfigurationId:t.answerConfigurationId}:{},responseFormat:t.responseFormat,fieldsToIncludeInCitations:t.fieldsToIncludeInCitations,isVisible:t.isVisible,id:t.id})).addCase(Fc,(t,{payload:a})=>{t.isLoading=a}).addCase(tf,(t,{payload:a})=>{t.isStreaming=a}).addCase(nf,(t,{payload:a})=>{t.answerContentFormat=a}).addCase(c_,(t,{payload:a})=>{t.responseFormat=a}).addCase(l_,(t,a)=>{t.fieldsToIncludeInCitations=[...new Set(t.fieldsToIncludeInCitations.concat(a.payload))]}).addCase(nS,(t,{payload:a})=>{t.isAnswerGenerated=a}).addCase(r_,t=>{t.expanded=!0}).addCase(a_,t=>{t.expanded=!1}).addCase(o_,(t,{payload:a})=>{t.answerConfigurationId=a}).addCase(rf,(t,{payload:a})=>{t.cannotAnswer=a}).addCase(rS,(t,{payload:a})=>{t.answerApiQueryParams=a}).addCase(eS,(t,{payload:a})=>{t.answerId=a}).addCase(PM,(t,{payload:a})=>{t.answerGenerationMode=a})),aS.injectEndpoints({endpoints:e=>({post:e.query({query:t=>({url:"/evaluations",method:"POST",body:t})})})});const Jb={f:new se,fExcluded:new se,lf:new se,cf:new se,nf:new se,nfExcluded:new se,mnf:new se,mnfExcluded:new se,df:new se,dfExcluded:new se,sortCriteria:new se,page:new ye({min:0}),perPage:new ye({min:1})},rk=I("commerce/productListingParameters/restore",e=>Y(e,Jb)),ak={q:new re,...Jb},Pb=I("commerce/searchParameters/restore",e=>Y(e,ak));qe(Dc(),e=>{e.addCase(Fe.fulfilled,Qf).addCase(Df.fulfilled,Qf).addCase($c.fulfilled,Qf).addCase(Pb,Wb).addCase(rk,Wb).addCase(ot.fulfilled,(t,a)=>a.payload?.facetOrder??t).addCase(Tb,()=>Dc()).addCase(DF,()=>Dc())});function Qf(e,t){return t.payload.response.facets.map(a=>a.facetId)}function Wb(e,t){return[...Object.keys(t.payload.f??{}),...Object.keys(t.payload.lf??{}),...Object.keys(t.payload.nf??{}),...Object.keys(t.payload.df??{}),...Object.keys(t.payload.cf??{}),...Object.keys(t.payload.mnf??{})]}const e0=e=>({past:[],present:e,future:[]}),ik=e=>{const{past:t,present:a,future:s}=e;if(!a||t.length===0)return e;const c=t[t.length-1];return{past:t.slice(0,t.length-1),present:c,future:[a,...s]}},sk=e=>{const{past:t,present:a,future:s}=e;if(!a||s.length===0)return e;const c=s[0],o=s.slice(1);return{past:[...t,a],present:c,future:o}},uk=e=>{const{action:t,state:a,reducer:s}=e,{past:c,present:o}=a,f=s(o,t);return o?o===f?a:{past:[...c,o].slice(-10),present:f,future:[]}:e0(f)},ck=e=>{const{actionTypes:t,reducer:a}=e,s=e0();return(c=s,o)=>{switch(o.type){case t.undo:return ik(c);case t.redo:return sk(c);case t.snapshot:return uk({state:c,reducer:a,action:o});default:return c}}};var ok=Object.getOwnPropertyNames,lk=Object.getOwnPropertySymbols,dk=Object.prototype.hasOwnProperty;function t0(e,t){return function(s,c,o){return e(s,c,o)&&t(s,c,o)}}function Zc(e){return function(a,s,c){if(!a||!s||typeof a!="object"||typeof s!="object")return e(a,s,c);var o=c.cache,f=o.get(a),h=o.get(s);if(f&&h)return f===s&&h===a;o.set(a,s),o.set(s,a);var g=e(a,s,c);return o.delete(a),o.delete(s),g}}function n0(e){return ok(e).concat(lk(e))}var fk=Object.hasOwn||(function(e,t){return dk.call(e,t)});function ua(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var hk="__v",gk="__o",mk="_owner",r0=Object.getOwnPropertyDescriptor,a0=Object.keys;function yk(e,t,a){var s=e.length;if(t.length!==s)return!1;for(;s-- >0;)if(!a.equals(e[s],t[s],s,s,e,t,a))return!1;return!0}function pk(e,t){return ua(e.getTime(),t.getTime())}function vk(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function Sk(e,t){return e===t}function i0(e,t,a){var s=e.size;if(s!==t.size)return!1;if(!s)return!0;for(var c=new Array(s),o=e.entries(),f,h,g=0;(f=o.next())&&!f.done;){for(var m=t.entries(),p=!1,v=0;(h=m.next())&&!h.done;){if(c[v]){v++;continue}var S=f.value,w=h.value;if(a.equals(S[0],w[0],g,v,e,t,a)&&a.equals(S[1],w[1],S[0],w[0],e,t,a)){p=c[v]=!0;break}v++}if(!p)return!1;g++}return!0}var bk=ua;function wk(e,t,a){var s=a0(e),c=s.length;if(a0(t).length!==c)return!1;for(;c-- >0;)if(!u0(e,t,a,s[c]))return!1;return!0}function Vs(e,t,a){var s=n0(e),c=s.length;if(n0(t).length!==c)return!1;for(var o,f,h;c-- >0;)if(o=s[c],!u0(e,t,a,o)||(f=r0(e,o),h=r0(t,o),(f||h)&&(!f||!h||f.configurable!==h.configurable||f.enumerable!==h.enumerable||f.writable!==h.writable)))return!1;return!0}function Ck(e,t){return ua(e.valueOf(),t.valueOf())}function Ak(e,t){return e.source===t.source&&e.flags===t.flags}function s0(e,t,a){var s=e.size;if(s!==t.size)return!1;if(!s)return!0;for(var c=new Array(s),o=e.values(),f,h;(f=o.next())&&!f.done;){for(var g=t.values(),m=!1,p=0;(h=g.next())&&!h.done;){if(!c[p]&&a.equals(f.value,h.value,f.value,h.value,e,t,a)){m=c[p]=!0;break}p++}if(!m)return!1}return!0}function Rk(e,t){var a=e.length;if(t.length!==a)return!1;for(;a-- >0;)if(e[a]!==t[a])return!1;return!0}function Ok(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function u0(e,t,a,s){return(s===mk||s===gk||s===hk)&&(e.$$typeof||t.$$typeof)?!0:fk(t,s)&&a.equals(e[s],t[s],s,s,e,t,a)}var qk="[object Arguments]",Ek="[object Boolean]",Tk="[object Date]",Dk="[object Error]",xk="[object Map]",Mk="[object Number]",_k="[object Object]",Uk="[object RegExp]",Ik="[object Set]",Fk="[object String]",kk="[object URL]",zk=Array.isArray,c0=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,o0=Object.assign,Nk=Object.prototype.toString.call.bind(Object.prototype.toString);function Qk(e){var t=e.areArraysEqual,a=e.areDatesEqual,s=e.areErrorsEqual,c=e.areFunctionsEqual,o=e.areMapsEqual,f=e.areNumbersEqual,h=e.areObjectsEqual,g=e.arePrimitiveWrappersEqual,m=e.areRegExpsEqual,p=e.areSetsEqual,v=e.areTypedArraysEqual,S=e.areUrlsEqual;return function(C,A,O){if(C===A)return!0;if(C==null||A==null)return!1;var q=typeof C;if(q!==typeof A)return!1;if(q!=="object")return q==="number"?f(C,A,O):q==="function"?c(C,A,O):!1;var M=C.constructor;if(M!==A.constructor)return!1;if(M===Object)return h(C,A,O);if(zk(C))return t(C,A,O);if(c0!=null&&c0(C))return v(C,A,O);if(M===Date)return a(C,A,O);if(M===RegExp)return m(C,A,O);if(M===Map)return o(C,A,O);if(M===Set)return p(C,A,O);var R=Nk(C);return R===Tk?a(C,A,O):R===Uk?m(C,A,O):R===xk?o(C,A,O):R===Ik?p(C,A,O):R===_k?typeof C.then!="function"&&typeof A.then!="function"&&h(C,A,O):R===kk?S(C,A,O):R===Dk?s(C,A,O):R===qk?h(C,A,O):R===Ek||R===Mk||R===Fk?g(C,A,O):!1}}function Vk(e){var t=e.circular,a=e.createCustomConfig,s=e.strict,c={areArraysEqual:s?Vs:yk,areDatesEqual:pk,areErrorsEqual:vk,areFunctionsEqual:Sk,areMapsEqual:s?t0(i0,Vs):i0,areNumbersEqual:bk,areObjectsEqual:s?Vs:wk,arePrimitiveWrappersEqual:Ck,areRegExpsEqual:Ak,areSetsEqual:s?t0(s0,Vs):s0,areTypedArraysEqual:s?Vs:Rk,areUrlsEqual:Ok};if(a&&(c=o0({},c,a(c))),t){var o=Zc(c.areArraysEqual),f=Zc(c.areMapsEqual),h=Zc(c.areObjectsEqual),g=Zc(c.areSetsEqual);c=o0({},c,{areArraysEqual:o,areMapsEqual:f,areObjectsEqual:h,areSetsEqual:g})}return c}function jk(e){return function(t,a,s,c,o,f,h){return e(t,a,h)}}function Lk(e){var t=e.circular,a=e.comparator,s=e.createState,c=e.equals,o=e.strict;if(s)return function(g,m){var p=s(),v=p.cache,S=v===void 0?t?new WeakMap:void 0:v,w=p.meta;return a(g,m,{cache:S,equals:c,meta:w,strict:o})};if(t)return function(g,m){return a(g,m,{cache:new WeakMap,equals:c,meta:void 0,strict:o})};var f={cache:void 0,equals:c,meta:void 0,strict:o};return function(g,m){return a(g,m,f)}}Hn(),Hn({strict:!0}),Hn({circular:!0}),Hn({circular:!0,strict:!0}),Hn({createInternalComparator:function(){return ua}}),Hn({strict:!0,createInternalComparator:function(){return ua}}),Hn({circular:!0,createInternalComparator:function(){return ua}}),Hn({circular:!0,createInternalComparator:function(){return ua},strict:!0});function Hn(e){e===void 0&&(e={});var t=e.circular,a=t===void 0?!1:t,s=e.createInternalComparator,c=e.createState,o=e.strict,f=o===void 0?!1:o,h=Vk(e),g=Qk(h),m=s?s(g):jk(g);return Lk({circular:a,comparator:g,createState:c,equals:m,strict:f})}function Bk(e,t,a=(s,c)=>s===c){return e.length===t.length&&e.findIndex((s,c)=>!a(t[c],s))===-1}function Hk(e,t){return e.length!==t.length?!1:e.every(a=>t.findIndex(s=>Yk(a,s))!==-1)}const Yk=Hn({createCustomConfig:e=>({...e,areArraysEqual:Hk})}),$k=qe(Sx(),e=>{e.addCase(Tn,(t,a)=>Gk(t,a.payload)?void 0:a.payload)}),Gk=(e,t)=>Kk(e.context,t.context)&&Xk(e.dictionaryFieldContext,t.dictionaryFieldContext)&&nz(e.advancedSearchQueries,t.advancedSearchQueries)&&Zk(e.tabSet,t.tabSet)&&Jk(e.staticFilterSet,t.staticFilterSet)&&Vf(e.facetSet,t.facetSet)&&Vf(e.dateFacetSet,t.dateFacetSet)&&Vf(e.numericFacetSet,t.numericFacetSet)&&Wk(e.automaticFacetSet,t.automaticFacetSet)&&Pk(e.categoryFacetSet,t.categoryFacetSet)&&ez(e.pagination,t.pagination)&&tz(e.query,t.query)&&rz(e,t)&&az(e.pipeline,t.pipeline)&&iz(e.searchHub,t.searchHub)&&sz(e.facetOrder,t.facetOrder)&&uz(e.debug,t.debug),Kk=(e,t)=>JSON.stringify(e.contextValues)===JSON.stringify(t.contextValues),Xk=(e,t)=>JSON.stringify(e.contextValues)===JSON.stringify(t.contextValues),Zk=(e,t)=>{const a=l0(e),s=l0(t);return a?.id===s?.id},l0=e=>Object.values(e).find(t=>t.isActive),Jk=(e,t)=>{for(const[a,s]of Object.entries(t)){if(!e[a])return!1;const c=d0(e[a]),o=d0(s);if(JSON.stringify(c)!==JSON.stringify(o))return!1}return!0},d0=e=>e.values.filter(t=>t.state!=="idle"),Vf=(e,t)=>{for(const[a,s]of Object.entries(t)){if(!e[a])return!1;const c=e[a].request.currentValues.filter(f=>f.state!=="idle"),o=s.request.currentValues.filter(f=>f.state!=="idle");if(JSON.stringify(c)!==JSON.stringify(o))return!1}return!0},Pk=(e,t)=>{for(const[a,s]of Object.entries(t)){if(!e[a])return!1;const c=us(e[a]?.request.currentValues).map(({value:f})=>f),o=us(s?.request.currentValues).map(({value:f})=>f);if(JSON.stringify(c)!==JSON.stringify(o))return!1}return!0},Wk=(e,t)=>{for(const[a,s]of Object.entries(t.set)){if(!e.set[a])return!1;const c=e.set[a].response.values.filter(f=>f.state!=="idle"),o=s.response.values.filter(f=>f.state!=="idle");if(JSON.stringify(c)!==JSON.stringify(o))return!1}return!0},ez=(e,t)=>e.firstResult===t.firstResult&&e.numberOfResults===t.numberOfResults,tz=(e,t)=>JSON.stringify(e)===JSON.stringify(t),nz=(e,t)=>JSON.stringify(e)===JSON.stringify(t),rz=(e,t)=>e.sortCriteria===t.sortCriteria,az=(e,t)=>e===t,iz=(e,t)=>e===t,sz=(e,t)=>Bk(e,t),uz=(e,t)=>e===t;ck({actionTypes:{redo:Dp.type,undo:Tp.type,snapshot:Tn.type},reducer:$k});const cz={results:new be({required:!0,each:new se({values:Rd})}),maxLength:new ye({required:!0,min:1,default:10})},oz=I("recentResults/registerRecentResults",e=>Y(e,cz)),lz=I("recentResults/pushRecentResult",e=>(rD(e),{payload:e})),dz=I("recentResults/clearRecentResults");function f0(e){return e?e.expiresAt&&Date.now()>=e.expiresAt:!1}const fz=(e,t)=>{const{id:a}=e;if(!t[a])return t[a]={q:"",cache:{}},t},hz=(e,t)=>{const{q:a,id:s}=e;a&&(t[s].q=a)},gz=(e,t)=>{const{id:a}=e;Object.entries(t[a].cache).forEach(([s,c])=>{f0(c)&&delete t[a].cache[s]})},mz=(e,t,a)=>{for(const c in t)for(const o in t[c].cache)t[c].cache[o].isActive=!1;if(!jf(e,t)){vz(e,t,a);return}const s=jf(e,t);s.isLoading=!0,s.isActive=!0,s.error=null},yz=(e,t,a)=>{const{id:s,q:c,searchUid:o,cacheTimeout:f,totalCountFiltered:h,duration:g}=e;t[s].cache[c]={...jf(e,t),...a,isActive:!0,searchUid:o,isLoading:!1,error:null,expiresAt:f?f+Date.now():0,totalCountFiltered:h,duration:g}},pz=(e,t)=>{const{id:a,q:s,error:c}=e;t[a].cache[s].error=c||null,t[a].cache[s].isLoading=!1,t[a].cache[s].isActive=!1},jf=(e,t)=>{const{q:a,id:s}=e;return t[s].cache[a]||null},vz=(e,t,a)=>{const{q:s,id:c}=e;t[c].cache[s]={isLoading:!0,error:null,expiresAt:0,isActive:!0,searchUid:"",totalCountFiltered:0,duration:0,...a}};function Sz(){return{}}const bz=qe(Sz(),e=>{e.addCase(_p,(t,a)=>{fz(a.payload,t)}),e.addCase(mc,(t,a)=>{hz(a.payload,t)}),e.addCase(Up,(t,a)=>{gz(a.payload,t)}),e.addCase(xc.pending,(t,a)=>{mz(a.meta.arg,t,{results:[]})}),e.addCase(xc.fulfilled,(t,a)=>{const s=a.payload.results.map(c=>({...c,searchUid:a.payload.searchUid}));yz({...a.payload,...a.meta.arg},t,{results:s})}),e.addCase(xc.rejected,(t,a)=>{pz(a.meta.arg,t)})}),wz={searchBoxId:mt,maxResultsPerQuery:new ye({required:!0,min:1}),cacheTimeout:new ye},Cz=new Et(wz);function Az(e,t){Rz(e);const a=Fs(e),{dispatch:s}=e,c=()=>e.state,o={searchBoxId:t.options.searchBoxId||Mm("instant-results-"),cacheTimeout:t.options.cacheTimeout||6e4,maxResultsPerQuery:t.options.maxResultsPerQuery};Lu(e,Cz,o,"buildInstantResults");const f=o.searchBoxId;s(_p({id:f}));const h=()=>c().instantResults[f],g=v=>h().cache[v],m=()=>h().q,p=()=>{const v=g(m());return v?v.isLoading?[]:v.results:[]};return{...a,updateQuery(v){if(!v)return;const S=g(v);(!S||!S.isLoading&&(S.error||f0(S)))&&s(xc({id:f,q:v,maxResultsPerQuery:o.maxResultsPerQuery,cacheTimeout:o.cacheTimeout})),s(mc({id:f,q:v}))},clearExpired(){s(Up({id:f}))},get state(){const v=m(),S=g(v);return{q:v,isLoading:S?.isLoading||!1,error:S?.error||null,results:p()}}}}function Rz(e){return e.addReducers({instantResults:bz}),!0}qe(Fd(),e=>{e.addCase(CD,(t,a)=>{const s=Lf(t),c=a.payload;t.defaultNumberOfResults=t.numberOfResults=c,t.firstResult=js(s,c)}).addCase(AD,(t,a)=>{t.numberOfResults=a.payload,t.firstResult=0}).addCase(af,t=>{t.firstResult=0}).addCase(RD,(t,a)=>{const s=a.payload;t.firstResult=js(s,t.numberOfResults)}).addCase(Ip,(t,a)=>{const s=a.payload;t.firstResult=js(s,t.numberOfResults)}).addCase(qD,t=>{const a=Lf(t),s=Math.max(a-1,Rx);t.firstResult=js(s,t.numberOfResults)}).addCase(OD,t=>{const a=Lf(t),s=Oz(t),c=Math.min(a+1,s);t.firstResult=js(c,t.numberOfResults)}).addCase(ot.fulfilled,(t,a)=>{a.payload&&(t.numberOfResults=a.payload.pagination.numberOfResults,t.firstResult=a.payload.pagination.firstResult)}).addCase(It,(t,a)=>{t.firstResult=a.payload.firstResult??t.firstResult,t.numberOfResults=a.payload.numberOfResults??t.defaultNumberOfResults}).addCase(Fe.fulfilled,(t,a)=>{const{response:s}=a.payload;t.totalCountFiltered=s.totalCountFiltered}).addCase(Bn,t=>{Ut(t)}).addCase(Sf,t=>{Ut(t)}).addCase(mf,t=>{Ut(t)}).addCase(wf,t=>{Ut(t)}).addCase(Qc,t=>{Ut(t)}).addCase(gf,t=>{Ut(t)}).addCase(AS,t=>{Ut(t)}).addCase(CS,t=>{Ut(t)}).addCase(OS,t=>{Ut(t)}).addCase(vf,t=>{Ut(t)}).addCase(bf,t=>{Ut(t)}).addCase(hr,t=>{Ut(t)}).addCase(PS,t=>{Ut(t)}).addCase(ob,t=>{Ut(t)}).addCase(Nc,t=>{Ut(t)}).addCase(SS,t=>{Ut(t)})});function Ut(e){e.firstResult=Fd().firstResult}function Lf(e){const{firstResult:t,numberOfResults:a}=e;return qz(t,a)}function Oz(e){const{totalCountFiltered:t,numberOfResults:a}=e;return Ez(t,a)}function js(e,t){return(e-1)*t}function qz(e,t){return Math.round(e/t)+1}function Ez(e,t){const a=Math.min(e,ps);return Math.ceil(a/t)}async function Tz(e,t){const{search:a,accessToken:s,organizationId:c}=e.configuration,o=e.query?.q||"";return{url:a.apiBaseUrl??Fn(e.configuration.organizationId,e.configuration.environment),accessToken:s,organizationId:c,enableNavigation:!1,q:o,...t,requestedOutputSize:t.requestedOutputSize||0,...a.authenticationProviders.length&&{authentication:a.authenticationProviders.join(",")}}}const h0=Ce("resultPreview/fetchResultContent",async(e,{extra:t,getState:a,rejectWithValue:s})=>{const c=a(),o=await Tz(c,e),f=await t.apiClient.html(o);return pn(f)?s(f.error):{content:f.success,uniqueId:e.uniqueId}}),Dz=I("resultPreview/next"),xz=I("resultPreview/previous"),Mz=I("resultPreview/prepare",e=>Y(e,{results:new be({required:!0})})),g0=2048,_z=Ce("resultPreview/updateContentURL",async(e,{getState:t,extra:a})=>{const s=t(),c=XR(await e.buildResultPreviewRequest(s,{uniqueId:e.uniqueId,requestedOutputSize:e.requestedOutputSize}),e.path);return c?.length>g0&&a.logger.error(`The content URL was truncated as it exceeds the maximum allowed length of ${g0} characters.`),{contentURL:c}});function m0(){return{uniqueId:"",content:"",isLoading:!1,position:-1,resultsWithPreview:[]}}const Bf=e=>{const{content:t,isLoading:a,uniqueId:s,contentURL:c}=m0();e.content=t,e.isLoading=a,e.uniqueId=s,e.contentURL=c},Hf=e=>e.filter(t=>t.hasHtmlVersion).map(t=>t.uniqueId);qe(m0(),e=>{e.addCase(h0.pending,t=>{t.isLoading=!0}).addCase(h0.fulfilled,(t,a)=>{const{content:s,uniqueId:c}=a.payload;t.position=t.resultsWithPreview.indexOf(c),t.content=s,t.uniqueId=c,t.isLoading=!1}).addCase(Fe.fulfilled,(t,a)=>{Bf(t),t.resultsWithPreview=Hf(a.payload.response.results)}).addCase($a.fulfilled,(t,a)=>{Bf(t),t.resultsWithPreview=t.resultsWithPreview.concat(Hf(a.payload.response.results))}).addCase(bs.fulfilled,Bf).addCase(Mz,(t,a)=>{t.resultsWithPreview=Hf(a.payload.results)}).addCase(Dz,t=>{if(t.isLoading)return;let a=t.position+1;a>t.resultsWithPreview.length-1&&(a=0),t.position=a}).addCase(xz,t=>{if(t.isLoading)return;let a=t.position-1;a<0&&(a=t.resultsWithPreview.length-1),t.position=a}).addCase(_z.fulfilled,(t,a)=>{t.contentURL=a.payload.contentURL})});const Uz={queries:new be({required:!0,each:new re({emptyAllowed:!1})}),maxLength:new ye({required:!0,min:1,default:10})},Iz=I("recentQueries/registerRecentQueries",e=>Y(e,Uz)),Fz=I("recentQueries/clearRecentQueries");function kz(){return{queries:[],maxLength:10}}qe(kz(),e=>{e.addCase(Iz,zz).addCase(Fz,Nz).addCase(Fe.fulfilled,(t,a)=>{const s=a.payload.queryExecuted,c=a.payload.response.results;!s.length||!c.length||Qz(s,t)})});function zz(e,t){e.queries=Array.from(new Set(t.payload.queries.map(a=>a.trim().toLowerCase()))).slice(0,t.payload.maxLength),e.maxLength=t.payload.maxLength}function Nz(e){e.queries=[]}function Qz(e,t){const a=e.trim().toLowerCase();if(a==="")return;const s=Array.from(new Set(t.queries.filter(c=>c.trim().toLowerCase()!==a))).slice(0,t.maxLength-1);t.queries=[a,...s]}function Vz(){return{results:[],maxLength:10}}qe(Vz(),e=>{e.addCase(oz,(t,a)=>{t.results=a.payload.results.slice(0,a.payload.maxLength),t.maxLength=a.payload.maxLength}).addCase(dz,t=>{t.results=[]}).addCase(lz,(t,a)=>{const s=a.payload;t.results=t.results.filter(o=>o.uniqueId!==s.uniqueId);const c=t.results.slice(0,t.maxLength-1);t.results=[s,...c]})});function jz(e,t){return ek(e,{...t,fetchMoreResultsActionCreator:$a})}const y0=()=>nt("analytics/searchbox/submit",e=>e.makeSearchboxSubmit()),Lz=()=>({actionCause:Mt.searchboxSubmit}),Jc={id:oe,query:Dt},p0=I("querySet/register",e=>Y(e,Jc)),Yf=I("querySet/update",e=>Y(e,Jc)),Bz=I("commerce/querySet/register",e=>Y(e,Jc)),Hz=I("commerce/querySet/update",e=>Y(e,Jc)),Yz=qe(fv(),e=>{e.addCase(p0,(t,a)=>S0(t,a.payload)).addCase(Bz,(t,a)=>S0(t,a.payload)).addCase(Yf,(t,a)=>{const{id:s,query:c}=a.payload;Ls(t,s,c)}).addCase(Hz,(t,a)=>{const{id:s,query:c}=a.payload;Ls(t,s,c)}).addCase(zf,(t,a)=>{const{id:s,expression:c}=a.payload;Ls(t,s,c)}).addCase(eF,(t,a)=>{const{id:s,expression:c}=a.payload;Ls(t,s,c)}).addCase($c.fulfilled,(t,a)=>{const{queryExecuted:s}=a.payload;$f(t,s)}).addCase(Fe.fulfilled,(t,a)=>{const{queryExecuted:s}=a.payload;$f(t,s)}).addCase(It,v0).addCase(Pb,v0).addCase(ot.fulfilled,(t,a)=>{if(a.payload)for(const[s,c]of Object.entries(a.payload.querySet))Ls(t,s,c)})});function v0(e,t){Ae(t.payload.q)||$f(e,t.payload.q)}function $f(e,t){Object.keys(e).forEach(a=>{e[a]=t})}const Ls=(e,t,a)=>{t in e&&(e[t]=a)},S0=(e,t)=>{const{id:a,query:s}=t;a in e||(e[a]=s)},$z=e=>nt("analytics/querySuggest",(t,a)=>{const s=Kz(a,e);return t.makeOmniboxAnalytics(s)}),Gz=()=>({actionCause:Mt.omniboxAnalytics});function Kz(e,t){const{id:a,suggestion:s}=t,c=e.querySuggest?.[a];if(!c)throw new Error(`Unable to determine the query suggest analytics metadata to send because no query suggest with id "${a}" was found. Please check the sent #id.`);const o=c.completions.map(m=>m.expression),f=c.partialQueries.length-1,h=c.partialQueries[f]||"",g=c.responseId;return{suggestionRanking:o.indexOf(s),partialQuery:h,partialQueries:c.partialQueries,suggestions:o,querySuggestResponseId:g}}const Xz=qe({},e=>e.addCase(Hb,(t,a)=>{b0(t,a.payload)}).addCase(WI,(t,a)=>{b0(t,a.payload)}).addCase(KF,(t,a)=>{delete t[a.payload.id]}).addCase(Xc.pending,w0).addCase(Xc.fulfilled,(t,a)=>{const s=t[a.meta.arg.id];if(!s||a.meta.requestId!==s.currentRequestId)return;const{q:c}=a.payload;c&&s.partialQueries.push(c.replace(/;/,encodeURIComponent(";"))),s.responseId=a.payload.responseId,s.completions=a.payload.completions,s.isLoading=!1,s.error=null}).addCase(Xc.rejected,C0).addCase(zs.pending,w0).addCase(zs.fulfilled,(t,a)=>{const s=t[a.meta.arg.id];if(!s||a.meta.requestId!==s.currentRequestId)return;const{query:c}=a.payload;c&&s.partialQueries.push(c.replace(/;/,encodeURIComponent(";"))),s.responseId=a.payload.responseId,s.completions=a.payload.completions.map(o=>({expression:o.expression,highlighted:o.highlighted,score:0,executableConfidence:0})),s.isLoading=!1,s.error=null}).addCase(zs.rejected,C0).addCase(Kc,(t,a)=>{A0(t,a.payload)}).addCase(PI,(t,a)=>{A0(t,a.payload)}).addCase(Vd,(t,a)=>{Object.keys(t).forEach(s=>{const c=t[s];c&&(c.error=a.payload,c.isLoading=!1)})}));function b0(e,t){const a=t.id;a in e||(e[a]=Zz(t))}function Zz(e){return{id:"",completions:[],responseId:"",count:5,currentRequestId:"",error:null,partialQueries:[],isLoading:!1,...e}}function w0(e,t){const a=e[t.meta.arg.id];a&&(a.currentRequestId=t.meta.requestId,a.isLoading=!0)}function C0(e,t){const a=e[t.meta.arg.id];a&&(a.error=t.payload||null,a.isLoading=!1)}function A0(e,t){const a=e[t.id];a&&(a.responseId="",a.completions=[],a.partialQueries=[])}const Jz={enableQuerySyntax:!1,numberOfSuggestions:5,clearFilters:!0},Gf={open:new re,close:new re},R0={id:oe,numberOfSuggestions:new ye({min:0}),enableQuerySyntax:new Ee,highlightOptions:new se({values:{notMatchDelimiters:new se({values:Gf}),exactMatchDelimiters:new se({values:Gf}),correctionDelimiters:new se({values:Gf})}}),clearFilters:new Ee},Pz=new Et(R0);function Wz(e,t){t3(e);const a=Fs(e),{dispatch:s}=e,c=()=>e.state,o=t.options?.id||Mm("search_box"),f={id:o,highlightOptions:{...t.options?.highlightOptions},...Jz,...t.options};Lu(e,Pz,f,"buildSearchBox"),s(p0({id:o,query:e.state.query.q})),f.numberOfSuggestions&&s(Hb({id:o,count:f.numberOfSuggestions}));const h=()=>e.state.querySet[f.id],g=async m=>{const{enableQuerySyntax:p,clearFilters:v}=f;s(Vx({q:h(),enableQuerySyntax:p,clearFilters:v})),t.isNextAnalyticsReady?s(t.executeSearchActionCreator(m)):s(t.executeSearchActionCreator(m.legacy))};return{...a,updateText(m){s(Yf({id:o,query:m})),this.showSuggestions()},clear(){s(Yf({id:o,query:""})),s(Kc({id:o}))},showSuggestions(){f.numberOfSuggestions&&s(t.fetchQuerySuggestionsActionCreator({id:o}))},selectSuggestion(m){s(zf({id:o,expression:m})),g({legacy:$z({id:o,suggestion:m}),next:Gz()}).then(()=>{s(Kc({id:o}))})},submit(m=y0(),p){g({legacy:m,next:p}),s(Kc({id:o}))},get state(){const m=c(),p=m.querySuggest[f.id],v=e3(p,f.highlightOptions),S=p?p.isLoading:!1;return{searchBoxId:o,value:h(),suggestions:v,isLoading:m.search.isLoading,isLoadingSuggestions:S}}}}function e3(e,t){return e?e.completions.map(a=>({highlightedValue:hR(a.highlighted,t),rawValue:a.expression})):[]}function t3(e){return e.addReducers({query:ZF,querySuggest:Xz,configuration:Ja,querySet:Yz,search:Cs}),!0}function n3(e,t={}){const a=Wz(e,{...t,executeSearchActionCreator:Fe,fetchQuerySuggestionsActionCreator:Xc,isNextAnalyticsReady:!0});return{...a,submit(){a.submit(y0(),Lz())},get state(){return a.state}}}new Et({parameters:new se({options:{required:!0},values:Op})});const r3=()=>new se({values:{questionAnswerId:oe},options:{required:!0}});function O0(e){return Y(e,r3())}const a3=I("smartSnippet/expand"),i3=I("smartSnippet/collapse"),s3=I("smartSnippet/like"),u3=I("smartSnippet/dislike"),c3=I("smartSnippet/feedbackModal/open"),o3=I("smartSnippet/feedbackModal/close"),l3=I("smartSnippet/related/expand",e=>O0(e)),d3=I("smartSnippet/related/collapse",e=>O0(e)),q0=()=>({liked:!1,disliked:!1,expanded:!1,feedbackModalOpen:!1,relatedQuestions:[]}),E0=(e,t)=>e.findIndex(a=>a.questionAnswerId===t.questionAnswerId);function T0({question:e,answerSnippet:t,documentId:{contentIdKey:a,contentIdValue:s}}){return uR({question:e,answerSnippet:t,contentIdKey:a,contentIdValue:s})}function f3(e,t){const a=T0(e);return t&&a===t.questionAnswerId?t:{contentIdKey:e.documentId.contentIdKey,contentIdValue:e.documentId.contentIdValue,expanded:!1,questionAnswerId:a}}qe(q0(),e=>e.addCase(a3,t=>{t.expanded=!0}).addCase(i3,t=>{t.expanded=!1}).addCase(s3,t=>{t.liked=!0,t.disliked=!1,t.feedbackModalOpen=!1}).addCase(u3,t=>{t.liked=!1,t.disliked=!0}).addCase(c3,t=>{t.feedbackModalOpen=!0}).addCase(o3,t=>{t.feedbackModalOpen=!1}).addCase(Fe.fulfilled,(t,a)=>{const s=a.payload.response.questionAnswer.relatedQuestions.map((o,f)=>f3(o,t.relatedQuestions[f])),c=T0(a.payload.response.questionAnswer);return t.questionAnswerId===c?{...t,relatedQuestions:s}:{...q0(),relatedQuestions:s,questionAnswerId:c}}).addCase(l3,(t,a)=>{const s=E0(t.relatedQuestions,a.payload);s!==-1&&(t.relatedQuestions[s].expanded=!0)}).addCase(d3,(t,a)=>{const s=E0(t.relatedQuestions,a.payload);s!==-1&&(t.relatedQuestions[s].expanded=!1)}));const D0={by:new Ki({enum:En,required:!0})},h3=I("sortCriteria/register",e=>x0(e)),g3=I("sortCriteria/update",e=>x0(e)),x0=e=>xm(e)?(e.forEach(t=>Y(t,D0)),{payload:e}):Y(e,D0);qe(wd(),e=>{e.addCase(h3,(t,a)=>fc(a.payload)).addCase(g3,(t,a)=>fc(a.payload)).addCase(ot.fulfilled,(t,a)=>a.payload?.sortCriteria??t).addCase(It,(t,a)=>a.payload.sortCriteria??t)});function m3(e){return e.type==="redirect"}class y3{response;constructor(t){this.response=t}get basicExpression(){return this.response.parsedInput.basicExpression}get largeExpression(){return this.response.parsedInput.largeExpression}get redirectionUrl(){const t=this.response.preprocessingOutput.triggers.filter(m3);return t.length?t[0].content:null}}const p3=I("standaloneSearchBox/register",e=>Y(e,{id:oe,redirectionUrl:oe,overwrite:new Ee({required:!1})})),v3=I("standaloneSearchBox/updateRedirectionUrl",e=>Y(e,{id:oe,redirectionUrl:oe})),S3=I("standaloneSearchBox/reset",e=>Y(e,{id:oe})),b3=I("standaloneSearchBox/updateAnalyticsToSearchFromLink",e=>Y(e,{id:oe})),w3=I("standaloneSearchBox/updateAnalyticsToOmniboxFromLink"),Kf=Ce("standaloneSearchBox/fetchRedirect",async(e,{dispatch:t,getState:a,rejectWithValue:s,extra:{apiClient:c,validatePayload:o,navigatorContext:f}})=>{o(e,{id:new re({emptyAllowed:!1})});const h=await A3(a(),f),g=await c.plan(h);if(pn(g))return s(g.error);const{redirectionUrl:m}=new y3(g.success);return m&&t(C3(m)),m||""}),C3=e=>nt("analytics/standaloneSearchBox/redirect",t=>t.makeTriggerRedirect({redirectedTo:e})),A3=async(e,t)=>({accessToken:e.configuration.accessToken,organizationId:e.configuration.organizationId,url:e.configuration.search.apiBaseUrl??Fn(e.configuration.organizationId,e.configuration.environment),locale:e.configuration.search.locale,timezone:e.configuration.search.timezone,q:e.query.q,...e.context&&{context:e.context.contextValues},...e.pipeline&&{pipeline:e.pipeline},...e.searchHub&&{searchHub:e.searchHub},...e.configuration.analytics.enabled&&e.configuration.analytics.analyticsMode==="legacy"?await xd(e.configuration.analytics):vc(e.configuration.analytics,t),...e.configuration.search.authenticationProviders.length&&{authentication:e.configuration.search.authenticationProviders.join(",")}});function R3(){return{}}qe(R3(),e=>e.addCase(p3,(t,a)=>{const{id:s,redirectionUrl:c,overwrite:o}=a.payload;!o&&s in t||(t[s]=Xf(c))}).addCase(S3,(t,a)=>{const{id:s}=a.payload,c=t[s];if(c){t[s]=Xf(c.defaultRedirectionUrl);return}}).addCase(v3,(t,a)=>{const{id:s,redirectionUrl:c}=a.payload;s in t&&(t[s]=Xf(c))}).addCase(Kf.pending,(t,a)=>{const s=t[a.meta.arg.id];s&&(s.isLoading=!0)}).addCase(Kf.fulfilled,(t,a)=>{const s=a.payload,c=t[a.meta.arg.id];c&&(c.redirectTo=s||c.defaultRedirectionUrl,c.isLoading=!1)}).addCase(Kf.rejected,(t,a)=>{const s=t[a.meta.arg.id];s&&(s.isLoading=!1)}).addCase(b3,(t,a)=>{const s=t[a.payload.id];s&&(s.analytics.cause="searchFromLink")}).addCase(w3,(t,a)=>{const s=t[a.payload.id];s&&(s.analytics.cause="omniboxFromLink",s.analytics.metadata=a.payload.metadata)}));function Xf(e){return{defaultRedirectionUrl:e,redirectTo:"",isLoading:!1,analytics:{cause:"",metadata:null}}}new Et({...R0,redirectionUrl:new re({required:!0,emptyAllowed:!1}),overwrite:new Ee({required:!1})}),qe(hv(),e=>e.addCase(yI,(t,a)=>{const s=a.payload,{id:c}=s;c in t||(t[c]=s)}).addCase(pI,(t,a)=>{const{id:s,value:c}=a.payload,o=t[s];if(!o)return;const f=o.values.find(g=>g.caption===c.caption);if(!f)return;const h=f.state==="selected";f.state=h?"idle":"selected"}).addCase(vI,(t,a)=>{const{id:s,value:c}=a.payload,o=t[s];if(!o)return;const f=o.values.find(g=>g.caption===c.caption);if(!f)return;const h=f.state==="excluded";f.state=h?"idle":"excluded"}).addCase(SI,(t,a)=>{const s=a.payload,c=t[s];c&&c.values.forEach(o=>{o.state="idle"})}).addCase(hr,t=>{Object.values(t).forEach(a=>{a.values.forEach(s=>{s.state="idle"})})}).addCase(It,(t,a)=>{const s=a.payload.sf||{};Object.entries(t).forEach(([c,o])=>{const f=s[c]||[];o.values.forEach(h=>{h.state=f.includes(h.caption)?"selected":"idle"})})}));function O3(e){return e.query="",e.queryModification={originalQuery:"",newQuery:"",queryToIgnore:e.queryModification.queryToIgnore},e}function q3(e,t){const a=[],s=[],c=[],o=[];return t.forEach(f=>{switch(f.type){case"redirect":a.push(f.content);break;case"query":s.push(f.content);break;case"execute":c.push({functionName:f.content.name,params:f.content.params});break;case"notify":o.push(f.content);break}}),e.redirectTo=a[0]??"",e.query=e.queryModification.newQuery,e.executions=c,e.notifications=o,e}function E3(e,t){return e.queryModification={...t,queryToIgnore:""},e}function T3(e,t){return e.queryModification.queryToIgnore=t,e}qe({redirectTo:"",query:"",executions:[],notifications:[],queryModification:{originalQuery:"",newQuery:"",queryToIgnore:""}},e=>e.addCase(Fe.pending,O3).addCase(Fe.fulfilled,(t,a)=>q3(t,a.payload.response.triggers)).addCase(zd,(t,a)=>E3(t,a.payload)).addCase(kd,(t,a)=>T3(t,a.payload))),new Et({fragment:new re}),Ce("analytics/addPageViewEntry",async(e,{getState:t})=>{t().configuration.analytics.enabled&&sn.getInstance().addElement({name:"PageView",value:e,time:JSON.stringify(new Date)})});const vr=()=>new re({required:!1,emptyAllowed:!0}),M0=I("advancedSearchQueries/update",e=>Y(e,{aq:vr(),cq:vr(),lq:vr(),dq:vr()})),_0=I("advancedSearchQueries/register",e=>Y(e,{aq:vr(),cq:vr(),lq:vr(),dq:vr()})),D3=qe(fs(),e=>{e.addCase(M0,(t,a)=>{const{aq:s,cq:c,lq:o,dq:f}=a.payload;Tt(s)||(t.aq=s,t.aqWasSet=!0),Tt(c)||(t.cq=c,t.cqWasSet=!0),Tt(o)||(t.lq=o,t.lqWasSet=!0),Tt(f)||(t.dq=f,t.dqWasSet=!0)}).addCase(_0,(t,a)=>{const{aq:s,cq:c,lq:o,dq:f}=a.payload;Tt(s)||(t.defaultFilters.aq=s,t.aqWasSet||(t.aq=s)),Tt(c)||(t.defaultFilters.cq=c,t.cqWasSet||(t.cq=c)),Tt(o)||(t.defaultFilters.lq=o,t.lqWasSet||(t.lq=o)),Tt(f)||(t.defaultFilters.dq=f,t.dqWasSet||(t.dq=f))}).addCase(ot.fulfilled,(t,a)=>a.payload?.advancedSearchQueries??t).addCase(It,(t,a)=>{const{aq:s,cq:c}=a.payload;Tt(s)||(t.aq=s,t.aqWasSet=!0),Tt(c)||(t.cq=c,t.cqWasSet=!0)})});function x3(e){return e.addReducers({advancedSearchQueries:D3}),{updateAdvancedSearchQueries:M0,registerAdvancedSearchQueries:_0}}const M3=I("excerptLength/set",e=>Y(e,new ye({min:0,required:!0})));function _3(){return{length:void 0}}qe(_3(),e=>{e.addCase(M3,(t,a)=>{t.length=a.payload})});function U3(e){return e.addReducers({fields:Xb}),{registerFieldsToInclude:Nf,enableFetchAllFields:Yb,disableFetchAllFields:$b,fetchFieldsDescription:Gb}}const I3=["title","ec_price","sku","thumbnail_image_desktop_image"],F3=e=>{const t=U3(e);return e.dispatch(t.registerFieldsToInclude(I3)),e},k3=({token:e,organizationId:t})=>{const a=hU({configuration:{accessToken:e,organizationId:t}});return F3(a)},z3=e=>{const t=n3(e),a=NF(e,{options:{field:"source"}}),s=jz(e),c=Az(e,{options:{maxResultsPerQuery:6}}),{updateAdvancedSearchQueries:o}=x3(e);return e.dispatch(o({aq:"@source==variant_myhl_qa AND @is_active==true"})),{searchBox:t,facet:a,resultList:s,instantResults:c}},N3=({token:e,organizationId:t,locale:a,domain:s})=>{const c=Cm.useMemo(()=>k3({token:e,organizationId:t}),[e,t]),{searchBox:o,instantResults:f}=Cm.useMemo(()=>z3(c),[c]);return Ke.jsx("main",{className:"p-4 bg-white",children:Ke.jsx(J1,{controller:o,instantResults:f,locale:a,domain:s})})};window.renderMyWidget=(e,t)=>{const a=document.getElementById(e);if(!a){console.error("No existe el div donde montar el widget:",e);return}L1.createRoot(a).render(Ke.jsx(N3,{...t}))}})();
